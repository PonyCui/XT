!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=25)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Began=0]="Began",t[t.Changed=1]="Changed",t[t.Ended=2]="Ended",t[t.Cancelled=3]="Cancelled"}(n=e.InteractionState||(e.InteractionState={}));var r;!function(t){t[t.ToLeft=0]="ToLeft",t[t.ToRight=1]="ToRight",t[t.ToTop=2]="ToTop",t[t.ToBottom=3]="ToBottom"}(r=e.SwipeDirection||(e.SwipeDirection={}));var o=function(){function t(t){}return t.prototype.tintColorDidChange=function(){},t.prototype.removeFromSuperview=function(){},t.prototype.insertSubviewAtIndex=function(t,e){},t.prototype.exchangeSubviewAtIndex=function(t,e){},t.prototype.addSubview=function(t){},t.prototype.insertSubviewBelow=function(t,e){},t.prototype.insertSubviewAbove=function(t,e){},t.prototype.bringSubviewToFront=function(t){},t.prototype.sendSubviewToBack=function(t){},t.prototype.didAddSubview=function(t){},t.prototype.willRemoveSubview=function(t){},t.prototype.willMoveToSuperview=function(t){},t.prototype.didMoveToSuperview=function(){},t.prototype.willMoveToWindow=function(t){},t.prototype.didMoveToWindow=function(){},t.prototype.isDescendantOfView=function(t){return!1},t.prototype.viewWithTag=function(t){},t.prototype.setNeedsLayout=function(){},t.prototype.layoutIfNeeded=function(){},t.prototype.layoutSubviews=function(){},t.prototype.addConstraint=function(t){},t.prototype.addConstraints=function(t){},t.prototype.removeConstraint=function(t){},t.prototype.removeAllConstraints=function(){},t.prototype.animationWithDuration=function(t,e,i){},t.prototype.animationWithBouncinessAndSpeed=function(t,e,i,n){},t.InteractionState=n,t.SwipeDirection=r,t}();e.View=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(4);e.RectMake=n.RectMake,e.RectZero=n.RectZero,e.RectEqual=n.RectEqual,e.PointMake=n.PointMake,e.PointZero=n.PointZero,e.SizeMake=n.SizeMake,e.SizeZero=n.SizeZero,e.RectInside=n.RectInside,e.PointEqual=n.PointEqual,e.SizeEqual=n.SizeEqual,e.InsetsMake=n.InsetsMake;var r=i(0);e.View=r.View;var o=i(9);e.Window=o.Window;var s=i(10);e.Application=s.Application,e.ApplicationDelegate=s.ApplicationDelegate;var a=i(5);e.Color=a.Color;var l=i(7);e.Screen=l.Screen;var u=i(11);e.TransformMatrix=u.TransformMatrix;var c=i(12);e.LayoutConstraint=c.LayoutConstraint;var h=i(13);e.Label=h.Label,e.TextAlignment=h.TextAlignment,e.TextVerticalAlignment=h.TextVerticalAlignment,e.LineBreakMode=h.LineBreakMode;var f=i(14);e.Font=f.Font;var d=i(15);e.Button=d.Button;var p=i(16);e.ImageView=p.ImageView,e.Image=p.Image,e.ContentMode=p.ContentMode,e.RenderingMode=p.RenderingMode;var _=i(17);e.ScrollView=_.ScrollView;var g=i(41);e.ListView=g.ListView,e.ListCell=g.ListCell},function(t,e,i){function n(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(27);var o=i(28);e.setImmediate=o.setImmediate,e.clearImmediate=o.clearImmediate},function(t,e,i){"use strict";(function(t,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var s=i(1),a=i(6),l=i(29),u=window.PIXI,c=i(21),h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;void 0===h&&(h=function(t){setTimeout(t,16)});var f=function(e){function i(t){var n=e.call(this,t||s.RectZero)||this;return n._frame=s.RectZero,n._frameChanged=!1,n._forceRender=!1,n._bounds=s.RectZero,n._clipsToBounds=!1,n._backgroundColor=void 0,n._opaque=!1,n._tintColor=new s.Color(0,122/255,1),n._cornerRadius=0,n._borderWidth=0,n._borderColor=void 0,n.layoutTimer=void 0,n._layoutID=i.generateLayoutUD(),n._constraints=[],n.longPressDuration=250,n._userInteractionEnabled=!1,n._isTapActived=!1,n._isTouchActived=!1,n._maybeTap=!1,n._maybeLongPress=!1,n._maybePan=!1,n._isLongPress=!1,n._isPan=!1,n._firstTapped=!1,n._firstTapPoint={x:0,y:0},n._secondTapped=!1,n._animationProps={},n.nativeObject=new u.Container,n.nativeObject.XTView=n,n.nativeGraphics=new u.Graphics,n.nativeObject.addChild(n.nativeGraphics),n.nativeContainer=new u.Container,n.nativeObject.addChild(n.nativeContainer),"object"==typeof t&&(n.frame=t),n}return r(i,e),Object.defineProperty(i.prototype,"frame",{get:function(){return this._frame},set:function(t){if(!s.RectEqual(this._frame,t)){if(i._animationEnabled)return this._frame.x!=t.x&&i.addAnimation(this,"frameX",this._frame.x,t.x),this._frame.y!=t.y&&i.addAnimation(this,"frameY",this._frame.y,t.y),this._frame.width!=t.width&&i.addAnimation(this,"frameWidth",this._frame.width,t.width),void(this._frame.height!=t.height&&i.addAnimation(this,"frameHeight",this._frame.height,t.height));this._frame=t,this._frameChanged=!0,this.bounds={x:0,y:0,width:t.width,height:t.height},this.nativeObject.hitArea=new u.Rectangle(0,0,s.Screen.withScale(t.width),s.Screen.withScale(t.height)),this.nativeContainer.hitArea=this.nativeObject.hitArea,this.nativeObject.x=s.Screen.withScale(t.x),this.nativeObject.y=s.Screen.withScale(t.y),a.setNeedsDisplay(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameX",{set:function(t){this.frame=o({},this.frame,{x:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameY",{set:function(t){this.frame=o({},this.frame,{y:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameWidth",{set:function(t){this.frame=o({},this.frame,{width:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameHeight",{set:function(t){this.frame=o({},this.frame,{height:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bounds",{get:function(){return this._bounds},set:function(t){if(!s.RectEqual(this._bounds,t)){if(i._animationEnabled)return this._bounds.x!=t.x&&i.addAnimation(this,"boundsX",this._bounds.x,t.x),this._bounds.y!=t.y&&i.addAnimation(this,"boundsY",this._bounds.y,t.y),this._bounds.width!=t.width&&i.addAnimation(this,"boundsWidth",this._bounds.width,t.width),void(this._bounds.height!=t.height&&i.addAnimation(this,"boundsHeight",this._bounds.height,t.height));this._bounds=t,this.applyMask(),this.draw(),a.setNeedsDisplay(this),this.setNeedsLayout()}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"boundsX",{set:function(t){this.bounds=o({},this.bounds,{x:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"boundsY",{set:function(t){this.bounds=o({},this.bounds,{y:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"boundsWidth",{set:function(t){this.bounds=o({},this.bounds,{width:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"boundsHeight",{set:function(t){this.bounds=o({},this.bounds,{height:t})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"center",{get:function(){return{x:this.frame.x+this.frame.width/2,y:this.frame.y+this.frame.height/2}},set:function(t){var e=this.frame;e.x=t.x-e.width/2,e.y=t.y-e.height/2,this.frame=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"transform",{get:function(){return this._transform},set:function(t){if(this._transform=t,t){var e=new u.Transform,i=new u.Matrix;i.fromArray([t.a,t.b,t.tx,t.c,t.d,t.ty]),e.setFromMatrix(i),this.nativeObject.setTransform(this.frame.x,this.frame.y,e.scale.x,e.scale.y,e.rotation,e.skew.x,e.skew.y,e.pivot.x,e.pivot.y)}else this.nativeObject.setTransform(this.frame.x,this.frame.y,1,1,0,0,0,0,0);a.setNeedsDisplay(this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clipsToBounds",{get:function(){return this._clipsToBounds},set:function(t){this._clipsToBounds=t,this.applyMask()},enumerable:!0,configurable:!0}),i.prototype.applyMask=function(){this.clipsToBounds?(void 0===this.maskView?(this.maskView=new i(this.bounds),this.maskView.backgroundColor=new s.Color(1,1,1)):(this.maskView.frame=this.bounds,this.maskView.removeFromSuperview()),this.addSubview(this.maskView),this.nativeObject.mask=this.maskView.nativeGraphics):(void 0!==this.maskView&&this.maskView.removeFromSuperview(),this.nativeObject.mask=void 0),a.setNeedsDisplay(this)},Object.defineProperty(i.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){if(!(this._backgroundColor instanceof s.Color&&this._backgroundColor.equals(t))){if(i._animationEnabled&&this._backgroundColor&&t)return this._backgroundColor.a!=t.a&&i.addAnimation(this,"backgroundColorA",this._backgroundColor.a,t.a),this._backgroundColor.r!=t.r&&i.addAnimation(this,"backgroundColorR",this._backgroundColor.r,t.r),this._backgroundColor.g!=t.g&&i.addAnimation(this,"backgroundColorG",this._backgroundColor.g,t.g),void(this._backgroundColor.b!=t.b&&i.addAnimation(this,"backgroundColorB",this._backgroundColor.b,t.b));this._backgroundColor=t,this.draw(),a.setNeedsDisplay(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColorA",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColorR",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(t,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColorG",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(this.backgroundColor.r,t,this.backgroundColor.b,this.backgroundColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"backgroundColorB",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(this.backgroundColor.r,this.backgroundColor.g,t,this.backgroundColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"opaque",{get:function(){return!0===this._opaque||(!!(this.backgroundColor&&this.backgroundColor.a>=1&&!this.hidden&&this.alpha>=1&&0==this.cornerRadius)||this._opaque)},set:function(t){this._opaque=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{get:function(){return this.nativeObject.alpha},set:function(t){if(this.nativeObject.alpha!==t){if(i._animationEnabled)return void i.addAnimation(this,"alpha",this.nativeObject.alpha,t);this.nativeObject.alpha=t,a.setNeedsDisplay(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hidden",{get:function(){return!this.nativeObject.visible},set:function(t){this.nativeObject.visible!==!t&&(this.nativeObject.visible=!t,a.setNeedsDisplay(this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskView",{get:function(){return this._maskView},set:function(t){void 0!==this._maskView&&this._maskView.removeFromSuperview(),this._maskView=t,this.applyMask(),a.setNeedsDisplay(this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tintColor",{get:function(){return this._tintColor},set:function(t){this._tintColor instanceof s.Color&&this._tintColor.equals(t)||(this._tintColor=t,this.tintColorDidChange(),a.setNeedsDisplay(this))},enumerable:!0,configurable:!0}),i.prototype.tintColorDidChange=function(){this.subviews.forEach(function(t){t.tintColorDidChange()})},Object.defineProperty(i.prototype,"cornerRadius",{get:function(){return this._cornerRadius},set:function(t){if(this._cornerRadius!==t){if(i._animationEnabled)return void i.addAnimation(this,"cornerRadius",this._cornerRadius,t);this._cornerRadius=t,this.draw(),a.setNeedsDisplay(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){if(this._borderWidth!==t){if(i._animationEnabled)return void i.addAnimation(this,"borderWidth",this._borderWidth,t);this._borderWidth=t,this.draw(),a.setNeedsDisplay(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderColor",{get:function(){return this._borderColor},set:function(t){if(this._borderColor!==t){if(i._animationEnabled&&this._borderColor&&t)return this._borderColor.a!=t.a&&i.addAnimation(this,"borderColorA",this._borderColor.a,t.a),this._borderColor.r!=t.r&&i.addAnimation(this,"borderColorR",this._borderColor.r,t.r),this._borderColor.g!=t.g&&i.addAnimation(this,"borderColorG",this._borderColor.g,t.g),void(this._borderColor.b!=t.b&&i.addAnimation(this,"borderColorB",this._borderColor.b,t.b));this._borderColor=t,this.draw(),a.setNeedsDisplay(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderColorA",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(this.borderColor.r,this.borderColor.g,this.borderColor.b,t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderColorR",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(t,this.borderColor.g,this.borderColor.b,this.borderColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderColorG",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(this.borderColor.r,t,this.borderColor.b,this.borderColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"borderColorB",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(this.borderColor.r,this.borderColor.g,t,this.borderColor.a))},enumerable:!0,configurable:!0}),i.prototype.draw=function(){void 0!==this.nativeGraphics&&0!=this.bounds.width&&0!=this.bounds.height&&(this.nativeGraphics.clear(),this.drawGraphics())},i.prototype.drawGraphics=function(){if(this.backgroundColor instanceof s.Color){this.nativeGraphics.beginFill(this.backgroundColor.rgbHexNumber(),this.backgroundColor.a),this.borderWidth>0&&this.borderColor instanceof s.Color&&this.nativeGraphics.lineStyle(s.Screen.withScale(this.borderWidth),this.borderColor.rgbHexNumber(),this.borderColor.a);var t={x:s.Screen.withScale(this.bounds.x),y:s.Screen.withScale(this.bounds.y),width:s.Screen.withScale(this.bounds.width),height:s.Screen.withScale(this.bounds.height)};this.cornerRadius>0?this.cornerRadius==Math.min(this.bounds.width,this.bounds.height)/2?t.width>t.height?(this.nativeGraphics.drawCircle(t.x+t.height/2,t.y+t.height/2,Math.min(t.width,t.height)/2),this.nativeGraphics.drawCircle(t.x+t.width-t.height/2,t.y+t.height/2,Math.min(t.width,t.height)/2),this.nativeGraphics.drawRect(t.x+t.height/2,t.y,t.width-t.height,t.height)):t.width<t.height?(this.nativeGraphics.drawCircle(t.x+t.width/2,t.y+t.width/2,Math.min(t.width,t.height)/2),this.nativeGraphics.drawCircle(t.x+t.width/2,t.y+t.height-t.width/2,Math.min(t.width,t.height)/2),this.nativeGraphics.drawRect(t.x,t.y+t.width/2,t.width,t.height-t.width)):this.nativeGraphics.drawCircle(t.x+t.width/2,t.y+t.height/2,Math.min(t.width,t.height)/2):this.nativeGraphics.drawRoundedRect(t.x,t.y,t.width,t.height,s.Screen.withScale(this.cornerRadius)):this.nativeGraphics.drawRect(t.x,t.y,t.width,t.height)}},Object.defineProperty(i.prototype,"superview",{get:function(){var t=void 0;if(this.nativeContainer.parent&&this.nativeContainer.parent.parent&&this.nativeContainer.parent.parent.parent&&(t=this.nativeContainer.parent.parent.parent),void 0!==t&&t.XTView instanceof i)return t.XTView},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"subviews",{get:function(){return this.nativeContainer.children.map(function(t){return t.XTView})},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"window",{get:function(){for(var t=this.superview;void 0!==t&&"Window"!==t.XTClassName;)t=t.superview;return t},enumerable:!0,configurable:!0}),i.prototype.removeFromSuperview=function(){void 0!==this.superview&&(this.nativeContainer.parent.XTView.willRemoveSubview(this),this.willMoveToSuperview(void 0),this.willMoveToWindow(void 0),this.nativeObject.parent.removeChild(this.nativeObject),this.didMoveToSuperview(),this.didMoveToWindow(),a.setNeedsDisplay(this))},i.prototype.insertSubviewAtIndex=function(t,e){t.willMoveToSuperview(this),t.willMoveToWindow(this.window),this.nativeContainer.addChildAt(t.nativeObject,e),t.didMoveToSuperview(),t.didMoveToWindow(),a.setNeedsDisplay(this)},i.prototype.exchangeSubviewAtIndex=function(t,e){var i=this.nativeContainer.getChildAt(t),n=this.nativeContainer.getChildAt(e);this.nativeContainer.swapChildren(i,n),a.setNeedsDisplay(this)},i.prototype.addSubview=function(t){t.willMoveToSuperview(this),t.willMoveToWindow(this.window),this.nativeContainer.addChild(t.nativeObject),this.didAddSubview(t),t.didMoveToSuperview(),t.didMoveToWindow(),a.setNeedsDisplay(this)},i.prototype.insertSubviewBelow=function(t,e){var i=this.subviews.indexOf(e);i>=0&&this.insertSubviewAtIndex(t,i)},i.prototype.insertSubviewAbove=function(t,e){var i=this.subviews.indexOf(e);i>=0&&i==this.subviews.length-1?this.addSubview(t):i>=0&&this.insertSubviewAtIndex(t,i+1)},i.prototype.bringSubviewToFront=function(t){var e=this.subviews.indexOf(t);e<this.subviews.length-1&&this.subviews.length>1&&this.exchangeSubviewAtIndex(this.subviews.length-1,e)},i.prototype.sendSubviewToBack=function(t){var e=this.subviews.indexOf(t);e>0&&this.subviews.length>1&&this.exchangeSubviewAtIndex(0,e)},i.prototype.didAddSubview=function(t){},i.prototype.willRemoveSubview=function(t){},i.prototype.willMoveToSuperview=function(t){},i.prototype.didMoveToSuperview=function(){},i.prototype.willMoveToWindow=function(t){},i.prototype.didMoveToWindow=function(){},i.prototype.isDescendantOfView=function(t){for(var e=this;void 0!==e;){if(e===t)return!0;e=e.superview}return!1},i.prototype.viewWithTag=function(t){if(void 0!==this.tag&&this.tag===t)return this;var e=this.subviews.filter(function(e){return e.viewWithTag(t)});return e.length>0?e[0]:void 0},i.prototype.setNeedsLayout=function(){var e=this;void 0!==this.layoutTimer&&t(this.layoutTimer),this.layoutTimer=n(function(){e.layoutSubviews()})},i.prototype.layoutIfNeeded=function(){this.layoutSubviews()},i.prototype.layoutSubviews=function(){if(this._constraints.length>0){var t={};this._constraints.forEach(function(e){void 0!==e.firstItem&&(t[e.firstItem._layoutID]=e.firstItem),void 0!==e.secondItem&&(t[e.secondItem._layoutID]=e.secondItem)});var e=new c.View({constraints:this._constraints.map(function(t){return t.toALObject()}),width:this.bounds.width,height:this.bounds.height});for(var i in e.subViews){var n=e.subViews[i];if((0==n.width||0==n.height)&&void 0!==t[i]){var r=t[i].intrinsicContentSize(0!=n.width?n.width:void 0);void 0!==r&&(n.intrinsicWidth=r.width,n.intrinsicHeight=r.height)}}for(var i in e.subViews){var n=e.subViews[i];if(void 0!==t[i]){if(t[i]==this)continue;t[i].frame={x:n.left,y:n.top,width:n.width,height:n.height}}}}},i.generateLayoutUD=function(){for(var t=[],e="0123456789abcdef",i=0;i<36;i++)t[i]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},Object.defineProperty(i.prototype,"constraints",{get:function(){return[]},enumerable:!0,configurable:!0}),i.prototype.intrinsicContentSize=function(t){},i.prototype.addConstraint=function(t){this._constraints.push(t),this.setNeedsLayout()},i.prototype.addConstraints=function(t){var e=this;t.forEach(function(t){return e._constraints.push(t)}),this.setNeedsLayout()},i.prototype.removeConstraint=function(t){var e=this._constraints.indexOf(t);e>=0&&this._constraints.splice(e,1),this.setNeedsLayout()},i.prototype.removeAllConstraints=function(){this._constraints=[],this.setNeedsLayout()},Object.defineProperty(i.prototype,"userInteractionEnabled",{get:function(){return this._userInteractionEnabled},set:function(t){this._userInteractionEnabled=t,this.nativeObject.interactive=t},enumerable:!0,configurable:!0}),i.prototype.activeTap=function(){var t=this;if(!0!==this._isTapActived&&(void 0!==this._onTap||void 0!==this._onDoubleTap)){this.activeTouch();var e=function(){void 0!==t._onDoubleTap?!0!==t._firstTapped&&!0===t._maybeTap?(t._firstTapped=!0,setTimeout(function(){void 0!==t._onTap&&!1===t._secondTapped&&!0===t._maybeTap&&!1===t._isLongPress&&t._onTap&&t._onTap(),t._firstTapped=!1},250)):!0===t._firstTapped&&!0===t._maybeTap&&(t._secondTapped=!0,!1===t._isLongPress&&t._onDoubleTap&&t._onDoubleTap()):!0===t._maybeTap&&!1===t._isLongPress&&t._onTap&&t._onTap()};this.nativeObject.on("click",e),this.nativeObject.on("tap",e),this._isTapActived=!0}},i.prototype.activeTouch=function(){!0!==this._isTouchActived&&(this.nativeObject.on("pointerdown",this.handleTouchStart.bind(this)),this.nativeObject.on("pointermove",this.handleTouchMove.bind(this)),this.nativeObject.on("pointerup",this.handleTouchEnd.bind(this)),this.nativeObject.on("pointerupoutside",this.handleTouchEnd.bind(this)),this._isTouchActived=!0)},i.prototype.requestTouchPointInView=function(t){for(var e={x:s.Screen.outScale(t.data.global.x),y:s.Screen.outScale(t.data.global.y)},i={x:e.x,y:e.y},n=this;void 0!==n.superview;)i.x-=n.frame.x,i.y-=n.frame.y,n=n.superview;return i},i.prototype.requestTouchPointInWindow=function(t){return{x:s.Screen.outScale(t.data.global.x),y:s.Screen.outScale(t.data.global.y)}},i.prototype.handleTouchStart=function(t){var e=this;void 0!==this._onPan&&(this._maybePan=!0,this._isPan=!1),void 0!==this._onLongPress&&(this._maybeLongPress=!0,this._isLongPress=!1,setTimeout(function(){!0===e._maybeLongPress&&(e._isLongPress=!0,e._onLongPress&&e._onLongPress(s.View.InteractionState.Began))},this.longPressDuration)),void 0===this._onTap&&void 0===this._onDoubleTap||(this._maybeTap=!0,this._firstTapPoint=o({},t.data.global),this._secondTapped=!1)},i.prototype.handleTouchMove=function(t){!0===this._isLongPress?(this._maybePan=!1,this._onLongPress&&this._onLongPress(s.View.InteractionState.Changed,this.requestTouchPointInView(t),this.requestTouchPointInWindow(t))):!0===this._isPan?this._onPan&&this._onPan(s.View.InteractionState.Changed,this.requestTouchPointInView(t),this.requestTouchPointInWindow(t)):!0===this._maybePan?(t.data.global.x-this._firstTapPoint.x>s.Screen.withScale(8)||t.data.global.y-this._firstTapPoint.y>s.Screen.withScale(8))&&(this._isPan=!0,this._maybeTap=!1,this._maybeLongPress=!1,this._onPan&&this._onPan(s.View.InteractionState.Began,this.requestTouchPointInView(t),this.requestTouchPointInWindow(t))):!0!==this._maybeTap&&!0!==this._maybeLongPress||(t.data.global.x-this._firstTapPoint.x>s.Screen.withScale(12)||t.data.global.y-this._firstTapPoint.y>s.Screen.withScale(12))&&(this._maybeTap=!1,this._maybeLongPress=!1)},i.prototype.handleTouchEnd=function(t){!0!==this._isLongPress&&(this._maybeLongPress=!1),!0===this._isPan?(this._onPan&&this._onPan(s.View.InteractionState.Ended,this.requestTouchPointInView(t),this.requestTouchPointInWindow(t)),this._maybePan=!1,this._isPan=!1):!0===this._isLongPress&&(this._onLongPress&&this._onLongPress(s.View.InteractionState.Ended,this.requestTouchPointInView(t),this.requestTouchPointInWindow(t)),this._maybeTap=!1,this._isLongPress=!1)},Object.defineProperty(i.prototype,"onTap",{set:function(t){this._onTap=t,this.activeTap()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"onDoubleTap",{set:function(t){this._onDoubleTap=t,this.activeTap()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"onLongPress",{set:function(t){this._onLongPress=t,this.activeTouch()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"onPan",{set:function(t){this._onPan=t,this.activeTouch()},enumerable:!0,configurable:!0}),i.commonAnimation=function(t,e){i._animationEnabled=!0,t();var n=[];i._animationViews.forEach(function(t){for(var e in t._animationProps){var i=t._animationProps[e];n.push({view:t,propName:e,from:i.from,to:i.to})}t._animationProps={}});var r=performance.now(),o=function(){a.displayPause(),e(r,n)||h(o),a.displayNow()};o(),i._animationViews=[],i._animationEnabled=!1},i.animationWithDuration=function(t,e,i){this.commonAnimation(e,function(e,n){var r=performance.now(),o=r-e;return n.forEach(function(e){var i=(e.to-e.from)*Math.min(1,o/(1e3*t));e.view[e.propName]=e.from+i}),!(o<1e3*t)&&(i&&i(),!0)})},i.animationWithBouncinessAndSpeed=function(t,e,i,n){var r=new l.SpringSystem,o=!1;this.commonAnimation(i,function(i,s){return s.forEach(function(i){var s=r.createSpringWithBouncinessAndSpeed(t,e);s.addListener({onSpringUpdate:function(t){i.view[i.propName]=t.getCurrentValue()},onSpringAtRest:function(){o||(o=!0,n&&n())}}),s.setCurrentValue(i.from),s.setEndValue(i.to)}),!0})},i.addAnimation=function(t,e,n,r){i._animationViews.indexOf(t)<0&&i._animationViews.push(t),t._animationProps[e]={from:n,to:r}},i._animationEnabled=!1,i._animationViews=[],i}(s.View);e.View=f}).call(e,i(2).clearImmediate,i(2).setImmediate)},function(t,e,i){"use strict";function n(t,e){return{x:t,y:e}}function r(t,e){return t.x===e.x&&t.y===e.y}function o(t,e){return{width:t,height:e}}function s(t,e){return t.width===e.width&&t.height===e.height}function a(t,e,i,n){return{x:t,y:e,width:i,height:n}}function l(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function u(t,e){return e.x>t.x&&e.x+e.width<t.x+t.width&&e.y>t.y&&e.y+e.height<t.y+t.height}function c(t,e,i,n){return{top:t,left:e,bottom:i,right:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.PointMake=n,e.PointEqual=r,e.PointZero=n(0,0),e.SizeMake=o,e.SizeEqual=s,e.SizeZero=o(0,0),e.RectMake=a,e.RectZero=a(0,0,0,0),e.RectEqual=l,e.RectInside=u,e.InsetsMake=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n){this.r=Math.min(1,Math.max(0,t)),this.g=Math.min(1,Math.max(0,e)),this.b=Math.min(1,Math.max(0,i)),this.a=void 0==n?1:Math.min(1,Math.max(0,n))}return t.prototype.rgbHexNumber=function(){var t=Math.ceil(255*this.r).toString(16),e=Math.ceil(255*this.g).toString(16),i=Math.ceil(255*this.b).toString(16);return parseInt("0x"+(t.length<2?"0"+t:t)+(e.length<2?"0"+e:e)+(i.length<2?"0"+i:i))},t.prototype.rgbHexString=function(){var t=Math.ceil(255*this.r).toString(16),e=Math.ceil(255*this.g).toString(16),i=Math.ceil(255*this.b).toString(16);return"#"+(t.length<2?"0"+t:t)+(e.length<2?"0"+e:e)+(i.length<2?"0"+i:i)},t.prototype.equals=function(e){return e instanceof t&&(this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a)},t}();e.Color=n},function(t,e,i){"use strict";function n(t,e){void 0===e&&(e=!1),void 0!==c&&!1===p&&(t._forceRender=e,c.setNeedsDisplay(t))}function r(t){_>t+performance.now()||(_=t+performance.now(),clearTimeout(this.displayIntervalTimer),void 0!==c&&(c.nativeObject.start(),this.displayIntervalTimer=setTimeout(function(){void 0!==c&&c.nativeObject.stop()},t)))}function o(){p=!0}function s(){p=!1,void 0!==c&&c.displayNow()}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var l=i(1),u=window.PIXI,c=void 0,h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;void 0===h&&(h=function(t){setTimeout(t,16)});var f=0,d=function(t){function e(i,n){var r=t.call(this)||this;if(r.keyWindow=void 0,r.isDirty=!1,r.dirtyTargets=[],void 0===c){c=r;var o=Math.ceil(window.devicePixelRatio);l.Screen.mainScreen=function(){return new l.Screen(i.offsetWidth,i.offsetHeight,o)}}return e.resetCanvas(i,function(){if(r.nativeObject=new u.Application({width:l.Screen.withScale(i.offsetWidth),height:l.Screen.withScale(i.offsetHeight),view:i,antialias:!0,transparent:!1}),r.nativeObject.stop(),!0===window.DEBUG){window.nativeObject=r.nativeObject;var t=0;r.nativeObject.renderer.on("prerender",function(){t=performance.now()}),r.nativeObject.renderer.on("postrender",function(){console.log("[PIXI]: Render Time > "+(performance.now()-t)),console.log("[PIXI]: Display Time > "+(performance.now()-f))})}r.delegate=n,r.delegate&&r.delegate.applicationDidFinishLaunchingWithOptions(r,{})}),r}return a(e,t),e.resetCanvas=function(t,e){t.style.width="375",t.style.height=document.body.offsetHeight.toString(),setTimeout(e)},e.sharedApplication=function(){return c},e.prototype.remarkRenderable=function(){if(void 0!==this.keyWindow)for(var t=this.combineViews(this.keyWindow,{x:0,y:0}),e=[],i=t.length-1;i>=0;i--)!function(i){var n=t[i];if(!0===n._childRenderable)return n.nativeObject.renderable=!0,"continue";if(void 0!==n.transform?n.nativeObject.renderable=!0:0==e.filter(function(t){return l.RectInside(t,n._absRect)}).length?(!0===n.opaque&&e.push(n._absRect),n.nativeObject.renderable=!0):n.nativeObject.renderable=!1,!0===n.nativeObject.renderable)for(var r=n.superview;void 0!==r;)r._childRenderable=!0,r=r.superview}(i)},e.prototype.combineViews=function(t,e){var i=this,n=t.subviews;return t.subviews.forEach(function(i){i._absRect={x:e.x+i.frame.x,y:e.y+i.frame.y,width:e.x+i.frame.width,height:e.y+i.frame.height},t._childRenderable=!1,t._frameChanged=!1}),t.subviews.forEach(function(t){i.combineViews(t,{x:e.x+t.frame.x,y:e.y+t.frame.y}).forEach(function(t){n.push(t)})}),n},e.prototype.setNeedsDisplay=function(t){var e=this;this.dirtyTargets.indexOf(t)<0&&this.dirtyTargets.push(t),!0!==this.isDirty&&(this.isDirty=!0,h(function(){if(window.DEBUG&&(f=performance.now()),0==e.dirtyTargets.filter(function(t){return t._forceRender||t._frameChanged||t.nativeObject.renderable}).length)return e.dirtyTargets.forEach(function(t){t._frameChanged=!1,t._forceRender=!1}),e.dirtyTargets=[],void(e.isDirty=!1);e.remarkRenderable();for(var t=!1,i=0;i<e.dirtyTargets.length;i++){if(!0===e.dirtyTargets[i].nativeObject.renderable){t=!0;break}}t&&e.nativeObject.render(),e.dirtyTargets=[],e.isDirty=!1}))},e.prototype.displayNow=function(){window.DEBUG&&(f=performance.now()),this.remarkRenderable(),this.nativeObject.render(),this.dirtyTargets=[]},e}(l.Application);e.Application=d;var p=!1;e.setNeedsDisplay=n;var _=0;e.displayInterval=r,e.displayPause=o,e.displayNow=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.width=t,this.height=e,this.scale=i}return t.prototype.bounds=function(){return{x:0,y:0,width:this.width,height:this.height}},t.withScale=function(e){return e*t.mainScreen().scale},t.outScale=function(e){return e/t.mainScreen().scale},t.mainScreen=function(){return new t(0,0,1)},t}();e.Screen=n},function(t,e,i){"use strict";function n(){}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=function(){function t(){}return t.PointMake=r.PointMake,t.PointEqual=r.PointEqual,t.PointZero=r.PointZero,t.RectMake=r.RectMake,t.RectZero=r.RectZero,t.RectEqual=r.RectEqual,t.RectInside=r.RectInside,t.SizeMake=r.SizeMake,t.SizeZero=r.SizeZero,t.SizeEqual=r.SizeEqual,t.Label=r.Label,t.TextAlignment=r.TextAlignment,t.TextVerticalAlignment=r.TextVerticalAlignment,t.LineBreakMode=r.LineBreakMode,t.Font=r.Font,t.View=r.View,t.Application=r.Application,t.ApplicationDelegate=r.ApplicationDelegate,t.Window=r.Window,t.Color=r.Color,t.Screen=r.Screen,t.TransformMatrix=r.TransformMatrix,t.LayoutConstraint=r.LayoutConstraint,t.Button=r.Button,t.ImageView=r.ImageView,t.Image=r.Image,t.ContentMode=r.ContentMode,t.RenderingMode=r.RenderingMode,t.InsetsMake=r.InsetsMake,t.ScrollView=r.ScrollView,t.ListView=r.ListView,t.ListCell=r.ListCell,t}();e.Factory=o,e.SwitchFactory=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.makeKeyAndVisible=function(){},e}(r.View);e.Window=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.applicationDidFinishLaunchingWithOptions=function(t,e){},t}();e.ApplicationDelegate=n;var r=function(){function t(){}return t.prototype.sharedApplication=function(){throw"NOT IMPLEMENT!"},t}();e.Application=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n,r,o){this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=o}return t}();e.TransformMatrix=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Const=0]="Const",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Top=3]="Top",t[t.Bottom=4]="Bottom",t[t.Width=7]="Width",t[t.Height=8]="Height",t[t.CenterX=9]="CenterX",t[t.CenterY=10]="CenterY"}(n=e.Attribute||(e.Attribute={}));var r;!function(t){t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater"}(r=e.Relation||(e.Relation={}));var o=function(){function t(t,e,i,n,o,s,a){void 0===s&&(s=0),void 0===a&&(a=1),this.relation=r.Equal,this.constant=0,this.multiplier=1,this.priority=750,this.firstItem=t,this.firstAttr=e,this.relation=i||r.Equal,this.secondItem=n,this.secondAttr=o,this.constant=s,this.multiplier=a}return t.constraintsWithVisualFormat=function(t,e){return[]},t.Attribute=n,t.Relation=r,t}();e.LayoutConstraint=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(0),s=i(5),a=i(4);!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(r=e.TextAlignment||(e.TextAlignment={}));!function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(e.TextVerticalAlignment||(e.TextVerticalAlignment={}));var l;!function(t){t[t.WordWrapping=0]="WordWrapping",t[t.TruncatingTail=4]="TruncatingTail"}(l=e.LineBreakMode||(e.LineBreakMode={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textColor=new s.Color(0,0,0),e.textAlignment=r.Left,e.numberOfLines=1,e.lineBreakMode=l.WordWrapping,e.lineSpace=12,e}return n(e,t),e.prototype.textRectForBounds=function(t){return a.RectZero},e}(o.View);e.Label=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n){void 0===e&&(e="400"),void 0===i&&(i="normal"),this.fontWeight="400",this.fontStyle="normal",this.pointSize=t,this.fontWeight=e,this.fontStyle=i,this.familyName=n}return t.systemFontOfSize=function(e,i){return void 0===i&&(i="400"),new t(e,i)},t.boldSystemFontOfSize=function(e){return new t(e,"700")},t.italicSystemFontOfSize=function(e){return new t(e,"400","italic")},t}();e.Font=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(r.View);e.Button=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(0);!function(t){t[t.Original=0]="Original",t[t.Template=1]="Template"}(r=e.RenderingMode||(e.RenderingMode={}));var s=function(){function t(){this.renderingMode=r.Original}return t.fromURL=function(t,e,i){},t.fromAssets=function(t,e,i){},t.fromAssetsWithScales=function(t,e,i,n){},t.prototype.imageWithRenderingMode=function(t){throw"TODO"},t.assetsPath="./assets/",t}();e.Image=s;var a;!function(t){t[t.ScaleToFill=0]="ScaleToFill",t[t.ScaleAspectFit=1]="ScaleAspectFit",t[t.ScaleAspectFill=2]="ScaleAspectFill"}(a=e.ContentMode||(e.ContentMode={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentMode=a.ScaleToFill,e}return n(e,t),e}(o.View);e.ImageView=l},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDirectionalLockEnabled=!0,e.bounces=!0,e.isScrollEnabled=!0,e.showsHorizontalScrollIndicator=!0,e.showsVerticalScrollIndicator=!0,e.alwaysBounceVertical=!1,e.alwaysBounceHorizontal=!1,e}return n(e,t),e}(r.View);e.ScrollView=o},function(t,e,i){"use strict";function n(){o.usePixi()}var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(26),s=i(8),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(s.Factory);e.Factory=a,e.SwitchFactory=n},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){_&&d&&(_=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!_){var t=r(s);_=!0;for(var e=p.length;e;){for(d=p,p=[];++g<e;)d&&d[g].run();g=-1,e=p.length}d=null,_=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(t){c=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var d,p=[],_=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||_||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,i){var n,n;!function(e){t.exports=e()}(function(){return function t(e,i,r){function o(a,l){if(!i[a]){if(!e[a]){var u="function"==typeof n&&n;if(!l&&u)return n(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){var i=e[a][1][t];return o(i||t)},h,h.exports,t,e,i,r)}return i[a].exports}for(var s="function"==typeof n&&n,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){t.equalSpacerIndex=t.equalSpacerIndex||1;var i="_~"+t.lineIndex+":"+t.equalSpacerIndex+"~";t.equalSpacerIndex>1&&t.constraints.push({view1:"_~"+t.lineIndex+":1~",attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||v.EQU,view2:i,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority}),t.equalSpacerIndex++,t.relation.view||t.relation.multiplier&&1!==t.relation.multiplier?(t.constraints.push({view1:i,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||v.EQU,view2:t.relation.view,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0):t.relation.constant&&(t.constraints.push({view1:i,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:v.EQU,view2:null,attr2:g.CONST,priority:t.relation.priority,constant:t.relation.constant}),t.relation.constant=void 0);for(var n=0;n<t.prevViews.length;n++){var r=t.prevViews[n];switch(t.orientation){case w.HORIZONTAL:t.prevAttr=r!==e?g.RIGHT:g.LEFT,t.curAttr=g.LEFT;break;case w.VERTICAL:t.prevAttr=r!==e?g.BOTTOM:g.TOP,t.curAttr=g.TOP;break;case w.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=r!==e?"default":0}t.constraints.push({view1:r,attr1:t.prevAttr,relation:t.relation.relation,view2:i,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[i]}function o(t,e){t.proportionalSpacerIndex=t.proportionalSpacerIndex||1;var i="_-"+t.lineIndex+":"+t.proportionalSpacerIndex+"-";t.proportionalSpacerIndex++,t.constraints.push({view1:i,attr1:t.horizontal?g.WIDTH:g.HEIGHT,relation:t.relation.relation||v.EQU,view2:t.relation.view,attr2:t.horizontal?g.WIDTH:g.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0;for(var n=0;n<t.prevViews.length;n++){var r=t.prevViews[n];switch(t.orientation){case w.HORIZONTAL:t.prevAttr=r!==e?g.RIGHT:g.LEFT,t.curAttr=g.LEFT;break;case w.VERTICAL:t.prevAttr=r!==e?g.BOTTOM:g.TOP,t.curAttr=g.TOP;break;case w.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=r!==e?"default":0}t.constraints.push({view1:r,attr1:t.prevAttr,relation:t.relation.relation,view2:i,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[i]}function s(t,e,i){for(var n=void 0,r=1;r<=4;r*=2)if(i.orientations&r&&i.stack.orientation!==r&&!(i.stack.processedOrientations&r)){i.stack.processedOrientations=i.stack.processedOrientations|r,n=n||{name:e,type:"stack"};for(var o=0,s=i.stack.subViews.length;o<s;o++)r===w.ZINDEX?t.constraints.push({view1:n,attr1:g.ZINDEX,relation:v.EQU,view2:i.stack.subViews[o],attr2:g.ZINDEX}):(t.constraints.push({view1:n,attr1:r===w.VERTICAL?g.HEIGHT:g.WIDTH,relation:v.EQU,view2:i.stack.subViews[o],attr2:r===w.VERTICAL?g.HEIGHT:g.WIDTH}),t.constraints.push({view1:n,attr1:r===w.VERTICAL?g.TOP:g.LEFT,relation:v.EQU,view2:i.stack.subViews[o],attr2:r===w.VERTICAL?g.TOP:g.LEFT}))}}function a(t,e){if(!0===e&&(e=t.match(/\.\.\d+$/))&&(t=t.substring(0,t.length-e[0].length),e=parseInt(e[0].substring(2))),!e)return[t];var i,n=t.match(/\d+$/),r=[];if(n)for(t=t.substring(0,t.length-n[0].length),i=parseInt(n);i<=e;i++)r.push(t+i);else for(r.push(t),i=2;i<=e;i++)r.push(t+i);return r}function l(t,e,i){var n=i?i.view:null,u=[],c=[],h=void 0;n&&(e.push({view:n}),c.push(n));for(var f=0;f<e.length;f++){var d=e[f];if(!Array.isArray(d)&&d.hasOwnProperty("view")||Array.isArray(d)&&d[0].view&&!d[0].relation)for(var p=Array.isArray(d)?d:[d],_=0;_<p.length;_++){d=p[_];for(var v=","===d?[]:d.view?a(d.view,d.range):[null],m=0;m<v.length;m++){var b=v[m];if(c.push(b),b!==n&&(u.push(b),h=t.subViews[b],h||(h={orientations:0},t.subViews[b]=h),h.orientations=h.orientations|t.orientation,h.stack&&s(t,b,h)),void 0!==t.prevViews&&void 0!==b&&t.relation&&"none"!==t.relation.relation)for(var y=0;y<t.prevViews.length;y++){var S=t.prevViews[y];switch(t.orientation){case w.HORIZONTAL:t.prevAttr=S!==n?g.RIGHT:g.LEFT,t.curAttr=b!==n?g.LEFT:g.RIGHT;break;case w.VERTICAL:t.prevAttr=S!==n?g.BOTTOM:g.TOP,t.curAttr=b!==n?g.TOP:g.BOTTOM;break;case w.ZINDEX:t.prevAttr=g.ZINDEX,t.curAttr=g.ZINDEX,t.relation.constant=S?t.relation.constant||"default":0}t.constraints.push({view1:S,attr1:t.prevAttr,relation:t.relation.relation,view2:b,attr2:t.curAttr,multiplier:t.relation.multiplier,constant:"default"!==t.relation.constant&&t.relation.constant?-t.relation.constant:t.relation.constant,priority:t.relation.priority})}var x=d.constraints;if(x)for(var A=0;A<x.length;A++)t.prevAttr=t.horizontal?g.WIDTH:g.HEIGHT,t.curAttr=x[A].view||x[A].multiplier?x[A].attribute||t.prevAttr:x[A].variable?g.VARIABLE:g.CONST,t.constraints.push({view1:b,attr1:t.prevAttr,relation:x[A].relation,view2:x[A].view,attr2:t.curAttr,multiplier:x[A].multiplier,constant:x[A].constant,priority:x[A].priority});d.cascade&&l(t,d.cascade,d)}}else","!==d&&(t.prevViews=c,c=[],t.relation=d[0],void 0!==t.prevViews&&(t.relation.equalSpacing&&r(t,n),t.relation.multiplier&&o(t,n)))}if(n){if(h=t.subViews[n]){if(h.stack){var C=new Error('A stack named "'+n+'" has already been created');throw C.column=i.$parserOffset+1,C}}else h={orientations:t.orientation},t.subViews[n]=h;h.stack={orientation:t.orientation,processedOrientations:t.orientation,subViews:u},s(t,n,h)}}function u(t,e){var i=new _.Variable({value:e});return this._solver.addConstraint(new _.StayConstraint(i,_.Strength.required,0)),i}function c(t){return t?t.name?(this._subViews[t.name]=this._subViews[t.name]||new A({name:t.name,solver:this._solver}),this._subViews[t.name]._type=this._subViews[t.name]._type||t.type,this._subViews[t.name]):(this._subViews[t]=this._subViews[t]||new A({name:t,solver:this._solver}),this._subViews[t]):this._parentSubView}function h(t){var e=4;if(t.view1||"left"!==t.attr1)if(t.view1||"top"!==t.attr1)if(t.view2||"right"!==t.attr2)if(t.view2||"bottom"!==t.attr2)switch(t.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":e=4;break;case"zIndex":e=6;break;default:e=5}else e=2;else e=1;else e=0;else e=3;return this._spacingVars=this._spacingVars||new Array(7),this._spacingExpr=this._spacingExpr||new Array(7),this._spacingVars[e]||(this._spacingVars[e]=new _.Variable,this._solver.addEditVar(this._spacingVars[e]),this._spacingExpr[e]=_.minus(0,this._spacingVars[e]),this._solver.suggestValue(this._spacingVars[e],this._spacing[e])),this._spacingExpr[e]}function f(t){var e=void 0,i=void 0!==t.multiplier?t.multiplier:1,n=void 0!==t.constant?t.constant:0;"default"===n&&(n=h.call(this,t));var r=c.call(this,t.view1)._getAttr(t.attr1),o=void 0;t.attr2===g.CONST?o=u.call(this,void 0,t.constant):(o=c.call(this,t.view2)._getAttr(t.attr2),1!==i&&n?o=_.plus(_.times(o,i),n):n?o=_.plus(o,n):1!==i&&(o=_.times(o,i)));var s=void 0!==t.priority&&t.priority<1e3?new _.Strength("priority",0,t.priority,1e3):C;switch(t.relation){case v.EQU:e=new _.Equation(r,o,s);break;case v.GEQ:e=new _.Inequality(r,_.GEQ,o,s);break;case v.LEQ:e=new _.Inequality(r,_.LEQ,o,s);break;default:throw"Invalid relation specified: "+t.relation}this._solver.addConstraint(e)}function d(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var i=0;i<7;i++)if(t[i]!==e[i])return!1;return!0}var p=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_=t("cassowary/bin/c"),g={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY",ZINDEX:"zIndex"},v={LEQ:"leq",EQU:"equ",GEQ:"geq"},m={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250},b=function(){function t(t,e,i,n,r,o){this.message=t,this.expected=e,this.found=i,this.offset=n,this.line=r,this.column=o,this.name="SyntaxError"}function e(e){function i(){return Mt}function n(t){return Lt!==t&&(Lt>t&&(Lt=0,Rt={line:1,column:1,seenCR:!1}),function(t,i,n){var r,o;for(r=i;r<n;r++)o=e.charAt(r),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Rt,Lt,t),Lt=t),Rt}function r(t){It<Pt||(It>Pt&&(Pt=It,jt=[]),jt.push(t))}function o(i,r,o){var s=n(o),a=o<e.length?e.charAt(o):null;return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==i?i:function(t,e){var i,n,r,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=t[r].description;return i=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+i+" but "+n+" found."}(r,a),r,a,o,s.line,s.column)}function s(){var t,i,n,o,s,h,f,d;if(t=It,i=It,n=a(),n!==A?(58===e.charCodeAt(It)?(o=O,It++):(o=A,0===kt&&r(I)),o!==A?(n=[n,o],i=n):(It=i,i=V)):(It=i,i=V),i===A&&(i=E),i!==A)if(n=It,o=l(),o!==A?(s=c(),s!==A?(o=[o,s],n=o):(It=n,n=V)):(It=n,n=V),n===A&&(n=E),n!==A)if((o=u())!==A){for(s=[],h=It,f=c(),f!==A?(d=u(),d!==A?(f=[f,d],h=f):(It=h,h=V)):(It=h,h=V);h!==A;)s.push(h),h=It,f=c(),f!==A?(d=u(),d!==A?(f=[f,d],h=f):(It=h,h=V)):(It=h,h=V);s!==A?(h=It,f=c(),f!==A?(d=l(),d!==A?(f=[f,d],h=f):(It=h,h=V)):(It=h,h=V),h===A&&(h=E),h!==A?(Mt=t,i=M(i,n,o,s,h),t=i):(It=t,t=V)):(It=t,t=V)}else It=t,t=V;else It=t,t=V;else It=t,t=V;return t}function a(){var t,i;return t=It,72===e.charCodeAt(It)?(i=L,It++):(i=A,0===kt&&r(R)),i===A&&(86===e.charCodeAt(It)?(i=P,It++):(i=A,0===kt&&r(j))),i!==A&&(Mt=t,i=k(i)),t=i}function l(){var t,i;return t=It,124===e.charCodeAt(It)?(i=z,It++):(i=A,0===kt&&r(F)),i!==A&&(Mt=t,i=D()),t=i}function u(){var t,i,n,o,s;return t=It,91===e.charCodeAt(It)?(i=H,It++):(i=A,0===kt&&r(N)),i!==A?(n=b(),n!==A?(o=d(),o===A&&(o=E),o!==A?(93===e.charCodeAt(It)?(s=q,It++):(s=A,0===kt&&r(W)),s!==A?(Mt=t,i=B(n,o),t=i):(It=t,t=V)):(It=t,t=V)):(It=t,t=V)):(It=t,t=V),t}function c(){var t,i,n,o;return t=It,45===e.charCodeAt(It)?(i=X,It++):(i=A,0===kt&&r(G)),i!==A?(n=h(),n!==A?(45===e.charCodeAt(It)?(o=X,It++):(o=A,0===kt&&r(G)),o!==A?(Mt=t,i=Z(n),t=i):(It=t,t=V)):(It=t,t=V)):(It=t,t=V),t===A&&(t=It,45===e.charCodeAt(It)?(i=X,It++):(i=A,0===kt&&r(G)),i!==A&&(Mt=t,i=Y()),(t=i)===A&&(t=It,i=U,i!==A&&(Mt=t,i=Q()),t=i)),t}function h(){var t;return t=f(),t===A&&(t=d()),t}function f(){var t,e;return t=It,e=y(),e!==A&&(Mt=t,e=J(e)),t=e}function d(){var t,i,n,o,s,a,l;if(t=It,40===e.charCodeAt(It)?(i=$,It++):(i=A,0===kt&&r(K)),i!==A)if((n=p())!==A){for(o=[],s=It,44===e.charCodeAt(It)?(a=tt,It++):(a=A,0===kt&&r(et)),a!==A?(l=p(),l!==A?(a=[a,l],s=a):(It=s,s=V)):(It=s,s=V);s!==A;)o.push(s),s=It,44===e.charCodeAt(It)?(a=tt,It++):(a=A,0===kt&&r(et)),a!==A?(l=p(),l!==A?(a=[a,l],s=a):(It=s,s=V)):(It=s,s=V);o!==A?(41===e.charCodeAt(It)?(s=it,It++):(s=A,0===kt&&r(nt)),s!==A?(Mt=t,i=rt(n,o),t=i):(It=t,t=V)):(It=t,t=V)}else It=t,t=V;else It=t,t=V;return t}function p(){var t,i,n,o,s,a;return t=It,i=_(),i===A&&(i=E),i!==A?(n=g(),n!==A?(o=It,64===e.charCodeAt(It)?(s=ot,It++):(s=A,0===kt&&r(st)),s!==A?(a=v(),a!==A?(s=[s,a],o=s):(It=o,o=V)):(It=o,o=V),o===A&&(o=E),o!==A?(Mt=t,i=at(i,n,o),t=i):(It=t,t=V)):(It=t,t=V)):(It=t,t=V),t}function _(){var t,i;return t=It,e.substr(It,2)===lt?(i=lt,It+=2):(i=A,0===kt&&r(ut)),i!==A&&(Mt=t,i=ct()),t=i,t===A&&(t=It,e.substr(It,2)===ht?(i=ht,It+=2):(i=A,0===kt&&r(ft)),i!==A&&(Mt=t,i=dt()),(t=i)===A&&(t=It,e.substr(It,2)===pt?(i=pt,It+=2):(i=A,0===kt&&r(_t)),i!==A&&(Mt=t,i=gt()),t=i)),t}function g(){var t;return t=m(),t===A&&(t=b()),t}function v(){var t,i,n;if(t=It,i=[],vt.test(e.charAt(It))?(n=e.charAt(It),It++):(n=A,0===kt&&r(mt)),n!==A)for(;n!==A;)i.push(n),vt.test(e.charAt(It))?(n=e.charAt(It),It++):(n=A,0===kt&&r(mt));else i=V;return i!==A&&(Mt=t,i=bt(i)),t=i}function m(){var t,e;return t=It,e=y(),e!==A&&(Mt=t,e=yt(e)),t=e}function b(){var t,i,n,o,s;if(t=It,i=It,n=[],wt.test(e.charAt(It))?(o=e.charAt(It),It++):(o=A,0===kt&&r(St)),o!==A)for(;o!==A;)n.push(o),wt.test(e.charAt(It))?(o=e.charAt(It),It++):(o=A,0===kt&&r(St));else n=V;if(n!==A&&(n=e.substring(i,It)),(i=n)!==A){for(n=It,o=[],xt.test(e.charAt(It))?(s=e.charAt(It),It++):(s=A,0===kt&&r(At));s!==A;)o.push(s),xt.test(e.charAt(It))?(s=e.charAt(It),It++):(s=A,0===kt&&r(At));o!==A&&(o=e.substring(n,It)),n=o,n!==A?(Mt=t,i=Ct(i,n),t=i):(It=t,t=V)}else It=t,t=V;return t}function y(){var t,i,n,o,s;if(t=It,i=[],vt.test(e.charAt(It))?(n=e.charAt(It),It++):(n=A,0===kt&&r(mt)),n!==A)for(;n!==A;)i.push(n),vt.test(e.charAt(It))?(n=e.charAt(It),It++):(n=A,0===kt&&r(mt));else i=V;if(i!==A)if(46===e.charCodeAt(It)?(n=Tt,It++):(n=A,0===kt&&r(Vt)),n!==A){if(o=[],vt.test(e.charAt(It))?(s=e.charAt(It),It++):(s=A,0===kt&&r(mt)),s!==A)for(;s!==A;)o.push(s),vt.test(e.charAt(It))?(s=e.charAt(It),It++):(s=A,0===kt&&r(mt));else o=V;o!==A?(Mt=t,i=Et(i,o),t=i):(It=t,t=V)}else It=t,t=V;else It=t,t=V;if(t===A){if(t=It,i=[],vt.test(e.charAt(It))?(n=e.charAt(It),It++):(n=A,0===kt&&r(mt)),n!==A)for(;n!==A;)i.push(n),vt.test(e.charAt(It))?(n=e.charAt(It),It++):(n=A,0===kt&&r(mt));else i=V;i!==A&&(Mt=t,i=Ot(i)),t=i}return t}function w(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])t[i]=arguments[e][i];return t}var S,x=arguments.length>1?arguments[1]:{},A={},C={visualFormatString:s},T=s,V=A,E=null,O=":",I={type:"literal",value:":",description:'":"'},M=function(t,e,i,n,r){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat([i],[].concat.apply([],n),r||[])}},L="H",R={type:"literal",value:"H",description:'"H"'},P="V",j={type:"literal",value:"V",description:'"V"'},k=function(t){return"H"==t?"horizontal":"vertical"},z="|",F={type:"literal",value:"|",description:'"|"'},D=function(){return{view:null}},H="[",N={type:"literal",value:"[",description:'"["'},q="]",W={type:"literal",value:"]",description:'"]"'},B=function(t,e){return w(t,e?{constraints:e}:{})},X="-",G={type:"literal",value:"-",description:'"-"'},Z=function(t){return t},Y=function(){return[{relation:"equ",constant:"default",$parserOffset:i()}]},U="",Q=function(){return[{relation:"equ",constant:0,$parserOffset:i()}]},J=function(t){return[{relation:"equ",constant:t,$parserOffset:i()}]},$="(",K={type:"literal",value:"(",description:'"("'},tt=",",et={type:"literal",value:",",description:'","'},it=")",nt={type:"literal",value:")",description:'")"'},rt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},ot="@",st={type:"literal",value:"@",description:'"@"'},at=function(t,e,i){return w({relation:"equ"},t||{},e,i?i[1]:{})},lt="==",ut={type:"literal",value:"==",description:'"=="'},ct=function(){return{relation:"equ",$parserOffset:i()}},ht="<=",ft={type:"literal",value:"<=",description:'"<="'},dt=function(){return{relation:"leq",$parserOffset:i()}},pt=">=",_t={type:"literal",value:">=",description:'">="'},gt=function(){return{relation:"geq",$parserOffset:i()}},vt=/^[0-9]/,mt={type:"class",value:"[0-9]",description:"[0-9]"},bt=function(t){return{priority:parseInt(t.join(""),10)}},yt=function(t){return{constant:t}},wt=/^[a-zA-Z_]/,St={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},xt=/^[a-zA-Z0-9_]/,At={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Ct=function(t,e){return{view:t+e}},Tt=".",Vt={type:"literal",value:".",description:'"."'},Et=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},Ot=function(t){return parseInt(t.join(""),10)},It=0,Mt=0,Lt=0,Rt={line:1,column:1,seenCR:!1},Pt=0,jt=[],kt=0;if("startRule"in x){if(!(x.startRule in C))throw new Error("Can't start parsing from rule \""+x.startRule+'".');T=C[x.startRule]}if((S=T())!==A&&It===e.length)return S;throw S!==A&&It<e.length&&r({type:"end",description:"end of input"}),o(null,jt,Pt)}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(t,Error),{SyntaxError:t,parse:e}}(),y=function(){function t(t,e,i,n,r,o){this.message=t,this.expected=e,this.found=i,this.offset=n,this.line=r,this.column=o,this.name="SyntaxError"}function e(e){function i(){return gi}function n(t){return vi!==t&&(vi>t&&(vi=0,mi={line:1,column:1,seenCR:!1}),function(t,i,n){var r,o;for(r=i;r<n;r++)o=e.charAt(r),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(mi,vi,t),vi=t),mi}function r(t){_i<bi||(_i>bi&&(bi=_i,yi=[]),yi.push(t))}function o(i,r,o){var s=n(o),a=o<e.length?e.charAt(o):null;return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==i?i:function(t,e){var i,n,r,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=t[r].description;return i=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+i+" but "+n+" found."}(r,a),r,a,o,s.line,s.column)}function s(){var t;return t=u(),t===D&&(t=a()),t}function a(){var t,i,n,o,s,a;if(t=_i,e.substr(_i,2)===W?(i=W,_i+=2):(i=D,0===wi&&r(B)),i!==D)if((n=R())!==D)if((o=l())!==D){for(s=[],a=l();a!==D;)s.push(a),a=l();s!==D?(a=h(),a===D&&(a=X),a!==D?(gi=t,i=G(n,o,s,a),t=i):(_i=t,t=q)):(_i=t,t=q)}else _i=t,t=q;else _i=t,t=q;else _i=t,t=q;return t}function l(){var t,e,i;return t=_i,e=O(),e!==D?(i=b(),i!==D?(gi=t,e=Z(e,i),t=e):(_i=t,t=q)):(_i=t,t=q),t}function u(){var t,i,n,o,s,a,l,u;if(t=_i,i=_i,n=c(),n!==D?(58===e.charCodeAt(_i)?(o=Y,_i++):(o=D,0===wi&&r(U)),o!==D?(n=[n,o],i=n):(_i=i,i=q)):(_i=i,i=q),i===D&&(i=X),i!==D)if(n=_i,o=f(),o!==D?(s=g(),s!==D?(o=[o,s],n=o):(_i=n,n=q)):(_i=n,n=q),n===D&&(n=X),n!==D)if((o=d())!==D){for(s=[],a=_i,l=g(),l!==D?(u=d(),u!==D?(l=[l,u],a=l):(_i=a,a=q)):(_i=a,a=q);a!==D;)s.push(a),a=_i,l=g(),l!==D?(u=d(),u!==D?(l=[l,u],a=l):(_i=a,a=q)):(_i=a,a=q);s!==D?(a=_i,l=g(),l!==D?(u=f(),u!==D?(l=[l,u],a=l):(_i=a,a=q)):(_i=a,a=q),a===D&&(a=X),a!==D?(l=h(),l===D&&(l=X),l!==D?(gi=t,i=Q(i,n,o,s,a,l),t=i):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q)}else _i=t,t=q;else _i=t,t=q;else _i=t,t=q;return t}function c(){var t,i;return t=_i,e.substr(_i,2)===J?(i=J,_i+=2):(i=D,0===wi&&r($)),i!==D&&(gi=t,i=K()),t=i,t===D&&(t=_i,72===e.charCodeAt(_i)?(i=tt,_i++):(i=D,0===wi&&r(et)),i!==D&&(gi=t,i=it()),(t=i)===D&&(t=_i,86===e.charCodeAt(_i)?(i=nt,_i++):(i=D,0===wi&&r(rt)),i!==D&&(gi=t,i=ot()),(t=i)===D&&(t=_i,90===e.charCodeAt(_i)?(i=st,_i++):(i=D,0===wi&&r(at)),i!==D&&(gi=t,i=lt()),t=i))),t}function h(){var t,i,n,o,s;for(t=_i,i=[],32===e.charCodeAt(_i)?(n=ut,_i++):(n=D,0===wi&&r(ct));n!==D;)i.push(n),32===e.charCodeAt(_i)?(n=ut,_i++):(n=D,0===wi&&r(ct));if(i!==D)if(e.substr(_i,2)===ht?(n=ht,_i+=2):(n=D,0===wi&&r(ft)),n!==D){for(o=[],e.length>_i?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(dt));s!==D;)o.push(s),e.length>_i?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(dt));o!==D?(i=[i,n,o],t=i):(_i=t,t=q)}else _i=t,t=q;else _i=t,t=q;return t}function f(){var t,i;return t=_i,124===e.charCodeAt(_i)?(i=pt,_i++):(i=D,0===wi&&r(_t)),i!==D&&(gi=t,i=gt()),t=i}function d(){var t,i,n,o,s,a,l;if(t=_i,91===e.charCodeAt(_i)?(i=vt,_i++):(i=D,0===wi&&r(mt)),i!==D)if((n=p())!==D){for(o=[],s=_i,44===e.charCodeAt(_i)?(a=bt,_i++):(a=D,0===wi&&r(yt)),a!==D?(l=p(),l!==D?(a=[a,l],s=a):(_i=s,s=q)):(_i=s,s=q);s!==D;)o.push(s),s=_i,44===e.charCodeAt(_i)?(a=bt,_i++):(a=D,0===wi&&r(yt)),a!==D?(l=p(),l!==D?(a=[a,l],s=a):(_i=s,s=q)):(_i=s,s=q);o!==D?(93===e.charCodeAt(_i)?(s=wt,_i++):(s=D,0===wi&&r(St)),s!==D?(gi=t,i=xt(n,o),t=i):(_i=t,t=q)):(_i=t,t=q)}else _i=t,t=q;else _i=t,t=q;return t}function p(){var t,e,i,n;return t=_i,e=L(),e!==D?(i=b(),i===D&&(i=X),i!==D?(n=_(),n===D&&(n=X),n!==D?(gi=t,e=At(e,i,n),t=e):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q),t}function _(){var t,i,n,o,s,a;if(t=_i,58===e.charCodeAt(_i)?(i=Y,_i++):(i=D,0===wi&&r(U)),i!==D){if(n=[],o=_i,s=g(),s!==D?(a=d(),a!==D?(s=[s,a],o=s):(_i=o,o=q)):(_i=o,o=q),o!==D)for(;o!==D;)n.push(o),o=_i,s=g(),s!==D?(a=d(),a!==D?(s=[s,a],o=s):(_i=o,o=q)):(_i=o,o=q);else n=q;n!==D?(o=g(),o!==D?(gi=t,i=Ct(n,o),t=i):(_i=t,t=q)):(_i=t,t=q)}else _i=t,t=q;return t}function g(){var t,i,n,o;return t=_i,e.substr(_i,2)===Tt?(i=Tt,_i+=2):(i=D,0===wi&&r(Vt)),i!==D&&(gi=t,i=Et()),t=i,t===D&&(t=_i,45===e.charCodeAt(_i)?(i=Ot,_i++):(i=D,0===wi&&r(It)),i!==D?(n=v(),n!==D?(45===e.charCodeAt(_i)?(o=Ot,_i++):(o=D,0===wi&&r(It)),o!==D?(gi=t,i=Mt(n),t=i):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,45===e.charCodeAt(_i)?(i=Ot,_i++):(i=D,0===wi&&r(It)),i!==D&&(gi=t,i=Lt()),(t=i)===D&&(t=_i,126===e.charCodeAt(_i)?(i=Rt,_i++):(i=D,0===wi&&r(Pt)),i!==D?(n=w(),n!==D?(126===e.charCodeAt(_i)?(o=Rt,_i++):(o=D,0===wi&&r(Pt)),o!==D?(gi=t,i=Mt(n),t=i):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,126===e.charCodeAt(_i)?(i=Rt,_i++):(i=D,0===wi&&r(Pt)),i!==D&&(gi=t,i=jt()),(t=i)===D&&(t=_i,i=kt,i!==D&&(gi=t,i=zt()),t=i))))),t}function v(){var t;return t=m(),t===D&&(t=b()),t}function m(){var t,e;return t=_i,e=V(),e!==D&&(gi=t,e=Ft(e)),t=e,t===D&&(t=_i,e=j(),e!==D&&(gi=t,e=Dt(e)),t=e),t}function b(){var t,i,n,o,s,a,l;if(t=_i,40===e.charCodeAt(_i)?(i=Ht,_i++):(i=D,0===wi&&r(Nt)),i!==D)if((n=y())!==D){for(o=[],s=_i,44===e.charCodeAt(_i)?(a=bt,_i++):(a=D,0===wi&&r(yt)),a!==D?(l=y(),l!==D?(a=[a,l],s=a):(_i=s,s=q)):(_i=s,s=q);s!==D;)o.push(s),s=_i,44===e.charCodeAt(_i)?(a=bt,_i++):(a=D,0===wi&&r(yt)),a!==D?(l=y(),l!==D?(a=[a,l],s=a):(_i=s,s=q)):(_i=s,s=q);o!==D?(41===e.charCodeAt(_i)?(s=qt,_i++):(s=D,0===wi&&r(Wt)),s!==D?(gi=t,i=Bt(n,o),t=i):(_i=t,t=q)):(_i=t,t=q)}else _i=t,t=q;else _i=t,t=q;return t}function y(){var t,i,n,o,s,a;return t=_i,i=x(),i===D&&(i=X),i!==D?(n=A(),n!==D?(o=_i,64===e.charCodeAt(_i)?(s=Xt,_i++):(s=D,0===wi&&r(Gt)),s!==D?(a=C(),a!==D?(s=[s,a],o=s):(_i=o,o=q)):(_i=o,o=q),o===D&&(o=X),o!==D?(gi=t,i=Zt(i,n,o),t=i):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q),t}function w(){var t,i,n,o,s,a,l;if(t=_i,40===e.charCodeAt(_i)?(i=Ht,_i++):(i=D,0===wi&&r(Nt)),i!==D)if((n=S())!==D){for(o=[],s=_i,44===e.charCodeAt(_i)?(a=bt,_i++):(a=D,0===wi&&r(yt)),a!==D?(l=S(),l!==D?(a=[a,l],s=a):(_i=s,s=q)):(_i=s,s=q);s!==D;)o.push(s),s=_i,44===e.charCodeAt(_i)?(a=bt,_i++):(a=D,0===wi&&r(yt)),a!==D?(l=S(),l!==D?(a=[a,l],s=a):(_i=s,s=q)):(_i=s,s=q);o!==D?(41===e.charCodeAt(_i)?(s=qt,_i++):(s=D,0===wi&&r(Wt)),s!==D?(gi=t,i=Bt(n,o),t=i):(_i=t,t=q)):(_i=t,t=q)}else _i=t,t=q;else _i=t,t=q;return t}function S(){var t,i,n,o,s,a;return t=_i,i=x(),i===D&&(i=X),i!==D?(n=A(),n!==D?(o=_i,64===e.charCodeAt(_i)?(s=Xt,_i++):(s=D,0===wi&&r(Gt)),s!==D?(a=C(),a!==D?(s=[s,a],o=s):(_i=o,o=q)):(_i=o,o=q),o===D&&(o=X),o!==D?(gi=t,i=Yt(i,n,o),t=i):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q),t}function x(){var t,i;return t=_i,e.substr(_i,2)===Ut?(i=Ut,_i+=2):(i=D,0===wi&&r(Qt)),i!==D&&(gi=t,i=Jt()),t=i,t===D&&(t=_i,e.substr(_i,2)===$t?(i=$t,_i+=2):(i=D,0===wi&&r(Kt)),i!==D&&(gi=t,i=te()),(t=i)===D&&(t=_i,e.substr(_i,2)===ee?(i=ee,_i+=2):(i=D,0===wi&&r(ie)),i!==D&&(gi=t,i=ne()),t=i)),t}function A(){var t;return t=V(),t===D&&(t=T())===D&&(t=E()),t}function C(){var t,i,n;if(t=_i,i=[],re.test(e.charAt(_i))?(n=e.charAt(_i),_i++):(n=D,0===wi&&r(oe)),n!==D)for(;n!==D;)i.push(n),re.test(e.charAt(_i))?(n=e.charAt(_i),_i++):(n=D,0===wi&&r(oe));else i=q;return i!==D&&(gi=t,i=se(i)),t=i}function T(){var t,i,n;return t=_i,i=j(),i!==D&&(gi=t,i=ae(i)),t=i,t===D&&(t=_i,45===e.charCodeAt(_i)?(i=Ot,_i++):(i=D,0===wi&&r(It)),i!==D?(n=j(),n!==D?(gi=t,i=le(n),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,43===e.charCodeAt(_i)?(i=ue,_i++):(i=D,0===wi&&r(ce)),i!==D?(n=j(),n!==D?(gi=t,i=ae(n),t=i):(_i=t,t=q)):(_i=t,t=q))),t}function V(){var t,i,n,o;return t=_i,i=j(),i!==D?(37===e.charCodeAt(_i)?(n=he,_i++):(n=D,0===wi&&r(fe)),n!==D?(gi=t,i=de(i),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,45===e.charCodeAt(_i)?(i=Ot,_i++):(i=D,0===wi&&r(It)),i!==D?(n=j(),n!==D?(37===e.charCodeAt(_i)?(o=he,_i++):(o=D,0===wi&&r(fe)),o!==D?(gi=t,i=pe(n),t=i):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,43===e.charCodeAt(_i)?(i=ue,_i++):(i=D,0===wi&&r(ce)),i!==D?(n=j(),n!==D?(37===e.charCodeAt(_i)?(o=he,_i++):(o=D,0===wi&&r(fe)),o!==D?(gi=t,i=de(n),t=i):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q))),t}function E(){var t,e,i,n,r;return t=_i,e=R(),e!==D?(i=O(),i===D&&(i=X),i!==D?(n=I(),n===D&&(n=X),n!==D?(r=M(),r===D&&(r=X),r!==D?(gi=t,e=_e(e,i,n,r),t=e):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q)):(_i=t,t=q),t}function O(){var t,i;return t=_i,e.substr(_i,5)===ge?(i=ge,_i+=5):(i=D,0===wi&&r(ve)),i!==D&&(gi=t,i=me()),t=i,t===D&&(t=_i,e.substr(_i,6)===be?(i=be,_i+=6):(i=D,0===wi&&r(ye)),i!==D&&(gi=t,i=we()),(t=i)===D&&(t=_i,e.substr(_i,4)===Se?(i=Se,_i+=4):(i=D,0===wi&&r(xe)),i!==D&&(gi=t,i=Ae()),(t=i)===D&&(t=_i,e.substr(_i,7)===Ce?(i=Ce,_i+=7):(i=D,0===wi&&r(Te)),i!==D&&(gi=t,i=Ve()),(t=i)===D&&(t=_i,e.substr(_i,6)===Ee?(i=Ee,_i+=6):(i=D,0===wi&&r(Oe)),i!==D&&(gi=t,i=Ie()),(t=i)===D&&(t=_i,e.substr(_i,7)===Me?(i=Me,_i+=7):(i=D,0===wi&&r(Le)),i!==D&&(gi=t,i=Re()),(t=i)===D&&(t=_i,e.substr(_i,8)===Pe?(i=Pe,_i+=8):(i=D,0===wi&&r(je)),i!==D&&(gi=t,i=ke()),(t=i)===D&&(t=_i,e.substr(_i,8)===ze?(i=ze,_i+=8):(i=D,0===wi&&r(Fe)),i!==D&&(gi=t,i=De()),t=i))))))),t}function I(){var t,i,n;return t=_i,47===e.charCodeAt(_i)?(i=He,_i++):(i=D,0===wi&&r(Ne)),i!==D?(n=j(),n!==D?(gi=t,i=qe(n),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,e.substr(_i,2)===We?(i=We,_i+=2):(i=D,0===wi&&r(Be)),i!==D?(n=j(),n!==D?(gi=t,i=qe(n),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,e.substr(_i,2)===Xe?(i=Xe,_i+=2):(i=D,0===wi&&r(Ge)),i!==D?(n=j(),n!==D?(gi=t,i=Ze(n),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,42===e.charCodeAt(_i)?(i=Ye,_i++):(i=D,0===wi&&r(Ue)),i!==D?(n=j(),n!==D?(gi=t,i=Qe(n),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,e.substr(_i,2)===Je?(i=Je,_i+=2):(i=D,0===wi&&r($e)),i!==D?(n=j(),n!==D?(gi=t,i=Qe(n),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,e.substr(_i,2)===Ke?(i=Ke,_i+=2):(i=D,0===wi&&r(ti)),i!==D?(n=j(),n!==D?(gi=t,i=ei(n),t=i):(_i=t,t=q)):(_i=t,t=q)))))),t}function M(){var t,i,n;return t=_i,45===e.charCodeAt(_i)?(i=Ot,_i++):(i=D,0===wi&&r(It)),i!==D?(n=j(),n!==D?(gi=t,i=ei(n),t=i):(_i=t,t=q)):(_i=t,t=q),t===D&&(t=_i,43===e.charCodeAt(_i)?(i=ue,_i++):(i=D,0===wi&&r(ce)),i!==D?(n=j(),n!==D?(gi=t,i=Qe(n),t=i):(_i=t,t=q)):(_i=t,t=q)),t}function L(){var t,i,n,o,s;if(t=_i,i=_i,n=[],ii.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(ni)),o!==D)for(;o!==D;)n.push(o),ii.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(ni));else n=q;if(n!==D&&(n=e.substring(i,_i)),(i=n)!==D){for(n=_i,o=[],ri.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oi));s!==D;)o.push(s),ri.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oi));o!==D&&(o=e.substring(n,_i)),n=o,n!==D?(o=P(),o!==D?(gi=t,i=si(i,n,o),t=i):(_i=t,t=q)):(_i=t,t=q)}else _i=t,t=q;if(t===D){if(t=_i,i=_i,n=[],ii.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(ni)),o!==D)for(;o!==D;)n.push(o),ii.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(ni));else n=q;if(n!==D&&(n=e.substring(i,_i)),(i=n)!==D){for(n=_i,o=[],ri.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oi));s!==D;)o.push(s),ri.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oi));o!==D&&(o=e.substring(n,_i)),n=o,n!==D?(gi=t,i=ai(i,n),t=i):(_i=t,t=q)}else _i=t,t=q}return t}function R(){var t,i,n,o,s;if(t=_i,i=_i,n=[],ii.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(ni)),o!==D)for(;o!==D;)n.push(o),ii.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(ni));else n=q;if(n!==D&&(n=e.substring(i,_i)),(i=n)!==D){for(n=_i,o=[],ri.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oi));s!==D;)o.push(s),ri.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oi));o!==D&&(o=e.substring(n,_i)),n=o,n!==D?(gi=t,i=ai(i,n),t=i):(_i=t,t=q)}else _i=t,t=q;return t}function P(){var t,i,n,o;if(t=_i,e.substr(_i,2)===li?(i=li,_i+=2):(i=D,0===wi&&r(ui)),i!==D){if(n=[],re.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(oe)),o!==D)for(;o!==D;)n.push(o),re.test(e.charAt(_i))?(o=e.charAt(_i),_i++):(o=D,0===wi&&r(oe));else n=q;n!==D?(gi=t,i=ci(n),t=i):(_i=t,t=q)}else _i=t,t=q;return t}function j(){var t,i,n,o,s;if(t=_i,i=[],re.test(e.charAt(_i))?(n=e.charAt(_i),_i++):(n=D,0===wi&&r(oe)),n!==D)for(;n!==D;)i.push(n),re.test(e.charAt(_i))?(n=e.charAt(_i),_i++):(n=D,0===wi&&r(oe));else i=q;if(i!==D)if(46===e.charCodeAt(_i)?(n=hi,_i++):(n=D,0===wi&&r(fi)),n!==D){if(o=[],re.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oe)),s!==D)for(;s!==D;)o.push(s),re.test(e.charAt(_i))?(s=e.charAt(_i),_i++):(s=D,0===wi&&r(oe));else o=q;o!==D?(gi=t,i=di(i,o),t=i):(_i=t,t=q)}else _i=t,t=q;else _i=t,t=q;if(t===D){if(t=_i,i=[],re.test(e.charAt(_i))?(n=e.charAt(_i),_i++):(n=D,0===wi&&r(oe)),n!==D)for(;n!==D;)i.push(n),re.test(e.charAt(_i))?(n=e.charAt(_i),_i++):(n=D,0===wi&&r(oe));else i=q;i!==D&&(gi=t,i=pi(i)),t=i}return t}function k(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])t[i]=arguments[e][i];return t}var z,F=arguments.length>1?arguments[1]:{},D={},H={visualFormatStringExt:s},N=s,q=D,W="C:",B={type:"literal",value:"C:",description:'"C:"'},X=null,G=function(t,e,i,n){return{type:"attribute",view:t.view,attributes:[e].concat(i)}},Z=function(t,e){return{attr:t,predicates:e}},Y=":",U={type:"literal",value:":",description:'":"'},Q=function(t,e,i,n,r,o){return{type:"vfl",orientation:t?t[0]:"horizontal",cascade:(e||[]).concat(i,[].concat.apply([],n),r||[])}},J="HV",$={type:"literal",value:"HV",description:'"HV"'},K=function(){return"horzvert"},tt="H",et={type:"literal",value:"H",description:'"H"'},it=function(){return"horizontal"},nt="V",rt={type:"literal",value:"V",description:'"V"'},ot=function(){return"vertical"},st="Z",at={type:"literal",value:"Z",description:'"Z"'},lt=function(){return"zIndex"},ut=" ",ct={type:"literal",value:" ",description:'" "'},ht="//",ft={type:"literal",value:"//",description:'"//"'},dt={type:"any",description:"any character"},pt="|",_t={type:"literal",value:"|",description:'"|"'},gt=function(){return{view:null}},vt="[",mt={type:"literal",value:"[",description:'"["'},bt=",",yt={type:"literal",value:",",description:'","'},wt="]",St={type:"literal",value:"]",description:'"]"'},xt=function(t,e){return e.length?[t].concat([].concat.apply([],e)):t},At=function(t,e,i){return k(k(t,e?{constraints:e}:{}),i?{cascade:i}:{})},Ct=function(t,e){return[].concat([].concat.apply([],t),[e])},Tt="->",Vt={type:"literal",value:"->",description:'"->"'},Et=function(){return[{relation:"none"}]},Ot="-",It={type:"literal",value:"-",description:'"-"'},Mt=function(t){return t},Lt=function(){return[{relation:"equ",constant:"default"}]},Rt="~",Pt={type:"literal",value:"~",description:'"~"'},jt=function(){return[{relation:"equ",equalSpacing:!0}]},kt="",zt=function(){return[{relation:"equ",constant:0}]},Ft=function(t){return[{relation:"equ",multiplier:t.multiplier}]},Dt=function(t){return[{relation:"equ",constant:t}]},Ht="(",Nt={type:"literal",value:"(",description:'"("'},qt=")",Wt={type:"literal",value:")",description:'")"'},Bt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},Xt="@",Gt={type:"literal",value:"@",description:'"@"'},Zt=function(t,e,i){return k({relation:"equ"},t||{},e,i?i[1]:{})},Yt=function(t,e,i){return k({relation:"equ",equalSpacing:!0},t||{},e,i?i[1]:{})},Ut="==",Qt={type:"literal",value:"==",description:'"=="'},Jt=function(){return{relation:"equ"}},$t="<=",Kt={type:"literal",value:"<=",description:'"<="'},te=function(){return{relation:"leq"}},ee=">=",ie={type:"literal",value:">=",description:'">="'},ne=function(){return{relation:"geq"}},re=/^[0-9]/,oe={type:"class",value:"[0-9]",description:"[0-9]"},se=function(t){return{priority:parseInt(t.join(""),10)}},ae=function(t){return{constant:t}},le=function(t){return{constant:-t}},ue="+",ce={type:"literal",value:"+",description:'"+"'},he="%",fe={type:"literal",value:"%",description:'"%"'},de=function(t){return{view:null,multiplier:t/100}},pe=function(t){return{view:null,multiplier:t/-100}},_e=function(t,e,i,n){return{view:t.view,attribute:e||void 0,multiplier:i||1,constant:n||void 0}},ge=".left",ve={type:"literal",value:".left",description:'".left"'},me=function(){return"left"},be=".right",ye={type:"literal",value:".right",description:'".right"'},we=function(){return"right"},Se=".top",xe={type:"literal",value:".top",description:'".top"'},Ae=function(){return"top"},Ce=".bottom",Te={type:"literal",value:".bottom",description:'".bottom"'},Ve=function(){return"bottom"},Ee=".width",Oe={type:"literal",value:".width",description:'".width"'},Ie=function(){return"width"},Me=".height",Le={type:"literal",value:".height",description:'".height"'},Re=function(){return"height"},Pe=".centerX",je={type:"literal",value:".centerX",description:'".centerX"'},ke=function(){return"centerX"},ze=".centerY",Fe={type:"literal",value:".centerY",description:'".centerY"'},De=function(){return"centerY"},He="/",Ne={type:"literal",value:"/",description:'"/"'},qe=function(t){return 1/t},We="/+",Be={type:"literal",value:"/+",description:'"/+"'},Xe="/-",Ge={type:"literal",value:"/-",description:'"/-"'},Ze=function(t){return-1/t},Ye="*",Ue={type:"literal",value:"*",description:'"*"'},Qe=function(t){return t},Je="*+",$e={type:"literal",value:"*+",description:'"*+"'},Ke="*-",ti={type:"literal",value:"*-",description:'"*-"'},ei=function(t){return-t},ii=/^[a-zA-Z_]/,ni={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},ri=/^[a-zA-Z0-9_]/,oi={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},si=function(t,e,n){return{view:t+e,range:n,$parserOffset:i()}},ai=function(t,e){return{view:t+e,$parserOffset:i()}},li="..",ui={type:"literal",value:"..",description:'".."'},ci=function(t){return parseInt(t)},hi=".",fi={type:"literal",value:".",description:'"."'},di=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},pi=function(t){return parseInt(t.join(""),10)},_i=0,gi=0,vi=0,mi={line:1,column:1,seenCR:!1},bi=0,yi=[],wi=0;if("startRule"in F){if(!(F.startRule in H))throw new Error("Can't start parsing from rule \""+F.startRule+'".');N=H[F.startRule]}if((z=N())!==D&&_i===e.length)return z;throw z!==D&&_i<e.length&&r({type:"end",description:"end of input"}),o(null,yi,bi)}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(t,Error),{SyntaxError:t,parse:e}}(),w={HORIZONTAL:1,VERTICAL:2,ZINDEX:4},S=["viewport","spacing","colors","shapes","widths","heights"],x=function(){function t(){n(this,t)}return p(t,null,[{key:"parseLine",value:function(t,e){if(0===t.length||e&&e.extended&&0===t.indexOf("//"))return[];var i=e&&e.extended?y.parse(t):b.parse(t);if(e&&"raw"===e.outFormat)return[i];var n={constraints:[],lineIndex:(e?e.lineIndex:void 0)||1,subViews:(e?e.subViews:void 0)||{}};if("attribute"===i.type)for(var r=0;r<i.attributes.length;r++)for(var o=i.attributes[r],s=0;s<o.predicates.length;s++){var a=o.predicates[s];n.constraints.push({view1:i.view,attr1:o.attr,relation:a.relation,view2:a.view,attr2:a.attribute||o.attr,multiplier:a.multiplier,constant:a.constant,priority:a.priority})}else switch(i.orientation){case"horizontal":n.orientation=w.HORIZONTAL,n.horizontal=!0,l(n,i.cascade,null);break;case"vertical":n.orientation=w.VERTICAL,l(n,i.cascade,null);break;case"horzvert":n.orientation=w.HORIZONTAL,n.horizontal=!0,l(n,i.cascade,null),n={constraints:n.constraints,lineIndex:n.lineIndex,subViews:n.subViews,orientation:w.VERTICAL},l(n,i.cascade,null);break;case"zIndex":n.orientation=w.ZINDEX,l(n,i.cascade,null)}return n.constraints}},{key:"parse",value:function(t,e){var i=e&&e.lineSeparator?e.lineSeparator:"\n";if(!Array.isArray(t)&&t.indexOf(i)<0)try{return this.parseLine(t,e)}catch(e){throw e.source=t,e}t=Array.isArray(t)?t:[t];var n=void 0,r=[],o=0,s=void 0,a={lineIndex:o,extended:e&&e.extended,strict:!e||void 0===e.strict||e.strict,outFormat:e?e.outFormat:void 0,subViews:{}};try{for(var l=0;l<t.length;l++){n=t[l].split(i);for(var u=0;u<n.length;u++)s=n[u],o++,a.lineIndex=o,a.strict||(s=s.trim()),(a.strict||s.length)&&(r=r.concat(this.parseLine(s,a)))}}catch(t){throw t.source=s,t.line=o,t}return r}},{key:"parseMetaInfo",value:function(t,e){var i=e&&e.lineSeparator?e.lineSeparator:"\n",n=e?e.prefix:void 0;t=Array.isArray(t)?t:[t];for(var r,o={},s=0;s<t.length;s++)for(var l=t[s].split(i),u=0;u<l.length;u++)for(var c=l[u],h=0;h<S.length;h++)for(var f=0;f<(n?2:1);f++){var d=S[h],p=(0===f?"":n)+d;if(0===c.indexOf("//"+p+" "))for(var _=c.substring(3+p.length).split(" "),g=0;g<_.length;g++){o[d]=o[d]||{};for(var v=_[g].split(":"),m=a(v[0],!0),b=0;b<m.length;b++)o[d][m[b]]=v.length>1?v[1]:""}else 0===c.indexOf("//"+p+":")&&(o[d]=c.substring(3+p.length))}if(o.viewport){var y=o.viewport,w=y["aspect-ratio"];w&&(w=w.split("/"),y["aspect-ratio"]=parseInt(w[0])/parseInt(w[1])),void 0!==y.height&&(y.height="intrinsic"===y.height||parseInt(y.height)),void 0!==y.width&&(y.width="intrinsic"===y.width||parseInt(y.width)),void 0!==y["max-height"]&&(y["max-height"]=parseInt(y["max-height"])),void 0!==y["max-width"]&&(y["max-width"]=parseInt(y["max-width"])),void 0!==y["min-height"]&&(y["min-height"]=parseInt(y["min-height"])),void 0!==y["min-width"]&&(y["min-width"]=parseInt(y["min-width"]))}if(o.widths)for(r in o.widths){var x="intrinsic"===o.widths[r]||parseInt(o.widths[r]);o.widths[r]=x,(void 0===x||isNaN(x))&&delete o.widths[r]}if(o.heights)for(r in o.heights){var A="intrinsic"===o.heights[r]||parseInt(o.heights[r]);o.heights[r]=A,(void 0===A||isNaN(A))&&delete o.heights[r]}if(o.spacing){var C=JSON.parse(o.spacing);if(o.spacing=C,Array.isArray(C)){for(var T=0,V=C.length;T<V;T++)if(isNaN(C[T])){delete o.spacing;break}}else(void 0===C||isNaN(C))&&delete o.spacing}return o}}]),t}(),A=function(){function t(e){n(this,t),this._name=e.name,this._type=e.type,this._solver=e.solver,this._attr={},e.name||(this._attr[g.LEFT]=new _.Variable,this._solver.addConstraint(new _.StayConstraint(this._attr[g.LEFT],_.Strength.required)),this._attr[g.TOP]=new _.Variable,this._solver.addConstraint(new _.StayConstraint(this._attr[g.TOP],_.Strength.required)),this._attr[g.ZINDEX]=new _.Variable,this._solver.addConstraint(new _.StayConstraint(this._attr[g.ZINDEX],_.Strength.required)))}return p(t,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"getValue",value:function(t){return this._attr[t]?this._attr[t].value():void 0}},{key:"_getAttr",value:function(t){if(this._attr[t])return this._attr[t];switch(this._attr[t]=new _.Variable,t){case g.RIGHT:this._getAttr(g.LEFT),this._getAttr(g.WIDTH),this._solver.addConstraint(new _.Equation(this._attr[t],_.plus(this._attr[g.LEFT],this._attr[g.WIDTH])));break;case g.BOTTOM:this._getAttr(g.TOP),this._getAttr(g.HEIGHT),this._solver.addConstraint(new _.Equation(this._attr[t],_.plus(this._attr[g.TOP],this._attr[g.HEIGHT])));break;case g.CENTERX:this._getAttr(g.LEFT),this._getAttr(g.WIDTH),this._solver.addConstraint(new _.Equation(this._attr[t],_.plus(this._attr[g.LEFT],_.divide(this._attr[g.WIDTH],2))));break;case g.CENTERY:this._getAttr(g.TOP),this._getAttr(g.HEIGHT),this._solver.addConstraint(new _.Equation(this._attr[t],_.plus(this._attr[g.TOP],_.divide(this._attr[g.HEIGHT],2))))}return this._attr[t]}},{key:"_getAttrValue",value:function(t){return this._getAttr(t).value}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttrValue(g.LEFT)}},{key:"right",get:function(){return this._getAttrValue(g.RIGHT)}},{key:"width",get:function(){return this._getAttrValue(g.WIDTH)}},{key:"height",get:function(){return this._getAttrValue(g.HEIGHT)}},{key:"intrinsicWidth",get:function(){return this._intrinsicWidth},set:function(t){if(void 0!==t&&t!==this._intrinsicWidth){var e=this._getAttr(g.WIDTH);void 0===this._intrinsicWidth&&this._solver.addEditVar(e,new _.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicWidth=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"intrinsicHeight",get:function(){return this._intrinsicHeight},set:function(t){if(void 0!==t&&t!==this._intrinsicHeight){var e=this._getAttr(g.HEIGHT);void 0===this._intrinsicHeight&&this._solver.addEditVar(e,new _.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicHeight=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"top",get:function(){return this._getAttrValue(g.TOP)}},{key:"bottom",get:function(){return this._getAttrValue(g.BOTTOM)}},{key:"centerX",get:function(){return this._getAttrValue(g.CENTERX)}},{key:"centerY",get:function(){return this._getAttrValue(g.CENTERY)}},{key:"zIndex",get:function(){return this._getAttrValue(g.ZINDEX)}},{key:"type",get:function(){return this._type}}]),t}(),C=new _.Strength("defaultPriority",0,1e3,1e3),T=function(){function t(e){n(this,t),this._solver=new _.SimplexSolver,this._subViews={},this._parentSubView=new A({solver:this._solver}),this.setSpacing(e&&void 0!==e.spacing?e.spacing:8),e&&(void 0===e.width&&void 0===e.height||this.setSize(e.width,e.height),e.constraints&&this.addConstraints(e.constraints))}return p(t,[{key:"setSize",value:function(t,e){return this._parentSubView.intrinsicWidth=t,this._parentSubView.intrinsicHeight=e,this}},{key:"setSpacing",value:function(t){switch(Array.isArray(t)?t.length:-1){case-1:t=[t,t,t,t,t,t,1];break;case 1:t=[t[0],t[0],t[0],t[0],t[0],t[0],1];break;case 2:t=[t[1],t[0],t[1],t[0],t[0],t[1],1];break;case 3:t=[t[1],t[0],t[1],t[0],t[0],t[1],t[2]];break;case 6:t=[t[0],t[1],t[2],t[3],t[4],t[5],1];break;case 7:break;default:throw"Invalid spacing syntax"}if(!d(this._spacing,t)&&(this._spacing=t,this._spacingVars)){for(var e=0;e<this._spacingVars.length;e++)this._spacingVars[e]&&this._solver.suggestValue(this._spacingVars[e],this._spacing[e]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(t){return f.call(this,t),this}},{key:"addConstraints",value:function(t){for(var e=0;e<t.length;e++)f.call(this,t[e]);return this}},{key:"width",get:function(){return this._parentSubView.intrinsicWidth}},{key:"height",get:function(){return this._parentSubView.intrinsicHeight}},{key:"fittingWidth",get:function(){return this._parentSubView.width}},{key:"fittingHeight",get:function(){return this._parentSubView.height}},{key:"subViews",get:function(){return this._subViews}}]),t}(),V={Attribute:g,Relation:v,Priority:m,VisualFormat:x,View:T,SubView:A};e.exports=V},{"cassowary/bin/c":2}],2:[function(t,e,i){(function(){(function(i){"use strict";try{(function(){}).bind(i)}catch(t){Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=this;return function(){return e.apply(t,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var n=void 0!==i.HTMLElement,r=function(t){for(var e=null;t&&t!=Object.prototype;){if(t.tagName){e=t.tagName;break}t=t.prototype}return e||"div"},o=1e-8,s={},a=function(t,e){if(t&&e){if("function"==typeof t[e])return t[e];var i=t.prototype;if(i&&"function"==typeof i[e])return i[e];if(i!==Object.prototype&&i!==Function.prototype)return"function"==typeof t.__super__?a(t.__super__,e):void 0}},l=i.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(t){var e=null,o=null;t.extends&&(o=t.extends,delete t.extends),t.initialize&&(e=t.initialize,delete t.initialize);var a=e||function(){};Object.defineProperty(a,"__super__",{value:o||Object,enumerable:!1,configurable:!0,writable:!1}),t._t&&(s[t._t]=a);var l=a.prototype=Object.create(o?o.prototype:Object.prototype);if(this.extend(l,t),n&&o&&o.prototype instanceof i.HTMLElement){var u=a,c=r(l),h=function(t){return t.__proto__=l,u.apply(t,arguments),l.created&&t.created(),l.decorate&&t.decorate(),t};this.extend(l,{upgrade:h}),a=function(){return h(i.document.createElement(c))},a.prototype=l,this.extend(a,{ctor:u})}return a},extend:function(t,e){return this.own(e,function(i){var n=Object.getOwnPropertyDescriptor(e,i);try{"function"==typeof n.get||"function"==typeof n.set?Object.defineProperty(t,i,n):"function"==typeof n.value||"_"===i.charAt(0)?(n.writable=!0,n.configurable=!0,n.enumerable=!1,Object.defineProperty(t,i,n)):t[i]=e[i]}catch(t){}}),t},own:function(t,e,n){return Object.getOwnPropertyNames(t).forEach(e,n||i),t},traceprint:function(t){l.verbose&&console.log(t)},fnenterprint:function(t){console.log("* "+t)},fnexitprint:function(t){console.log("- "+t)},assert:function(t,e){if(!t)throw new l.InternalError("Assertion failed: "+e)},plus:function(t,e){return t instanceof l.Expression||(t=new l.Expression(t)),e instanceof l.Expression||(e=new l.Expression(e)),t.plus(e)},minus:function(t,e){return t instanceof l.Expression||(t=new l.Expression(t)),e instanceof l.Expression||(e=new l.Expression(e)),t.minus(e)},times:function(t,e){return("number"==typeof t||t instanceof l.Variable)&&(t=new l.Expression(t)),("number"==typeof e||e instanceof l.Variable)&&(e=new l.Expression(e)),t.times(e)},divide:function(t,e){return("number"==typeof t||t instanceof l.Variable)&&(t=new l.Expression(t)),("number"==typeof e||e instanceof l.Variable)&&(e=new l.Expression(e)),t.divide(e)},approx:function(t,e){if(t===e)return!0;var i,n;return i=t instanceof l.Variable?t.value:t,n=e instanceof l.Variable?e.value:e,0==i?o>Math.abs(n):0==n?o>Math.abs(i):Math.abs(i-n)<Math.abs(i)*o},_inc:function(t){return function(){return t++}}(0),parseJSON:function(t){return JSON.parse(t,function(t,e){if("object"!=typeof e||"string"!=typeof e._t)return e;var i=e._t,n=s[i];if(i&&n){var r=a(n,"fromJSON");if(r)return r(e,n)}return e})}};"function"==typeof t&&void 0!==e&&"undefined"==typeof load&&(i.exports=l)})(this),function(t){"use strict";var e=function(t){return t.hashCode?t.hashCode:""+t},i=function(t,e){Object.keys(t).forEach(function(i){e[i]=t[i]})},n={};t.HashTable=t.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(t,i){var n=e(t);this._store.hasOwnProperty(n)||this.size++,this._store[n]=i,this._keyStrMap[n]=t},get:function(t){return this.size?(t=e(t),void 0!==this._store[t]?this._store[t]:null):null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var t={};i(this._store,t),this._store=t},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},delete:function(t){t=e(t),this._store.hasOwnProperty(t)&&(this._deleted++,delete this._store[t],this.size>0&&this.size--)},each:function(t,e){if(this.size){this._perhapsCompact();var i=this._store,n=this._keyStrMap;Object.keys(this._store).forEach(function(r){t.call(e||null,n[r],i[r])},this)}},escapingEach:function(t,e){if(this.size){this._perhapsCompact();for(var i=this,r=this._store,o=this._keyStrMap,s=n,a=Object.keys(r),l=0;a.length>l;l++)if(function(n){i._store.hasOwnProperty(n)&&(s=t.call(e||null,o[n],r[n]))}(a[l]),s){if(void 0!==s.retval)return s;if(s.brk)break}}},clone:function(){var e=new t.HashTable;return this.size&&(e.size=this.size,i(this._store,e._store),i(this._keyStrMap,e._keyStrMap)),e},equals:function(e){if(e===this)return!0;if(!(e instanceof t.HashTable)||e._size!==this._size)return!1;for(var i=Object.keys(this._store),n=0;i.length>n;n++){var r=i[n];if(this._keyStrMap[r]!==e._keyStrMap[r]||this._store[r]!==e._store[r])return!1}return!0},toString:function(){var t="";return this.each(function(e,i){t+=e+" => "+i+"\n"}),t}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.HashSet=t.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(t){var e=this.storage;e.indexOf(t),-1==e.indexOf(t)&&e.push(t),this.size=this.storage.length},values:function(){return this.storage},has:function(t){return-1!=this.storage.indexOf(t)},delete:function(t){var e=this.storage.indexOf(t);return-1==e?null:(this.storage.splice(e,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(t,e){this.size&&this.storage.forEach(t,e)},escapingEach:function(t,e){this.size&&this.storage.forEach(t,e)},toString:function(){var t=this.size+" {",e=!0;return this.each(function(i){e?e=!1:t+=", ",t+=i}),t+="}\n"},toJSON:function(){var t=[];return this.each(function(e){t.push(e.toJSON())}),{_t:"c.HashSet",data:t}},fromJSON:function(e){var i=new t.HashSet;return e.data&&(i.size=e.data.length,i.storage=e.data),i}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Error=t.inherit({initialize:function(t){t&&(this._description=t)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(t){this._description=t},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var e=function(e,i){return t.inherit({extends:t.Error,initialize:function(){t.Error.apply(this,arguments)},_name:e||"",_description:i||""})};t.ConstraintNotFound=e("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),t.InternalError=e("c.InternalError"),t.NonExpression=e("c.NonExpression","The resulting expression would be non"),t.NotEnoughStays=e("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),t.RequiredFailure=e("c.RequiredFailure","A required constraint cannot be satisfied"),t.TooDifficult=e("c.TooDifficult","The constraints are too difficult to solve")}(this.c||e.parent.exports||{}),function(t){"use strict";t.SymbolicWeight=t.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var t=1,e=arguments.length-1;e>=0;--e)this.value+=arguments[e]*t,t*=1e3},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||e.parent.exports||{}),function(t){t.Strength=t.inherit({initialize:function(e,i,n,r){this.name=e,this.symbolicWeight=i instanceof t.SymbolicWeight?i:new t.SymbolicWeight(i,n,r)},get required(){return this===t.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),t.Strength.required=new t.Strength("<Required>",1e3,1e3,1e3),t.Strength.strong=new t.Strength("strong",1,0,0),t.Strength.medium=new t.Strength("medium",0,1,0),t.Strength.weak=new t.Strength("weak",0,0,1)}(this.c||(void 0!==e?e.parent.exports.c:{})),function(t){"use strict";t.AbstractVariable=t.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(e,i){this.hashCode=t._inc(),this.name=(i||"")+this.hashCode,e&&(void 0!==e.name&&(this.name=e.name),void 0!==e.value&&(this.value=e.value),void 0!==e.prefix&&(this._prefix=e.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var t={};return this._t&&(t._t=this._t),this.name&&(t.name=this.name),void 0!==this.value&&(t.value=this.value),this._prefix&&(t._prefix=this._prefix),this._t&&(t._t=this._t),t},fromJSON:function(e,i){var n=new i;return t.extend(n,e),n},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),t.Variable=t.inherit({_t:"c.Variable",extends:t.AbstractVariable,initialize:function(e){this._init(e,"v");var i=t.Variable._map;i&&(i[this.name]=this)},isExternal:!0}),t.DummyVariable=t.inherit({_t:"c.DummyVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),t.ObjectiveVariable=t.inherit({_t:"c.ObjectiveVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"o")},value:"obj"}),t.SlackVariable=t.inherit({_t:"c.SlackVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Point=t.inherit({initialize:function(e,i,n){if(e instanceof t.Variable)this._x=e;else{var r={value:e};n&&(r.name="x"+n),this._x=new t.Variable(r)}if(i instanceof t.Variable)this._y=i;else{var o={value:i};n&&(o.name="y"+n),this._y=new t.Variable(o)}},get x(){return this._x},set x(e){e instanceof t.Variable?this._x=e:this._x.value=e},get y(){return this._y},set y(e){e instanceof t.Variable?this._y=e:this._y.value=e},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Expression=t.inherit({initialize:function(e,i,n){t.GC&&console.log("new c.Expression"),this.constant="number"!=typeof n||isNaN(n)?0:n,this.terms=new t.HashTable,e instanceof t.AbstractVariable?this.setVariable(e,"number"==typeof i?i:1):"number"==typeof e&&(isNaN(e)?console.trace():this.constant=e)},initializeFromHash:function(e,i){return t.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),t.GC&&console.log("clone c.Expression"),this.constant=e,this.terms=i.clone(),this},multiplyMe:function(t){this.constant*=t;var e=this.terms;return e.each(function(i,n){e.set(i,n*t)}),this},clone:function(){t.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var e=new t.Expression;return e.initializeFromHash(this.constant,this.terms),e},times:function(e){if("number"==typeof e)return this.clone().multiplyMe(e);if(this.isConstant)return e.times(this.constant);if(e.isConstant)return this.times(e.constant);throw new t.NonExpression},plus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,1):e instanceof t.Variable?this.clone().addVariable(e,1):void 0},minus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,-1):e instanceof t.Variable?this.clone().addVariable(e,-1):void 0},divide:function(e){if("number"==typeof e){if(t.approx(e,0))throw new t.NonExpression;return this.times(1/e)}if(e instanceof t.Expression){if(!e.isConstant)throw new t.NonExpression;return this.times(1/e.constant)}},addExpression:function(e,i,n,r){return e instanceof t.AbstractVariable&&(e=new t.Expression(e),t.trace&&console.log("addExpression: Had to cast a var to an expression")),i=i||1,this.constant+=i*e.constant,e.terms.each(function(t,e){this.addVariable(t,e*i,n,r)},this),this},addVariable:function(e,i,n,r){null==i&&(i=1),t.trace&&console.log("c.Expression::addVariable():",e,i);var o=this.terms.get(e);if(o){var s=o+i;0==s||t.approx(s,0)?(r&&r.noteRemovedVariable(e,n),this.terms.delete(e)):this.setVariable(e,s)}else t.approx(i,0)||(this.setVariable(e,i),r&&r.noteAddedVariable(e,n));return this},setVariable:function(t,e){return this.terms.set(t,e),this},anyPivotableVariable:function(){if(this.isConstant)throw new t.InternalError("anyPivotableVariable called on a constant");var e=this.terms.escapingEach(function(t){return t.isPivotable?{retval:t}:void 0});return e&&void 0!==e.retval?e.retval:null},substituteOut:function(e,i,n,r){t.trace&&(t.fnenterprint("CLE:substituteOut: "+e+", "+i+", "+n+", ..."),t.traceprint("this = "+this));var o=this.setVariable.bind(this),s=this.terms,a=s.get(e);s.delete(e),this.constant+=a*i.constant,i.terms.each(function(e,i){var l=s.get(e);if(l){var u=l+a*i;t.approx(u,0)?(r.noteRemovedVariable(e,n),s.delete(e)):o(e,u)}else o(e,a*i),r&&r.noteAddedVariable(e,n)}),t.trace&&t.traceprint("Now this is "+this)},changeSubject:function(t,e){this.setVariable(t,this.newSubject(e))},newSubject:function(e){t.trace&&t.fnenterprint("newSubject:"+e);var i=1/this.terms.get(e);return this.terms.delete(e),this.multiplyMe(-i),i},coefficientFor:function(t){return this.terms.get(t)||0},get isConstant(){return 0==this.terms.size},toString:function(){var e="",i=!1;if(!t.approx(this.constant,0)||this.isConstant){if(e+=this.constant,this.isConstant)return e;i=!0}return this.terms.each(function(t,n){i&&(e+=" + "),e+=n+"*"+t,i=!0}),e},equals:function(e){return e===this||e instanceof t.Expression&&e.constant===this.constant&&e.terms.equals(this.terms)},Plus:function(t,e){return t.plus(e)},Minus:function(t,e){return t.minus(e)},Times:function(t,e){return t.times(e)},Divide:function(t,e){return t.divide(e)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.AbstractConstraint=t.inherit({initialize:function(e,i){this.hashCode=t._inc(),this.strength=e||t.Strength.required,this.weight=i||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===t.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var e=t.AbstractConstraint.prototype.toString,i=function(e,i,n){t.AbstractConstraint.call(this,i||t.Strength.strong,n),this.variable=e,this.expression=new t.Expression(e,-1,e.value)};t.EditConstraint=t.inherit({extends:t.AbstractConstraint,initialize:function(){i.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+e.call(this)}}),t.StayConstraint=t.inherit({extends:t.AbstractConstraint,initialize:function(){i.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+e.call(this)}});var n=t.Constraint=t.inherit({extends:t.AbstractConstraint,initialize:function(e,i,n){t.AbstractConstraint.call(this,i,n),this.expression=e}});t.Inequality=t.inherit({extends:t.Constraint,_cloneOrNewCle:function(e){return e.clone?e.clone():new t.Expression(e)},initialize:function(e,i,r,o,s){var a=e instanceof t.Expression,l=r instanceof t.Expression,u=e instanceof t.AbstractVariable,c=r instanceof t.AbstractVariable,h="number"==typeof e,f="number"==typeof r;if((a||h)&&c){var d=e,p=i,_=r,g=o,v=s;if(n.call(this,this._cloneOrNewCle(d),g,v),p==t.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(_);else{if(p!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(_,-1)}}else if(u&&(l||f)){var d=r,p=i,_=e,g=o,v=s;if(n.call(this,this._cloneOrNewCle(d),g,v),p==t.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(_);else{if(p!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(_,-1)}}else{if(a&&f){var m=e,p=i,b=r,g=o,v=s;if(n.call(this,this._cloneOrNewCle(m),g,v),p==t.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(b));else{if(p!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(b),-1)}return this}if(h&&l){var m=r,p=i,b=e,g=o,v=s;if(n.call(this,this._cloneOrNewCle(m),g,v),p==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(b));else{if(p!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(b),-1)}return this}if(a&&l){var m=e,p=i,b=r,g=o,v=s;if(n.call(this,this._cloneOrNewCle(b),g,v),p==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(m));else{if(p!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(m),-1)}}else{if(a)return n.call(this,e,i,r);if(i==t.GEQ)n.call(this,new t.Expression(r),o,s),this.expression.multiplyMe(-1),this.expression.addVariable(e);else{if(i!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");n.call(this,new t.Expression(r),o,s),this.expression.addVariable(e,-1)}}}},isInequality:!0,toString:function(){return n.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),t.Equation=t.inherit({extends:t.Constraint,initialize:function(e,i,r,o){if(e instanceof t.Expression&&!i||i instanceof t.Strength)n.call(this,e,i,r);else if(e instanceof t.AbstractVariable&&i instanceof t.Expression){var s=e,a=i,l=r,u=o;n.call(this,a.clone(),l,u),this.expression.addVariable(s,-1)}else if(e instanceof t.AbstractVariable&&"number"==typeof i){var s=e,c=i,l=r,u=o;n.call(this,new t.Expression(c),l,u),this.expression.addVariable(s,-1)}else if(e instanceof t.Expression&&i instanceof t.AbstractVariable){var a=e,s=i,l=r,u=o;n.call(this,a.clone(),l,u),this.expression.addVariable(s,-1)}else{if(!(e instanceof t.Expression||e instanceof t.AbstractVariable||"number"==typeof e)||!(i instanceof t.Expression||i instanceof t.AbstractVariable||"number"==typeof i))throw"Bad initializer to c.Equation";e=e instanceof t.Expression?e.clone():new t.Expression(e),i=i instanceof t.Expression?i.clone():new t.Expression(i),n.call(this,e,r,o),this.expression.addExpression(i,-1)}t.assert(this.strength instanceof t.Strength,"_strength not set")},toString:function(){return n.prototype.toString.call(this)+" = 0)"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.EditInfo=t.inherit({initialize:function(t,e,i,n,r){this.constraint=t,this.editPlus=e,this.editMinus=i,this.prevEditConstant=n,this.index=r},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Tableau=t.inherit({initialize:function(){this.columns=new t.HashTable,this.rows=new t.HashTable,this._infeasibleRows=new t.HashSet,this._externalRows=new t.HashSet,this._externalParametricVars=new t.HashSet},noteRemovedVariable:function(e,i){t.trace&&console.log("c.Tableau::noteRemovedVariable: ",e,i);var n=this.columns.get(e);i&&n&&n.delete(i)},noteAddedVariable:function(t,e){e&&this.insertColVar(t,e)},getInternalInfo:function(){var t="Tableau Information:\n";return t+="Rows: "+this.rows.size,t+=" (= "+(this.rows.size-1)+" constraints)",t+="\nColumns: "+this.columns.size,t+="\nInfeasible Rows: "+this._infeasibleRows.size,t+="\nExternal basic variables: "+this._externalRows.size,t+="\nExternal parametric variables: ",t+=this._externalParametricVars.size,t+="\n"},toString:function(){var t="Tableau:\n";return this.rows.each(function(e,i){t+=e,t+=" <==> ",t+=i,t+="\n"}),t+="\nColumns:\n",t+=this.columns,t+="\nInfeasible rows: ",t+=this._infeasibleRows,t+="External basic variables: ",t+=this._externalRows,t+="External parametric variables: ",t+=this._externalParametricVars},insertColVar:function(e,i){var n=this.columns.get(e);n||(n=new t.HashSet,this.columns.set(e,n)),n.add(i)},addRow:function(e,i){t.trace&&t.fnenterprint("addRow: "+e+", "+i),this.rows.set(e,i),i.terms.each(function(t){this.insertColVar(t,e),t.isExternal&&this._externalParametricVars.add(t)},this),e.isExternal&&this._externalRows.add(e),t.trace&&t.traceprint(""+this)},removeColumn:function(e){t.trace&&t.fnenterprint("removeColumn:"+e);var i=this.columns.get(e);i?(this.columns.delete(e),i.each(function(t){this.rows.get(t).terms.delete(e)},this)):t.trace&&console.log("Could not find var",e,"in columns"),e.isExternal&&(this._externalRows.delete(e),this._externalParametricVars.delete(e))},removeRow:function(e){t.trace&&t.fnenterprint("removeRow:"+e);var i=this.rows.get(e);return t.assert(null!=i),i.terms.each(function(i){var n=this.columns.get(i);null!=n&&(t.trace&&console.log("removing from varset:",e),n.delete(e))},this),this._infeasibleRows.delete(e),e.isExternal&&this._externalRows.delete(e),this.rows.delete(e),t.trace&&t.fnexitprint("returning "+i),i},substituteOut:function(e,i){t.trace&&t.fnenterprint("substituteOut:"+e+", "+i),t.trace&&t.traceprint(""+this),this.columns.get(e).each(function(t){var n=this.rows.get(t);n.substituteOut(e,i,t,this),t.isRestricted&&0>n.constant&&this._infeasibleRows.add(t)},this),e.isExternal&&(this._externalRows.add(e),this._externalParametricVars.delete(e)),this.columns.delete(e)},columnsHasKey:function(t){return!!this.columns.get(t)}})}(this.c||e.parent.exports||{}),function(t){var e=t.Tableau,i=e.prototype,n=t.Strength.weak;t.SimplexSolver=t.inherit({extends:t.Tableau,initialize:function(){t.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new t.HashTable,this._markerVars=new t.HashTable,this._objective=new t.ObjectiveVariable({name:"Z"}),this._editVarMap=new t.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new t.Expression),this._stkCedcns=[0],t.trace&&t.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(e,i){var n=new t.Inequality(e,t.GEQ,new t.Expression(i));return this.addConstraint(n)},addUpperBound:function(e,i){var n=new t.Inequality(e,t.LEQ,new t.Expression(i));return this.addConstraint(n)},addBounds:function(t,e,i){return this.addLowerBound(t,e),this.addUpperBound(t,i),this},add:function(){for(var t=0;arguments.length>t;t++)this.addConstraint(arguments[t]);return this},addConstraint:function(e){t.trace&&t.fnenterprint("addConstraint: "+e);var i=Array(2),n=Array(1),r=this.newExpression(e,i,n);if(n=n[0],this.tryAddingDirectly(r)||this.addWithArtificialVariable(r),this._fNeedsSolving=!0,e.isEditConstraint){var o=this._editVarMap.size,s=i[0],a=i[1];!s instanceof t.SlackVariable&&console.warn("cvEplus not a slack variable =",s),!a instanceof t.SlackVariable&&console.warn("cvEminus not a slack variable =",a),t.debug&&console.log("new c.EditInfo("+e+", "+s+", "+a+", "+n+", "+o+")");var l=new t.EditInfo(e,s,a,n,o);this._editVarMap.set(e.variable,l),this._editVarList[o]={v:e.variable,info:l}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(e){t.trace&&t.fnenterprint("addConstraintNoException: "+e);try{return this.addConstraint(e),!0}catch(t){return!1}},addEditVar:function(e,i){return t.trace&&t.fnenterprint("addEditVar: "+e+" @ "+i),this.addConstraint(new t.EditConstraint(e,i||t.Strength.strong))},beginEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(e){try{for(var i=this._editVarList.length,n=e;i>n;n++)this._editVarList[n]&&this.removeConstraint(this._editVarMap.get(this._editVarList[n].v).constraint);return this._editVarList.length=e,t.assert(this._editVarMap.size==e,"_editVarMap.size == n"),this}catch(e){throw new t.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(e){return t.trace&&console.log("addPointStays",e),e.forEach(function(t,e){this.addStay(t.x,n,Math.pow(2,e)),this.addStay(t.y,n,Math.pow(2,e))},this),this},addStay:function(e,i,r){var o=new t.StayConstraint(e,i||n,r||1);return this.addConstraint(o)},removeConstraint:function(t){return this.removeConstraintInternal(t),this},removeConstraintInternal:function(e){t.trace&&t.fnenterprint("removeConstraintInternal: "+e),t.trace&&t.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var i=this.rows.get(this._objective),n=this._errorVars.get(e);t.trace&&t.traceprint("eVars == "+n),null!=n&&n.each(function(r){var o=this.rows.get(r);null==o?i.addVariable(r,-e.weight*e.strength.symbolicWeight.value,this._objective,this):i.addExpression(o,-e.weight*e.strength.symbolicWeight.value,this._objective,this),t.trace&&t.traceprint("now eVars == "+n)},this);var r=this._markerVars.get(e);if(this._markerVars.delete(e),null==r)throw new t.InternalError("Constraint not found in removeConstraintInternal");if(t.trace&&t.traceprint("Looking to remove var "+r),null==this.rows.get(r)){var o=this.columns.get(r);t.trace&&t.traceprint("Must pivot -- columns are "+o);var s=null,a=0;o.each(function(e){if(e.isRestricted){var i=this.rows.get(e),n=i.coefficientFor(r);if(t.trace&&t.traceprint("Marker "+r+"'s coefficient in "+i+" is "+n),0>n){var o=-i.constant/n;(null==s||a>o||t.approx(o,a)&&e.hashCode<s.hashCode)&&(a=o,s=e)}}},this),null==s&&(t.trace&&t.traceprint("exitVar is still null"),o.each(function(t){if(t.isRestricted){var e=this.rows.get(t),i=e.coefficientFor(r),n=e.constant/i;(null==s||a>n)&&(a=n,s=t)}},this)),null==s&&(0==o.size?this.removeColumn(r):o.escapingEach(function(t){return t!=this._objective?(s=t,{brk:!0}):void 0},this)),null!=s&&this.pivot(r,s)}if(null!=this.rows.get(r)&&this.removeRow(r),null!=n&&n.each(function(t){t!=r&&this.removeColumn(t)},this),e.isStayConstraint){if(null!=n)for(var l=0;this._stayPlusErrorVars.length>l;l++)n.delete(this._stayPlusErrorVars[l]),n.delete(this._stayMinusErrorVars[l])}else if(e.isEditConstraint){t.assert(null!=n,"eVars != null");var u=this._editVarMap.get(e.variable);this.removeColumn(u.editMinus),this._editVarMap.delete(e.variable)}return null!=n&&this._errorVars.delete(n),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw t.trace&&t.fnenterprint("reset"),new t.InternalError("reset not implemented")},resolveArray:function(e){t.trace&&t.fnenterprint("resolveArray"+e);var i=e.length;this._editVarMap.each(function(t,n){var r=n.index;i>r&&this.suggestValue(t,e[r])},this),this.resolve()},resolvePair:function(t,e){this.suggestValue(this._editVarList[0].v,t),this.suggestValue(this._editVarList[1].v,e),this.resolve()},resolve:function(){t.trace&&t.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(e,i){t.trace&&console.log("suggestValue("+e+", "+i+")");var n=this._editVarMap.get(e);if(!n)throw new t.Error("suggestValue for variable "+e+", but var is not an edit variable");var r=i-n.prevEditConstant;return n.prevEditConstant=i,this.deltaEditConstant(r,n.editPlus,n.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(e,i){if(!this.columnsHasKey(e)&&null==this.rows.get(e))return e.value=i,this;if(!t.approx(i,e.value)){this.addEditVar(e),this.beginEdit();try{this.suggestValue(e,i)}catch(e){throw new t.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(e){if(!this.columnsHasKey(e)&&null==this.rows.get(e)){try{this.addStay(e)}catch(e){throw new t.InternalError("Error in addVar -- required failure is impossible")}t.trace&&t.traceprint("added initial stay on "+e)}return this},getInternalInfo:function(){var t=i.getInternalInfo.call(this);return t+="\nSolver info:\n",t+="Stay Error Variables: ",t+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,t+=" ("+this._stayPlusErrorVars.length+" +, ",t+=this._stayMinusErrorVars.length+" -)\n",t+="Edit Variables: "+this._editVarMap.size,t+="\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var t=i.getInternalInfo.call(this);return t+="\n_stayPlusErrorVars: ",t+="["+this._stayPlusErrorVars+"]",t+="\n_stayMinusErrorVars: ",t+="["+this._stayMinusErrorVars+"]",t+="\n",t+="_editVarMap:\n"+this._editVarMap,t+="\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(e){t.trace&&t.fnenterprint("addWithArtificialVariable: "+e);var i=new t.SlackVariable({value:++this._artificialCounter,prefix:"a"}),n=new t.ObjectiveVariable({name:"az"}),r=e.clone();t.trace&&t.traceprint("before addRows:\n"+this),this.addRow(n,r),this.addRow(i,e),t.trace&&t.traceprint("after addRows:\n"+this),this.optimize(n);var o=this.rows.get(n);if(t.trace&&t.traceprint("azTableauRow.constant == "+o.constant),!t.approx(o.constant,0))throw this.removeRow(n),this.removeColumn(i),new t.RequiredFailure;var s=this.rows.get(i);if(null!=s){if(s.isConstant)return this.removeRow(i),void this.removeRow(n);var a=s.anyPivotableVariable();this.pivot(a,i)}t.assert(null==this.rows.get(i),"rowExpression(av) == null"),this.removeColumn(i),this.removeRow(n)},tryAddingDirectly:function(e){t.trace&&t.fnenterprint("tryAddingDirectly: "+e);var i=this.chooseSubject(e);return null==i?(t.trace&&t.fnexitprint("returning false"),!1):(e.newSubject(i),this.columnsHasKey(i)&&this.substituteOut(i,e),this.addRow(i,e),t.trace&&t.fnexitprint("returning true"),!0)},chooseSubject:function(e){t.trace&&t.fnenterprint("chooseSubject: "+e);var i=null,n=!1,r=!1,o=e.terms,s=o.escapingEach(function(t,e){if(n){if(!t.isRestricted&&!this.columnsHasKey(t))return{retval:t}}else if(t.isRestricted){if(!r&&!t.isDummy&&0>e){var o=this.columns.get(t);(null==o||1==o.size&&this.columnsHasKey(this._objective))&&(i=t,r=!0)}}else i=t,n=!0},this);if(s&&void 0!==s.retval)return s.retval;if(null!=i)return i;var a=0,s=o.escapingEach(function(t,e){return t.isDummy?void(this.columnsHasKey(t)||(i=t,a=e)):{retval:null}},this);if(s&&void 0!==s.retval)return s.retval;if(!t.approx(e.constant,0))throw new t.RequiredFailure;return a>0&&e.multiplyMe(-1),i},deltaEditConstant:function(e,i,n){t.trace&&t.fnenterprint("deltaEditConstant :"+e+", "+i+", "+n);var r=this.rows.get(i);if(null!=r)return r.constant+=e,void(0>r.constant&&this._infeasibleRows.add(i));var o=this.rows.get(n);if(null!=o)return o.constant+=-e,void(0>o.constant&&this._infeasibleRows.add(n));var s=this.columns.get(n);s||console.log("columnVars is null -- tableau is:\n"+this),s.each(function(t){var i=this.rows.get(t),r=i.coefficientFor(n);i.constant+=r*e,t.isRestricted&&0>i.constant&&this._infeasibleRows.add(t)},this)},dualOptimize:function(){t.trace&&t.fnenterprint("dualOptimize:");for(var e=this.rows.get(this._objective);this._infeasibleRows.size;){var i=this._infeasibleRows.values()[0];this._infeasibleRows.delete(i);var n=null,r=this.rows.get(i);if(r&&0>r.constant){var o,s=Number.MAX_VALUE;if(r.terms.each(function(i,r){if(r>0&&i.isPivotable){var a=e.coefficientFor(i);o=a/r,(s>o||t.approx(o,s)&&i.hashCode<n.hashCode)&&(n=i,s=o)}}),s==Number.MAX_VALUE)throw new t.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(n,i)}}},newExpression:function(e,i,n){t.trace&&(t.fnenterprint("newExpression: "+e),t.traceprint("cn.isInequality == "+e.isInequality),t.traceprint("cn.required == "+e.required));var r=e.expression,o=new t.Expression(r.constant),s=new t.SlackVariable,a=new t.DummyVariable,l=new t.SlackVariable,u=new t.SlackVariable;if(r.terms.each(function(t,e){var i=this.rows.get(t);i?o.addExpression(i,e):o.addVariable(t,e)},this),e.isInequality){if(t.trace&&t.traceprint("Inequality, adding slack"),++this._slackCounter,s=new t.SlackVariable({value:this._slackCounter,prefix:"s"}),o.setVariable(s,-1),this._markerVars.set(e,s),!e.required){++this._slackCounter,l=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),o.setVariable(l,1);var c=this.rows.get(this._objective);c.setVariable(l,e.strength.symbolicWeight.value*e.weight),this.insertErrorVar(e,l),this.noteAddedVariable(l,this._objective)}}else if(e.required)t.trace&&t.traceprint("Equality, required"),++this._dummyCounter,a=new t.DummyVariable({value:this._dummyCounter,prefix:"d"}),o.setVariable(a,1),this._markerVars.set(e,a),t.trace&&t.traceprint("Adding dummyVar == d"+this._dummyCounter);else{t.trace&&t.traceprint("Equality, not required"),++this._slackCounter,u=new t.SlackVariable({value:this._slackCounter,prefix:"ep"}),l=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),o.setVariable(u,-1),o.setVariable(l,1),this._markerVars.set(e,u);var c=this.rows.get(this._objective);t.trace&&console.log(c);var h=e.strength.symbolicWeight.value*e.weight;0==h&&(t.trace&&t.traceprint("cn == "+e),t.trace&&t.traceprint("adding "+u+" and "+l+" with swCoeff == "+h)),c.setVariable(u,h),this.noteAddedVariable(u,this._objective),c.setVariable(l,h),this.noteAddedVariable(l,this._objective),this.insertErrorVar(e,l),this.insertErrorVar(e,u),e.isStayConstraint?(this._stayPlusErrorVars.push(u),this._stayMinusErrorVars.push(l)):e.isEditConstraint&&(i[0]=u,i[1]=l,n[0]=r.constant)}return 0>o.constant&&o.multiplyMe(-1),t.trace&&t.fnexitprint("returning "+o),o},optimize:function(e){t.trace&&t.fnenterprint("optimize: "+e),t.trace&&t.traceprint(""+this),this._optimizeCount++;var i=this.rows.get(e);t.assert(null!=i,"zRow != null");for(var n,r,o=null,s=null;;){if(n=0,r=i.terms,r.escapingEach(function(t,e){return t.isPivotable&&n>e?(n=e,o=t,{brk:1}):void 0},this),n>=-1e-8)return;t.trace&&console.log("entryVar:",o,"objectiveCoeff:",n);var a=Number.MAX_VALUE,l=this.columns.get(o),u=0;if(l.each(function(e){if(t.trace&&t.traceprint("Checking "+e),e.isPivotable){var i=this.rows.get(e),n=i.coefficientFor(o);t.trace&&t.traceprint("pivotable, coeff = "+n),0>n&&(u=-i.constant/n,(a>u||t.approx(u,a)&&e.hashCode<s.hashCode)&&(a=u,s=e))}},this),a==Number.MAX_VALUE)throw new t.InternalError("Objective function is unbounded in optimize");this.pivot(o,s),t.trace&&t.traceprint(""+this)}},pivot:function(e,i){t.trace&&console.log("pivot: ",e,i);null==e&&console.warn("pivot: entryVar == null"),null==i&&console.warn("pivot: exitVar == null");var n=this.removeRow(i);n.changeSubject(i,e),this.substituteOut(e,n),this.addRow(e,n)},_resetStayConstants:function(){t.trace&&console.log("_resetStayConstants");for(var e=0;this._stayPlusErrorVars.length>e;e++){var i=this.rows.get(this._stayPlusErrorVars[e]);null==i&&(i=this.rows.get(this._stayMinusErrorVars[e])),null!=i&&(i.constant=0)}},_setExternalVariables:function(){t.trace&&t.fnenterprint("_setExternalVariables:"),t.trace&&t.traceprint(""+this),this._externalParametricVars.each(function(e){null!=this.rows.get(e)?t.trace&&console.log("Error: variable"+e+" in _externalParametricVars is basic"):e.value=0},this),this._externalRows.each(function(t){var e=this.rows.get(t);t.value!=e.constant&&(t.value=e.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(e,i){t.trace&&t.fnenterprint("insertErrorVar:"+e+", "+i);var n=this._errorVars.get(i);n||(n=new t.HashSet,this._errorVars.set(e,n)),n.add(i)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Timer=t.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||e.parent.exports||{}),__cassowary_parser=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,i){function n(t){F>k||(k>F&&(F=k,D=[]),D.push(t))}function r(){var t,e,i,n,r;if(n=k,r=k,null!==(t=m())){if(null!==(i=o()))for(e=[];null!==i;)e.push(i),i=o();else e=null;null!==e?(i=m(),null!==i?t=[t,e,i]:(t=null,k=r)):(t=null,k=r)}else t=null,k=r;return null!==t&&(t=function(t,e){return e}(0,t[1])),null===t&&(k=n),t}function o(){var t,e,i,n;return i=k,n=k,t=P(),null!==t?(e=h(),null!==e?t=[t,e]:(t=null,k=n)):(t=null,k=n),null!==t&&(t=function(t,e){return e}(0,t[0])),null===t&&(k=i),t}function s(){var t;return e.length>k?(t=e.charAt(k),k++):(t=null,0===z&&n("any character")),t}function a(){var t;return/^[a-zA-Z]/.test(e.charAt(k))?(t=e.charAt(k),k++):(t=null,0===z&&n("[a-zA-Z]")),null===t&&(36===e.charCodeAt(k)?(t="$",k++):(t=null,0===z&&n('"$"')),null===t&&(95===e.charCodeAt(k)?(t="_",k++):(t=null,0===z&&n('"_"')))),t}function l(){var t;return z++,/^[\t\x0B\f \xA0\uFEFF]/.test(e.charAt(k))?(t=e.charAt(k),k++):(t=null,0===z&&n("[\\t\\x0B\\f \\xA0\\uFEFF]")),z--,0===z&&null===t&&n("whitespace"),t}function u(){var t;return/^[\n\r\u2028\u2029]/.test(e.charAt(k))?(t=e.charAt(k),k++):(t=null,0===z&&n("[\\n\\r\\u2028\\u2029]")),t}function c(){var t;return z++,10===e.charCodeAt(k)?(t="\n",k++):(t=null,0===z&&n('"\\n"')),null===t&&("\r\n"===e.substr(k,2)?(t="\r\n",k+=2):(t=null,0===z&&n('"\\r\\n"')),null===t&&(13===e.charCodeAt(k)?(t="\r",k++):(t=null,0===z&&n('"\\r"')),null===t&&(8232===e.charCodeAt(k)?(t="\u2028",k++):(t=null,0===z&&n('"\\u2028"')),null===t&&(8233===e.charCodeAt(k)?(t="\u2029",k++):(t=null,0===z&&n('"\\u2029"')))))),z--,0===z&&null===t&&n("end of line"),t}function h(){var t,i,r;return r=k,t=m(),null!==t?(59===e.charCodeAt(k)?(i=";",k++):(i=null,0===z&&n('";"')),null!==i?t=[t,i]:(t=null,k=r)):(t=null,k=r),null===t&&(r=k,t=v(),null!==t?(i=c(),null!==i?t=[t,i]:(t=null,k=r)):(t=null,k=r),null===t&&(r=k,t=m(),null!==t?(i=f(),null!==i?t=[t,i]:(t=null,k=r)):(t=null,k=r))),t}function f(){var t,i;return i=k,z++,e.length>k?(t=e.charAt(k),k++):(t=null,0===z&&n("any character")),z--,null===t?t="":(t=null,k=i),t}function d(){var t;return z++,t=p(),null===t&&(t=g()),z--,0===z&&null===t&&n("comment"),t}function p(){var t,i,r,o,a,l,u;if(a=k,"/*"===e.substr(k,2)?(t="/*",k+=2):(t=null,0===z&&n('"/*"')),null!==t){for(i=[],l=k,u=k,z++,"*/"===e.substr(k,2)?(r="*/",k+=2):(r=null,0===z&&n('"*/"')),z--,null===r?r="":(r=null,k=u),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,k=l)):(r=null,k=l);null!==r;)i.push(r),l=k,u=k,z++,"*/"===e.substr(k,2)?(r="*/",k+=2):(r=null,0===z&&n('"*/"')),z--,null===r?r="":(r=null,k=u),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,k=l)):(r=null,k=l);null!==i?("*/"===e.substr(k,2)?(r="*/",k+=2):(r=null,0===z&&n('"*/"')),null!==r?t=[t,i,r]:(t=null,k=a)):(t=null,k=a)}else t=null,k=a;return t}function _(){var t,i,r,o,a,l,c;if(a=k,"/*"===e.substr(k,2)?(t="/*",k+=2):(t=null,0===z&&n('"/*"')),null!==t){for(i=[],l=k,c=k,z++,"*/"===e.substr(k,2)?(r="*/",k+=2):(r=null,0===z&&n('"*/"')),null===r&&(r=u()),z--,null===r?r="":(r=null,k=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,k=l)):(r=null,k=l);null!==r;)i.push(r),l=k,c=k,z++,"*/"===e.substr(k,2)?(r="*/",k+=2):(r=null,0===z&&n('"*/"')),null===r&&(r=u()),z--,null===r?r="":(r=null,k=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,k=l)):(r=null,k=l);null!==i?("*/"===e.substr(k,2)?(r="*/",k+=2):(r=null,0===z&&n('"*/"')),null!==r?t=[t,i,r]:(t=null,k=a)):(t=null,k=a)}else t=null,k=a;return t}function g(){var t,i,r,o,a,l,c;if(a=k,"//"===e.substr(k,2)?(t="//",k+=2):(t=null,0===z&&n('"//"')),null!==t){for(i=[],l=k,c=k,z++,r=u(),z--,null===r?r="":(r=null,k=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,k=l)):(r=null,k=l);null!==r;)i.push(r),l=k,c=k,z++,r=u(),z--,null===r?r="":(r=null,k=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,k=l)):(r=null,k=l);null!==i?t=[t,i]:(t=null,k=a)}else t=null,k=a;return t}function v(){var t,e;for(t=[],null===(e=l())&&null===(e=_())&&(e=g());null!==e;)t.push(e),null===(e=l())&&null===(e=_())&&(e=g());return t}function m(){var t,e;for(t=[],null===(e=l())&&null===(e=c())&&(e=d());null!==e;)t.push(e),null===(e=l())&&null===(e=c())&&(e=d());return t}function b(){var t,e;return e=k,t=w(),null===t&&(t=y()),null!==t&&(t=function(t,e){return{type:"NumericLiteral",value:e}}(0,t)),null===t&&(k=e),t}function y(){var t,i,r;if(r=k,/^[0-9]/.test(e.charAt(k))?(i=e.charAt(k),k++):(i=null,0===z&&n("[0-9]")),null!==i)for(t=[];null!==i;)t.push(i),/^[0-9]/.test(e.charAt(k))?(i=e.charAt(k),k++):(i=null,0===z&&n("[0-9]"));else t=null;return null!==t&&(t=function(t,e){return parseInt(e.join(""))}(0,t)),null===t&&(k=r),t}function w(){var t,i,r,o,s;return o=k,s=k,t=y(),null!==t?(46===e.charCodeAt(k)?(i=".",k++):(i=null,0===z&&n('"."')),null!==i?(r=y(),null!==r?t=[t,i,r]:(t=null,k=s)):(t=null,k=s)):(t=null,k=s),null!==t&&(t=function(t,e){return parseFloat(e.join(""))}(0,t)),null===t&&(k=o),t}function S(){var t,i,r,o;if(o=k,/^[\-+]/.test(e.charAt(k))?(t=e.charAt(k),k++):(t=null,0===z&&n("[\\-+]")),null!==(t=null!==t?t:"")){if(/^[0-9]/.test(e.charAt(k))?(r=e.charAt(k),k++):(r=null,0===z&&n("[0-9]")),null!==r)for(i=[];null!==r;)i.push(r),/^[0-9]/.test(e.charAt(k))?(r=e.charAt(k),k++):(r=null,0===z&&n("[0-9]"));else i=null;null!==i?t=[t,i]:(t=null,k=o)}else t=null,k=o;return t}function x(){var t,e;return z++,e=k,t=A(),null!==t&&(t=function(t,e){return e}(0,t)),null===t&&(k=e),z--,0===z&&null===t&&n("identifier"),t}function A(){var t,e,i,r,o;if(z++,r=k,o=k,null!==(t=a())){for(e=[],i=a();null!==i;)e.push(i),i=a();null!==e?t=[t,e]:(t=null,k=o)}else t=null,k=o;return null!==t&&(t=function(t,e,i){return e+i.join("")}(0,t[0],t[1])),null===t&&(k=r),z--,0===z&&null===t&&n("identifier"),t}function C(){var t,i,r,o,s,a,l;return a=k,t=x(),null!==t&&(t=function(t,e){return{type:"Variable",name:e}}(0,t)),null===t&&(k=a),null===t&&null===(t=b())&&(a=k,l=k,40===e.charCodeAt(k)?(t="(",k++):(t=null,0===z&&n('"("')),null!==t?(i=m(),null!==i?(r=P(),null!==r?(o=m(),null!==o?(41===e.charCodeAt(k)?(s=")",k++):(s=null,0===z&&n('")"')),null!==s?t=[t,i,r,o,s]:(t=null,k=l)):(t=null,k=l)):(t=null,k=l)):(t=null,k=l)):(t=null,k=l),null!==t&&(t=function(t,e){return e}(0,t[2])),null===t&&(k=a)),t}function T(){var t,e,i,n,r;return t=C(),null===t&&(n=k,r=k,t=V(),null!==t?(e=m(),null!==e?(i=T(),null!==i?t=[t,e,i]:(t=null,k=r)):(t=null,k=r)):(t=null,k=r),null!==t&&(t=function(t,e,i){return{type:"UnaryExpression",operator:e,expression:i}}(0,t[0],t[2])),null===t&&(k=n)),t}function V(){var t;return 43===e.charCodeAt(k)?(t="+",k++):(t=null,0===z&&n('"+"')),null===t&&(45===e.charCodeAt(k)?(t="-",k++):(t=null,0===z&&n('"-"')),null===t&&(33===e.charCodeAt(k)?(t="!",k++):(t=null,0===z&&n('"!"')))),t}function E(){var t,e,i,n,r,o,s,a,l;if(s=k,a=k,null!==(t=T())){for(e=[],l=k,i=m(),null!==i?(n=O(),null!==n?(r=m(),null!==r?(o=T(),null!==o?i=[i,n,r,o]:(i=null,k=l)):(i=null,k=l)):(i=null,k=l)):(i=null,k=l);null!==i;)e.push(i),l=k,i=m(),null!==i?(n=O(),null!==n?(r=m(),null!==r?(o=T(),null!==o?i=[i,n,r,o]:(i=null,k=l)):(i=null,k=l)):(i=null,k=l)):(i=null,k=l);null!==e?t=[t,e]:(t=null,k=a)}else t=null,k=a;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"MultiplicativeExpression",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(k=s),t}function O(){var t;return 42===e.charCodeAt(k)?(t="*",k++):(t=null,0===z&&n('"*"')),null===t&&(47===e.charCodeAt(k)?(t="/",k++):(t=null,0===z&&n('"/"'))),t}function I(){var t,e,i,n,r,o,s,a,l;if(s=k,a=k,null!==(t=E())){for(e=[],l=k,i=m(),null!==i?(n=M(),null!==n?(r=m(),null!==r?(o=E(),null!==o?i=[i,n,r,o]:(i=null,k=l)):(i=null,k=l)):(i=null,k=l)):(i=null,k=l);null!==i;)e.push(i),l=k,i=m(),null!==i?(n=M(),null!==n?(r=m(),null!==r?(o=E(),null!==o?i=[i,n,r,o]:(i=null,k=l)):(i=null,k=l)):(i=null,k=l)):(i=null,k=l);null!==e?t=[t,e]:(t=null,k=a)}else t=null,k=a;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"AdditiveExpression",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(k=s),t}function M(){var t;return 43===e.charCodeAt(k)?(t="+",k++):(t=null,0===z&&n('"+"')),null===t&&(45===e.charCodeAt(k)?(t="-",k++):(t=null,0===z&&n('"-"'))),t}function L(){var t,e,i,n,r,o,s,a,l;if(s=k,a=k,null!==(t=I())){for(e=[],l=k,i=m(),null!==i?(n=R(),null!==n?(r=m(),null!==r?(o=I(),null!==o?i=[i,n,r,o]:(i=null,k=l)):(i=null,k=l)):(i=null,k=l)):(i=null,k=l);null!==i;)e.push(i),l=k,i=m(),null!==i?(n=R(),null!==n?(r=m(),null!==r?(o=I(),null!==o?i=[i,n,r,o]:(i=null,k=l)):(i=null,k=l)):(i=null,k=l)):(i=null,k=l);null!==e?t=[t,e]:(t=null,k=a)}else t=null,k=a;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"Inequality",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(k=s),t}function R(){var t;return"<="===e.substr(k,2)?(t="<=",k+=2):(t=null,0===z&&n('"<="')),null===t&&(">="===e.substr(k,2)?(t=">=",k+=2):(t=null,0===z&&n('">="')),null===t&&(60===e.charCodeAt(k)?(t="<",k++):(t=null,0===z&&n('"<"')),null===t&&(62===e.charCodeAt(k)?(t=">",k++):(t=null,0===z&&n('">"'))))),t}function P(){var t,i,r,o,s,a,l,u,c;if(l=k,u=k,null!==(t=L())){for(i=[],c=k,r=m(),null!==r?("=="===e.substr(k,2)?(o="==",k+=2):(o=null,0===z&&n('"=="')),null!==o?(s=m(),null!==s?(a=L(),null!==a?r=[r,o,s,a]:(r=null,k=c)):(r=null,k=c)):(r=null,k=c)):(r=null,k=c);null!==r;)i.push(r),c=k,r=m(),null!==r?("=="===e.substr(k,2)?(o="==",k+=2):(o=null,0===z&&n('"=="')),null!==o?(s=m(),null!==s?(a=L(),null!==a?r=[r,o,s,a]:(r=null,k=c)):(r=null,k=c)):(r=null,k=c)):(r=null,k=c);null!==i?t=[t,i]:(t=null,k=u)}else t=null,k=u;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"Equality",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(k=l),t}var j={start:r,Statement:o,SourceCharacter:s,IdentifierStart:a,WhiteSpace:l,LineTerminator:u,LineTerminatorSequence:c,EOS:h,EOF:f,Comment:d,MultiLineComment:p,MultiLineCommentNoLineTerminator:_,SingleLineComment:g,_:v,__:m,Literal:b,Integer:y,Real:w,SignedInteger:S,Identifier:x,IdentifierName:A,PrimaryExpression:C,UnaryExpression:T,UnaryOperator:V,MultiplicativeExpression:E,MultiplicativeOperator:O,AdditiveExpression:I,AdditiveOperator:M,InequalityExpression:L,InequalityOperator:R,LinearExpression:P};if(void 0!==i){if(void 0===j[i])throw Error("Invalid rule name: "+t(i)+".")}else i="start";var k=0,z=0,F=0,D=[],H=j[i]();if(null===H||k!==e.length){var N=Math.max(k,F),q=e.length>N?e.charAt(N):null,W=function(){for(var t=1,i=1,n=!1,r=0;Math.max(k,F)>r;r++){var o=e.charAt(r);"\n"===o?(n||t++,i=1,n=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t++,i=1,n=!0):(i++,n=!1)}return{line:t,column:i}}();throw new this.SyntaxError(function(t){t.sort();for(var e=null,i=[],n=0;t.length>n;n++)t[n]!==e&&(i.push(t[n]),e=t[n]);return i}(D),q,N,W.line,W.column)}return H},toSource:function(){return this._source}};return e.SyntaxError=function(e,i,n,r,o){this.name="SyntaxError",this.expected=e,this.found=i,this.message=function(e,i){var n,r;switch(e.length){case 0:n="end of input";break;case 1:n=e[0];break;default:n=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return r=i?t(i):"end of input","Expected "+n+" but "+r+" found."}(e,i),this.offset=n,this.line=r,this.column=o},e.SyntaxError.prototype=Error.prototype,e}()}).call(void 0!==e?e.compiled=e:this)},{}]},{},[1])(1)})},function(t,e,i){"use strict";(function(t,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=i(3),a=i(6),l=i(32),u=window.PIXI,c=function(e){function i(t){var i=e.call(this,t)||this;return i.textContainer=new u.Container,i._font=new o.Font(14),i._textColor=new o.Color(0,0,0),i._textAlignment=o.TextAlignment.Left,i._numberOfLines=1,i._lineBreakMode=o.LineBreakMode.WordWrapping,i._lineSpace=12,i._preferredMaxLayoutWidth=1/0,i.nativeObject.addChildAt(i.textContainer,1),i}return r(i,e),i.prototype.layoutSubviews=function(){e.prototype.layoutSubviews.call(this),this.drawText()},Object.defineProperty(i.prototype,"text",{get:function(){return this._text},set:function(t){this._text!==t&&(this._text=t,this.drawText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"font",{get:function(){return this._font},set:function(t){this._font=t,this.drawText()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textColor",{get:function(){return this._textColor},set:function(t){this._textColor.equals(t)||(this._textColor=t,this.drawText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textAlignment",{get:function(){return this._textAlignment},set:function(t){this._textAlignment!==t&&(this._textAlignment=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"numberOfLines",{get:function(){return this._numberOfLines},set:function(t){this._numberOfLines!==t&&(this._numberOfLines=t,this.drawText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineBreakMode",{get:function(){return this._lineBreakMode},set:function(t){this._lineBreakMode!==t&&(this._lineBreakMode=t,this.drawText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineSpace",{get:function(){return this._lineSpace},set:function(t){this._lineSpace!==t&&(this._lineSpace=t,this.drawText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"preferredMaxLayoutWidth",{get:function(){return this._preferredMaxLayoutWidth},set:function(t){this._preferredMaxLayoutWidth!==t&&(this._preferredMaxLayoutWidth=t,this.setNeedsLayout())},enumerable:!0,configurable:!0}),i.prototype.intrinsicContentSize=function(t){if(this.text){var e=new l.StaticTextLayout(this.numberOfLines,this.lineSpace,this.text,this.font,{x:0,y:0,width:t||this.preferredMaxLayoutWidth,height:1/0},{left:0,top:0,bottom:0,right:0});return{width:e.textRect.width,height:e.textRect.height+2}}},i.prototype.drawText=function(){var e=this;t(this._drawTextImmediate),this._drawTextImmediate=n(function(){if(e.textContainer.removeChildren(),e.text){var t=new u.TextStyle({fontSize:o.Screen.withScale(e.font.pointSize),fontWeight:e.font.fontWeight,fill:e.textColor.rgbHexString()});new l.StaticTextLayout(e.numberOfLines,e.lineSpace,e.text,e.font,e.bounds,{left:0,top:0,bottom:0,right:0}).textLines(e.bounds,e.textAlignment,o.TextVerticalAlignment.Center,e.lineBreakMode).forEach(function(i){var n=new u.Text(i.text,t);n.x=0,n.y=o.Screen.withScale(i.y);var r=n.getBounds();if(r.width>o.Screen.withScale(e.bounds.width))return void i.elements.forEach(function(n){var r=new u.Text(n.character,t);r.x=o.Screen.withScale(i.x+n.x),r.y=o.Screen.withScale(i.y),e.textContainer.addChild(r)});e.textAlignment==o.TextAlignment.Center&&(n.x=Math.ceil((o.Screen.withScale(e.bounds.width)-r.width)/2)),e.textContainer.addChild(n)})}a.setNeedsDisplay(e)})},i.prototype.textRectForBounds=function(t){if(this.text){new u.TextStyle({fontSize:o.Screen.withScale(this.font.pointSize),fill:this.textColor.rgbHexString()});return new l.StaticTextLayout(this.numberOfLines,this.lineSpace,this.text,this.font,this.bounds,{left:0,top:0,bottom:0,right:0}).bounds}return o.RectZero},i}(s.View);e.Label=c}).call(e,i(2).clearImmediate,i(2).setImmediate)},function(t,e,i){"use strict";(function(t,n){var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=i(7),s=i(3),a=i(6),l=i(1),u=window.PIXI,c=new u.loaders.Loader,h=[],f=[],d=0,p=function(){function e(t,e,i,n){this.renderingMode=l.RenderingMode.Original,this.baseTexture=t,this.size=e,this.scale=i,this.renderingMode=n}return e.fromURL=function(t,e,i){f.push({url:t,success:e,failure:i}),this.loadImage()},e.fromAssets=function(t,e,i){t.indexOf(".")<0&&(t+=".png"),this.fromURL(this.assetsPath+t,e,i)},e.fromAssetsWithScales=function(t,e,i,n){var r=1;if(e instanceof Array)for(var s=0;s<e.length;s++){var a=e[s];if(a===o.Screen.mainScreen().scale){r=a;break}r=a}else r=e;return 1==r?this.fromAssets(t+".png",i,n):this.fromAssets(t+"@"+r+"x.png",i,n)},e.loadImage=function(){t(d),d=n(function(){0!=f.length&&(h=f,f=[],h.forEach(function(t){try{c.add(t.url,t.url)}catch(t){}}),c.load(function(t,i){for(var n in i)!function(t){var n=i[t],r=new e(n.texture.baseTexture,{width:n.texture.baseTexture.width,height:n.texture.baseTexture.height},n.texture.baseTexture.resolution,l.RenderingMode.Original);h.forEach(function(e){e.url==t&&e.success(r)})}(n)}))})},e.prototype.imageWithRenderingMode=function(t){return new e(this.baseTexture,this.size,this.scale,t)},e.assetsPath="./assets/",e}();e.Image=p;var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._image=void 0,e.imageObject=void 0,e._contentMode=l.ContentMode.ScaleToFill,e}return r(e,t),Object.defineProperty(e.prototype,"image",{get:function(){return this._image},set:function(t){this._image=t,this.drawImage()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentMode",{get:function(){return this._contentMode},set:function(t){this._contentMode!==t&&(this._contentMode=t,this.resetImageBounds())},enumerable:!0,configurable:!0}),e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.imageObject&&this.resetImageBounds()},e.prototype.drawImage=function(){if(void 0!==this.imageObject&&void 0!==this.imageObject.parent&&this.imageObject.parent.removeChild(this.imageObject),this.image){var t=this.image;this.imageObject=u.Sprite.from(t.baseTexture),this.image.renderingMode===l.RenderingMode.Template&&(this.imageObject.tint=this.tintColor.rgbHexNumber()),this.resetImageBounds(),this.nativeObject.addChildAt(this.imageObject,1),a.setNeedsDisplay(this),a.displayInterval(300)}},e.prototype.resetImageBounds=function(){if(this.imageObject&&this.image&&this.image.size.width>0&&this.image.size.height>0&&this.bounds.width>0&&this.bounds.height>0)switch(this.contentMode){case l.ContentMode.ScaleToFill:this.imageObject.width=o.Screen.withScale(this.bounds.width),this.imageObject.height=o.Screen.withScale(this.bounds.height);break;case l.ContentMode.ScaleAspectFit:case l.ContentMode.ScaleAspectFill:var t=this.image.size.width/this.image.size.height,e=this.bounds.width/this.bounds.height;t>e&&this.contentMode===l.ContentMode.ScaleAspectFit||t<e&&this.contentMode===l.ContentMode.ScaleAspectFill?(this.imageObject.width=o.Screen.withScale(this.bounds.width),this.imageObject.height=o.Screen.withScale(this.bounds.width)/this.image.size.width*this.image.size.height,this.imageObject.x=0,this.imageObject.y=(o.Screen.withScale(this.bounds.height)-this.imageObject.height)/2):(t<e&&this.contentMode===l.ContentMode.ScaleAspectFit||t>e&&this.contentMode===l.ContentMode.ScaleAspectFill)&&(this.imageObject.width=o.Screen.withScale(this.bounds.height)/this.image.size.height*this.image.size.width,this.imageObject.height=o.Screen.withScale(this.bounds.height),this.imageObject.x=(o.Screen.withScale(this.bounds.width)-this.imageObject.width)/2,this.imageObject.y=0)}a.setNeedsDisplay(this)},e}(s.View);e.ImageView=_}).call(e,i(2).clearImmediate,i(2).setImmediate)},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(18);n.SwitchFactory(),e.default=n.Factory,void 0!==window&&(window.XT=n.Factory)},function(t,e,i){"use strict";function n(t){void 0===t&&(t=!1);var e=function(){r.Factory.View=o.View,r.Factory.Application=s.Application,r.Factory.Window=a.Window,r.Factory.LayoutConstraint=l.LayoutConstraint,r.Factory.Label=u.Label,r.Factory.Button=c.Button,r.Factory.ImageView=h.ImageView,r.Factory.Image=h.Image,r.Factory.ScrollView=f.ScrollView,r.Factory.ListView=d.ListView,r.Factory.ListCell=d.ListCell};if(t)e();else if(void 0!==window){var i=window;void 0!==i.PIXI&&e()}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(18),o=i(3),s=i(6),a=i(30),l=i(31),u=i(22),c=i(36),h=i(23),f=i(37),d=i(42);e.usePixi=n},function(t,e,i){(function(t,e){!function(t,i){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return u[l]=n,a(l),l++}function r(t){delete u[t]}function o(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}function s(t){if(c)setTimeout(s,0,t);else{var e=u[t];if(e){c=!0;try{o(e)}finally{r(t),c=!1}}}}if(!t.setImmediate){var a,l=1,u={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?function(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&s(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),a=function(i){t.postMessage(e+i,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;a=function(e){var i=h.createElement("script");i.onreadystatechange=function(){s(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}():function(){a=function(t){setTimeout(s,0,t)}}(),f.setImmediate=n,f.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,i(19),i(20))},function(t,e,i){(function(e){var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=i}).call(e,i(19))},function(t,e,i){(function(t,i){!function(){function n(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)}var r={},o=r.util={},s=Array.prototype.concat,a=Array.prototype.slice;o.bind=function(t,e){var i=a.call(arguments,2);return function(){t.apply(e,s.call(i,a.call(arguments)))}},o.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};var l=r.SpringSystem=function(t){this._springRegistry={},this._activeSprings=[],this.listeners=[],this._idleSpringIndices=[],this.looper=t||new f,this.looper.springSystem=this};o.extend(l.prototype,{_springRegistry:null,_isIdle:!0,_lastTimeMillis:-1,_activeSprings:null,listeners:null,_idleSpringIndices:null,setLooper:function(t){this.looper=t,t.springSystem=this},createSpring:function(t,e){var i;return i=void 0===t||void 0===e?h.DEFAULT_ORIGAMI_SPRING_CONFIG:h.fromOrigamiTensionAndFriction(t,e),this.createSpringWithConfig(i)},createSpringWithBouncinessAndSpeed:function(t,e){var i;return i=void 0===t||void 0===e?h.DEFAULT_ORIGAMI_SPRING_CONFIG:h.fromBouncinessAndSpeed(t,e),this.createSpringWithConfig(i)},createSpringWithConfig:function(t){var e=new u(this);return this.registerSpring(e),e.setSpringConfig(t),e},getIsIdle:function(){return this._isIdle},getSpringById:function(t){return this._springRegistry[t]},getAllSprings:function(){var t=[];for(var e in this._springRegistry)this._springRegistry.hasOwnProperty(e)&&t.push(this._springRegistry[e]);return t},registerSpring:function(t){this._springRegistry[t.getId()]=t},deregisterSpring:function(t){n(this._activeSprings,t),delete this._springRegistry[t.getId()]},advance:function(t,e){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var i=0,n=this._activeSprings.length;i<n;i++){var r=this._activeSprings[i];r.systemShouldAdvance()?r.advance(t/1e3,e/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(r))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},loop:function(t){var e;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var i=t-this._lastTimeMillis;this._lastTimeMillis=t;var n=0,r=this.listeners.length;for(n=0;n<r;n++)e=this.listeners[n],e.onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,i),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),n=0;n<r;n++)e=this.listeners[n],e.onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},activateSpring:function(t){var e=this._springRegistry[t];-1==this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},addListener:function(t){this.listeners.push(t)},removeListener:function(t){n(this.listeners,t)},removeAllListeners:function(){this.listeners=[]}});var u=r.Spring=function t(e){this._id="s"+t._ID++,this._springSystem=e,this.listeners=[],this._currentState=new c,this._previousState=new c,this._tempState=new c};o.extend(u,{_ID:0,MAX_DELTA_TIME_SEC:.064,SOLVER_TIMESTEP_SEC:.001}),o.extend(u.prototype,{_id:0,_springConfig:null,_overshootClampingEnabled:!1,_currentState:null,_previousState:null,_tempState:null,_startValue:0,_endValue:0,_wasAtRest:!0,_restSpeedThreshold:.001,_displacementFromRestThreshold:.001,listeners:null,_timeAccumulator:0,_springSystem:null,destroy:function(){this.listeners=[],this._springSystem.deregisterSpring(this)},getId:function(){return this._id},setSpringConfig:function(t){return this._springConfig=t,this},getSpringConfig:function(){return this._springConfig},setCurrentValue:function(t,e){return this._startValue=t,this._currentState.position=t,e||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},getStartValue:function(){return this._startValue},getCurrentValue:function(){return this._currentState.position},getCurrentDisplacementDistance:function(){return this.getDisplacementDistanceForState(this._currentState)},getDisplacementDistanceForState:function(t){return Math.abs(this._endValue-t.position)},setEndValue:function(t){if(this._endValue==t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,i=this.listeners.length;e<i;e++){var n=this.listeners[e],r=n.onSpringEndStateChange;r&&r(this)}return this},getEndValue:function(){return this._endValue},setVelocity:function(t){return t===this._currentState.velocity?this:(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId()),this)},getVelocity:function(){return this._currentState.velocity},setRestSpeedThreshold:function(t){return this._restSpeedThreshold=t,this},getRestSpeedThreshold:function(){return this._restSpeedThreshold},setRestDisplacementThreshold:function(t){this._displacementFromRestThreshold=t},getRestDisplacementThreshold:function(){return this._displacementFromRestThreshold},setOvershootClampingEnabled:function(t){return this._overshootClampingEnabled=t,this},isOvershootClampingEnabled:function(){return this._overshootClampingEnabled},isOvershooting:function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},advance:function(t,e){var i=this.isAtRest();if(!i||!this._wasAtRest){var n=e;e>u.MAX_DELTA_TIME_SEC&&(n=u.MAX_DELTA_TIME_SEC),this._timeAccumulator+=n;for(var r,o,s,a,l,c,h,f,d,p,_=this._springConfig.tension,g=this._springConfig.friction,v=this._currentState.position,m=this._currentState.velocity,b=this._tempState.position,y=this._tempState.velocity;this._timeAccumulator>=u.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=u.SOLVER_TIMESTEP_SEC,this._timeAccumulator<u.SOLVER_TIMESTEP_SEC&&(this._previousState.position=v,this._previousState.velocity=m),r=m,o=_*(this._endValue-b)-g*m,b=v+r*u.SOLVER_TIMESTEP_SEC*.5,y=m+o*u.SOLVER_TIMESTEP_SEC*.5,s=y,a=_*(this._endValue-b)-g*y,b=v+s*u.SOLVER_TIMESTEP_SEC*.5,y=m+a*u.SOLVER_TIMESTEP_SEC*.5,l=y,c=_*(this._endValue-b)-g*y,b=v+l*u.SOLVER_TIMESTEP_SEC,y=m+c*u.SOLVER_TIMESTEP_SEC,h=y,f=_*(this._endValue-b)-g*y,d=1/6*(r+2*(s+l)+h),p=1/6*(o+2*(a+c)+f),v+=d*u.SOLVER_TIMESTEP_SEC,m+=p*u.SOLVER_TIMESTEP_SEC;this._tempState.position=b,this._tempState.velocity=y,this._currentState.position=v,this._currentState.velocity=m,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/u.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),i=!0);var w=!1;this._wasAtRest&&(this._wasAtRest=!1,w=!0);var S=!1;i&&(this._wasAtRest=!0,S=!0),this.notifyPositionUpdated(w,S)}},notifyPositionUpdated:function(t,e){for(var i=0,n=this.listeners.length;i<n;i++){var r=this.listeners[i];t&&r.onSpringActivate&&r.onSpringActivate(this),r.onSpringUpdate&&r.onSpringUpdate(this),e&&r.onSpringAtRest&&r.onSpringAtRest(this)}},systemShouldAdvance:function(){return!this.isAtRest()||!this.wasAtRest()},wasAtRest:function(){return this._wasAtRest},isAtRest:function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},setAtRest:function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},_interpolate:function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},getListeners:function(){return this.listeners},addListener:function(t){return this.listeners.push(t),this},removeListener:function(t){return n(this.listeners,t),this},removeAllListeners:function(){return this.listeners=[],this},currentValueIsApproximately:function(t){return Math.abs(this.getCurrentValue()-t)<=this.getRestDisplacementThreshold()}});var c=function(){};o.extend(c.prototype,{position:0,velocity:0});var h=r.SpringConfig=function(t,e){this.tension=t,this.friction=e},f=r.AnimationLooper=function(){this.springSystem=null;var t=this,e=function(){t.springSystem.loop(Date.now())};this.run=function(){o.onFrame(e)}};r.SimulationLooper=function(t){this.springSystem=null;var e=0,i=!1;t=t||16.667,this.run=function(){if(!i){for(i=!0;!this.springSystem.getIsIdle();)this.springSystem.loop(e+=t);i=!1}}},r.SteppingSimulationLooper=function(t){this.springSystem=null;var e=0;this.run=function(){},this.step=function(t){this.springSystem.loop(e+=t)}};var d=r.OrigamiValueConverter={tensionFromOrigamiValue:function(t){return 3.62*(t-30)+194},origamiValueFromTension:function(t){return(t-194)/3.62+30},frictionFromOrigamiValue:function(t){return 3*(t-8)+25},origamiFromFriction:function(t){return(t-25)/3+8}},p=r.BouncyConversion=function(t,e){this.bounciness=t,this.speed=e;var i=this.normalize(t/1.7,0,20);i=this.projectNormal(i,0,.8);var n=this.normalize(e/1.7,0,20);this.bouncyTension=this.projectNormal(n,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(i,this.b3Nobounce(this.bouncyTension),.01)};o.extend(p.prototype,{normalize:function(t,e,i){return(t-e)/(i-e)},projectNormal:function(t,e,i){return e+t*(i-e)},linearInterpolation:function(t,e,i){return t*i+(1-t)*e},quadraticOutInterpolation:function(t,e,i){return this.linearInterpolation(2*t-t*t,e,i)},b3Friction1:function(t){return 7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28},b3Friction2:function(t){return 44e-6*Math.pow(t,3)-.006*Math.pow(t,2)+.36*t+2},b3Friction3:function(t){return 4.5e-7*Math.pow(t,3)-332e-6*Math.pow(t,2)+.1078*t+5.84},b3Nobounce:function(t){return t<=18?this.b3Friction1(t):t>18&&t<=44?this.b3Friction2(t):this.b3Friction3(t)}}),o.extend(h,{fromOrigamiTensionAndFriction:function(t,e){return new h(d.tensionFromOrigamiValue(t),d.frictionFromOrigamiValue(e))},fromBouncinessAndSpeed:function(t,e){var i=new r.BouncyConversion(t,e);return this.fromOrigamiTensionAndFriction(i.bouncyTension,i.bouncyFriction)},coastingConfigWithOrigamiFriction:function(t){return new h(0,d.frictionFromOrigamiValue(t))}}),h.DEFAULT_ORIGAMI_SPRING_CONFIG=h.fromOrigamiTensionAndFriction(40,7),o.extend(h.prototype,{friction:0,tension:0});var _={};o.hexToRGB=function(t){if(_[t])return _[t];t=t.replace("#",""),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=t.match(/.{2}/g),i={r:parseInt(e[0],16),g:parseInt(e[1],16),b:parseInt(e[2],16)};return _[t]=i,i},o.rgbToHex=function(t,e,i){return t=t.toString(16),e=e.toString(16),i=i.toString(16),t=t.length<2?"0"+t:t,e=e.length<2?"0"+e:e,i=i.length<2?"0"+i:i,"#"+t+e+i};var g=r.MathUtil={mapValueInRange:function(t,e,i,n,r){return n+(t-e)/(i-e)*(r-n)},interpolateColor:function(t,e,i,n,r,s){n=void 0===n?0:n,r=void 0===r?1:r,e=o.hexToRGB(e),i=o.hexToRGB(i);var a=Math.floor(o.mapValueInRange(t,n,r,e.r,i.r)),l=Math.floor(o.mapValueInRange(t,n,r,e.g,i.g)),u=Math.floor(o.mapValueInRange(t,n,r,e.b,i.b));return s?"rgb("+a+","+l+","+u+")":o.rgbToHex(a,l,u)},degreesToRadians:function(t){return t*Math.PI/180},radiansToDegrees:function(t){return 180*t/Math.PI}};o.extend(o,g);var v;"undefined"!=typeof window&&(v=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}),v||void 0===t||"node"!==t.title||(v=i),o.onFrame=function(t){return v(t)},o.extend(e,r)}()}).call(e,i(20),i(2).setImmediate)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(6),o=i(3),s=(window.PIXI,function(t){function e(e){var i=t.call(this,e)||this;i.XTClassName="Window";var n=r.Application.sharedApplication();return n instanceof r.Application&&n.nativeObject.stage.addChild(i.nativeObject),i.hidden=!0,i}return n(e,t),e.prototype.makeKeyAndVisible=function(){var t=r.Application.sharedApplication();t instanceof r.Application&&(t.keyWindow=this),this.hidden=!1},e}(o.View));e.Window=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(21),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.fromALObject=function(t,i){var n=function(t){return"const"==t?r.LayoutConstraint.Attribute.Const:"left"==t?r.LayoutConstraint.Attribute.Left:"right"==t?r.LayoutConstraint.Attribute.Right:"top"==t?r.LayoutConstraint.Attribute.Top:"bottom"==t?r.LayoutConstraint.Attribute.Bottom:"width"==t?r.LayoutConstraint.Attribute.Width:"height"==t?r.LayoutConstraint.Attribute.Height:"centerX"==t?r.LayoutConstraint.Attribute.CenterX:"centerY"==t?r.LayoutConstraint.Attribute.CenterY:void 0},o="default"==t.constant?8:parseInt(t.constant),s=new e(i[t.view1],n(t.attr1),function(t){return"leq"==t?r.LayoutConstraint.Relation.Less:"geq"==t?r.LayoutConstraint.Relation.Greater:r.LayoutConstraint.Relation.Equal}(t.relation),i[t.view2],n(t.attr2),o,t.multiplier);return s.priority=t.priority||750,s},e.constraintsWithVisualFormat=function(t,i){try{return o.VisualFormat.parse(t).map(function(t){return e.fromALObject(t,i)})}catch(t){return console.error(t),[]}},e.prototype.toALObject=function(){var t=function(t){return t==r.LayoutConstraint.Attribute.Const?"const":t==r.LayoutConstraint.Attribute.Left?"left":t==r.LayoutConstraint.Attribute.Right?"right":t==r.LayoutConstraint.Attribute.Top?"top":t==r.LayoutConstraint.Attribute.Bottom?"bottom":t==r.LayoutConstraint.Attribute.Width?"width":t==r.LayoutConstraint.Attribute.Height?"height":t==r.LayoutConstraint.Attribute.CenterX?"centerX":t==r.LayoutConstraint.Attribute.CenterY?"centerY":void 0};return{view1:void 0!==this.firstItem?this.firstItem._layoutID:void 0,attr1:t(this.firstAttr),relation:function(t){return t==r.LayoutConstraint.Relation.Equal?"equ":t==r.LayoutConstraint.Relation.Less?"leq":t==r.LayoutConstraint.Relation.Greater?"geq":"equ"}(this.relation),view2:void 0!==this.secondItem?this.secondItem._layoutID:void 0,attr2:t(this.secondAttr),multiplier:this.multiplier,constant:this.constant,priority:this.priority}},e}(r.LayoutConstraint);e.LayoutConstraint=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(33),o=function(){function t(t,e,i,o,s,a){void 0===a&&(a={top:0,left:0,bottom:0,right:0});var l=this;this.bounds=n.RectZero,this.padding={top:0,left:0,bottom:0,right:0},this.text=i,this.font=o,this.bounds=s,this.padding=a;var u=this.text.split("").map(function(t){return{fontSize:l.font.pointSize,character:t}}),c=r.default(u,{gridSize:this.font.pointSize,column:1==t?1/0:Math.floor((this.bounds.width-this.padding.left-this.padding.right)/this.font.pointSize),row:t<=0?1/0:t,yInterval:e}),h=Math.min.apply(null,c.map(function(t){return t.x})),f=Math.min.apply(null,c.map(function(t){return t.y})),d=Math.max.apply(null,c.map(function(t){return t.x+t.width})),p=Math.max.apply(null,c.map(function(t){return t.y+t.height+a.top+a.bottom>s.height?0:t.y+t.height}));this.layoutSequence=c,this.textRect=n.RectMake(h+this.padding.left,f+this.padding.top,d-h,p-f)}return t.prototype.textLines=function(t,e,i,r){var o=this,s={x:this.textRect.x,y:this.textRect.y};i===n.TextVerticalAlignment.Center&&(s.y=Math.max(this.padding.top,(t.y+t.height-this.textRect.height)/2));var a=[],l={elements:[],text:"",x:0,y:0,width:0,height:0},u=function(i){e===n.TextAlignment.Center&&(s.x=Math.max(o.padding.left,(t.x+t.width-i.width)/2)),a.push({elements:i.elements,text:i.text,x:i.x+s.x,y:i.y+s.y,width:i.width,height:i.height})};this.layoutSequence.forEach(function(e){e.x+e.width>t.width&&r==n.LineBreakMode.TruncatingTail||(l.y!=e.y&&(l.text.length>0&&u(l),l={elements:[],text:"",x:e.x,y:e.y,width:e.x+e.width,height:e.height}),l.elements.push(e),l.text+=e.character,l.width=e.x+e.width,l.height=Math.max(l.height,e.height))}),l.text.length>0&&u(l);var c=a.filter(function(e){return e.y+e.height<=t.height});if(c.length>0&&(c.length!=a.length||c.map(function(t){return t.text}).join("").length<this.text.length))switch(r){case n.LineBreakMode.TruncatingTail:c[c.length-1].text.length>0&&(c[c.length-1].text=c[c.length-1].text.slice(0,-2)+"...")}return c},t}();e.StaticTextLayout=o},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function r(t,e,i){e=Object.assign({},f,e);for(var r=e,u=r.fontFamily,d=r.gridSize,p=r.column,_=r.row,g=r.xInterval,v=r.yInterval,m=r.inlineCompression,b=r.forceGridAlignment,y=r.westernCharacterFirst,w=r.forceSpaceBetweenCJKAndWestern,S=r.fixLeftQuote,x=0,A=0,C=0,T=0,V=!1,E=0,O=!1,I=d,M=[],L=y,R=[],P=function(){x=0,C=0,T+=1,A+=I+v,I=d,V=!1,E=0,O=!1},j=[].concat(n(t),[{fontSize:12,character:"　"}]),k=0;k<j.length;k++){var z=j[k],F=z.fontSize,D=z.character;if(m&&V&&!a.BIAODIAN.includes(D)&&(x+=E/2+g,C+=.5,V=!1),/[ “”‘’]/.test(D)&&L)M.push(z);else if((0,l.isCJK)(D)||/[\n “”‘’]/.test(D)){if(M.length){var H=w?.25*d:0;x&&(x+=H);var N=void 0,q=void 0,W=void 0,B=o(M,e,x,A,T,p*d,_),X=s(B,5);N=X[0],W=X[1],A=X[2],T=X[3],q=X[4],C=Math.ceil(W/(d+g)),x=C*(d+g),q||function(){x-W<H&&(C+=1,x=C*d);var t=(H+x-W)/2-H;N=N.map(function(e){return e.x+=t,i?i(e)||e:e})}(),R.push.apply(R,n(N)),L=!1,M=[]}var G=!1;if(C>=p&&(G=!0,(!a.BIAODIANVALIDATEND.includes(D)||a.BIAODIANVALIDATSTART.includes(D)||O)&&P()),"\n"!==D){c.font=F+"px "+u;var Z=c.measureText(D).width,Y=0,U=(F-d)/2,Q=!1;b&&F!==d&&(Y=+b*(F-d)/2,C+=Y>0?Math.ceil(2*Y/(d+g)):0,Y=((1+Math.ceil(2*Y/(d+g)))*(d+g)-F)/2,x+=Y,C>=p&&(P(),Q=!0));var J=0;J+=V||"“"!==D?0:F/2,S&&("“"!==D||h?"“"===D&&Z===F&&(J+=-F/2):J+=-F/2);var $=Object.assign({},z,{x:x+J,y:A-U,width:Z,height:F});R.push(i?i($)||$:$);var K=Y*(Q?2:1);if(K>d&&(K-=d,C-=1),x+=K,G&&a.BIAODIANVALIDATEND.includes(D)&&!a.INCOMPRESSIBLE.includes(D)?(x+=F/2,(C+=.5)%1!=.5&&(O=!0)):m&&a.BIAODIAN.includes(D)&&!a.INCOMPRESSIBLE.includes(D)?(x+=F/2+g*+V,C+=.5,V=!V):(x+=F+g,C+=1),I=Math.max(I,F),E=F,T>=_)break}else P()}else L=!0,M.push(z)}return R.pop(),R}function o(t,e,i,n,r,o,s){var a=e.fontFamily,l=e.gridSize,u=e.yInterval,h=e.letterSpacing,f=[],d=l,p="",_=[],g=!1;" "!==t[t.length-1].character&&t.push({fontSize:0,character:" "});for(var v=0;v<t.length;v++){var m=t[v],b=m.fontSize,y=m.character;if(d=Math.max(d,b)," "===y){if(o-i<c.measureText(p).width&&(i=0,n+=d+u,r+=1,g=!0,r>=s))break;for(var w=0;w<_.length;w++){var S=_[w],x=S.fontSize,A=(S.character,(x-l)/2);f.push(Object.assign({},S,{x:i,y:n-A})),i+=S.width+h}f.push(Object.assign({},f[f.length-1],{character:" ",x:f[f.length-1].x+f[f.length-1].width,width:i-f[f.length-1].x+f[f.length-1].width})),i+=.35*l,p="",_=[]}else{c.font=b+"px "+a;var C=c.measureText(y).width;p+=y,_.push(Object.assign({},m,{width:C,height:b}))}}return[f,i-.35*l,n,r,g]}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=r;var a=i(34),l=i(35),u=document.createElement("canvas"),c=u.getContext("2d");void 0===String.prototype.includes&&(String.prototype.includes=function(t){return this.indexOf(t)>=0}),c.font="18px sans-serif";var h=18===c.measureText("中").width,f={fontFamily:"sans-serif",gridSize:26,column:25,row:1/0,xInterval:0,yInterval:12,letterSpacing:0,inlineCompression:!0,forceGridAlignment:!0,westernCharacterFirst:!1,forceSpaceBetweenCJKAndWestern:!1,fixLeftQuote:!0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.DIANHAO="。，、．：；！‼？⁇",r=e.BIAOHAO="「」『』“”‘’（）【】〖〗〔〕［］｛｝⸺—…●•–～~～～·﹏《》〈〉＿/／";e.BIAODIAN=""+r+n+" ",e.BIAODIANVALIDATEND="。，、．：；！‼？⁇」』”’）】〗〕］｝》〉 ",e.BIAODIANVALIDATSTART="「『“‘（【〖〔［｛《〈 ",e.INCOMPRESSIBLE="‼⁇⸺—",e.COMPRESSLEFT="「『“‘（【〖〔［｛《〈"},function(t,e,i){"use strict";function n(t){return o.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isCJK=n;var r=["\\u1100-\\u11FF","\\u2E80-\\u2EFF","\\u2F00-\\u2FDF","\\u2FF0-\\u2FFF","\\u3000-\\u303F","\\u3040-\\u309F","\\u30A0-\\u30FF","\\u3100-\\u312F","\\u3130-\\u318F","\\u3190-\\u319F","\\u31A0-\\u31BF","\\u31F0-\\u31FF","\\u3200-\\u32FF","\\u3300-\\u33FF","\\u3400-\\u4DBF","\\u4DC0-\\u4DFF","\\u4E00-\\u9FFF","\\uAC00-\\uD7AF","\\uF900-\\uFAFF","\\uFE30-\\uFE4F","\\uFF00-\\uFFEF","\\u{1D300}-\\u{1D35F}","\\u{20000}-\\u{2A6DF}","\\u{2A700}-\\u{2B73F}","\\u{2B740}-\\u{2B81F}","\\u{2B820}-\\u{2CEAF}","\\u{2CEB0}-\\u{2EBEF}","\\u{2F800}-\\u{2FA1F}"],o=void 0;try{o=new RegExp("["+r.join("")+"]","u")}catch(t){o=new RegExp("["+r.slice(0,21).join("")+"]")}},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=i(3),s=i(22),a=i(1),l=i(23),u=function(t){function e(e){var i=t.call(this,e)||this;return i.onTouchUpInside=void 0,i._color=void 0,i._vertical=!1,i._inset=4,i.imageView=new l.ImageView,i.titleLabel=new s.Label,i.titleLabel.numberOfLines=1,i.titleLabel.textAlignment=a.TextAlignment.Center,i.titleLabel.lineBreakMode=a.LineBreakMode.TruncatingTail,i.titleLabel.textColor=i.tintColor,i.titleLabel.font=new a.Font(17),i.longPressDuration=150,i.addSubview(i.imageView),i.addSubview(i.titleLabel),i.addTouches(),i}return n(e,t),e.prototype.tintColorDidChange=function(){this.titleLabel.textColor=this.color||this.tintColor},e.prototype.addTouches=function(){var t=this;this.userInteractionEnabled=!0,this.onTap=function(){t.onTouchUpInside&&t.onTouchUpInside()},this.onLongPress=function(e,i){e==r.InteractionState.Began?(t.titleLabel.alpha=.25,t.imageView.alpha=.25,t.onHighlighted&&t.onHighlighted(!0)):e==r.InteractionState.Changed?i&&(i.x<-44||i.y<-44||i.x>t.bounds.width+44||i.y>t.bounds.height+44?(o.View.animationWithDuration(.15,function(){t.titleLabel.alpha=1,t.imageView.alpha=1}),t.onHighlighted&&t.onHighlighted(!1)):(t.titleLabel.alpha=.25,t.imageView.alpha=.25,t.onHighlighted&&t.onHighlighted(!0))):e==r.InteractionState.Ended&&(o.View.animationWithDuration(.15,function(){t.titleLabel.alpha=1,t.imageView.alpha=1}),t.onHighlighted&&t.onHighlighted(!1),i&&i.x>-44&&i.y>-44&&i.x<t.bounds.width+44&&i.y<t.bounds.height+44&&t.onTouchUpInside&&t.onTouchUpInside())}},e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.resetContentLayout()},Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.titleLabel.textColor=t||this.tintColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.titleLabel.text},set:function(t){this.titleLabel.text=t,this.resetContentLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{set:function(t){this.imageView.image=t,this.resetContentLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical!==t&&(this._vertical=t,this.resetContentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inset",{get:function(){return this._inset},set:function(t){this._inset!==t&&(this._inset=t,this.resetContentLayout())},enumerable:!0,configurable:!0}),e.prototype.resetContentLayout=function(){if(void 0===this.imageView.image){var t=this.titleLabel.intrinsicContentSize(this.bounds.width);this.titleLabel.frame=t?{x:(this.bounds.width-t.width)/2,y:(this.bounds.height-t.height)/2,width:t.width,height:t.height}:a.RectZero,this.imageView.frame=a.RectZero}else if(this.vertical){var t=this.titleLabel.intrinsicContentSize(this.bounds.width);if(t&&t.height>0){var e=this.imageView.image.size.height+t.height+this.inset;this.imageView.frame={x:(this.bounds.width-this.imageView.image.size.width)/2,y:(this.bounds.height-e)/2,width:this.imageView.image.size.width,height:this.imageView.image.size.height},this.titleLabel.frame={x:(this.bounds.width-t.width)/2,y:(this.bounds.height-e)/2+this.imageView.image.size.height+this.inset,width:t.width,height:t.height}}else this.imageView.frame={x:(this.bounds.width-this.imageView.image.size.width)/2,y:(this.bounds.height-this.imageView.image.size.height)/2,width:this.imageView.image.size.width,height:this.imageView.image.size.height}}else{var t=this.titleLabel.intrinsicContentSize(this.bounds.width);if(t&&t.width>0){var i=this.imageView.image.size.width+t.width+this.inset;this.imageView.frame={x:(this.bounds.width-i)/2,y:(this.bounds.height-this.imageView.image.size.height)/2,width:this.imageView.image.size.width,height:this.imageView.image.size.height},this.titleLabel.frame={x:(this.bounds.width-i)/2+this.imageView.image.size.width+this.inset,y:(this.bounds.height-t.height)/2,width:t.width,height:t.height}}else this.imageView.frame={x:(this.bounds.width-this.imageView.image.size.width)/2,y:(this.bounds.height-this.imageView.image.size.height)/2,width:this.imageView.image.size.width,height:this.imageView.image.size.height}}},e}(o.View);e.Button=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),o=i(1),s=i(38),a=function(t){function e(e){var i=t.call(this,e)||this;return i._contentSize=o.SizeZero,i._contentOffset=o.PointZero,i._isScrollEnabled=!0,i._bounces=!0,i._isDirectionalLockEnabled=!0,i._showsHorizontalScrollIndicator=!0,i._showsVerticalScrollIndicator=!0,i._alwaysBounceVertical=!1,i._alwaysBounceHorizontal=!1,i._tracking=!1,i._indicatorHidingTimer=0,i.innerView=new r.View,t.prototype.addSubview.call(i,i.innerView),i.horizonalScrollIndicator=new r.View,i.horizonalScrollIndicator.backgroundColor=new o.Color(143/255,143/255,144/255),i.horizonalScrollIndicator.cornerRadius=1,i.horizonalScrollIndicator.alpha=0,t.prototype.addSubview.call(i,i.horizonalScrollIndicator),i.verticalScrollIndicator=new r.View,i.verticalScrollIndicator.backgroundColor=new o.Color(143/255,143/255,144/255),i.verticalScrollIndicator.cornerRadius=1,i.verticalScrollIndicator.alpha=0,t.prototype.addSubview.call(i,i.verticalScrollIndicator),i.resetScroller(),i.resetIndicator(),i.activePanTouch(),i}return n(e,t),Object.defineProperty(e.prototype,"contentSize",{get:function(){return this._contentSize},set:function(t){this._contentSize=t,this.innerView.frame=o.RectMake(this.contentOffset.x,this.contentOffset.y,t.width,t.height),this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentOffset",{get:function(){return this._contentOffset},set:function(t){this._contentOffset=t,this.innerView.frame={x:-t.x,y:-t.y,width:this.innerView.frame.width,height:this.innerView.frame.height},this.resetIndicator()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isScrollEnabled",{get:function(){return this._isScrollEnabled},set:function(t){this._isScrollEnabled=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounces",{get:function(){return this._bounces},set:function(t){this._bounces=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirectionalLockEnabled",{get:function(){return this._isDirectionalLockEnabled},set:function(t){this._isDirectionalLockEnabled=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showsHorizontalScrollIndicator",{get:function(){return this._showsHorizontalScrollIndicator},set:function(t){this._showsHorizontalScrollIndicator=t,this.horizonalScrollIndicator.hidden=!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showsVerticalScrollIndicator",{get:function(){return this._showsVerticalScrollIndicator},set:function(t){this._showsVerticalScrollIndicator=t,this.verticalScrollIndicator.hidden=!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysBounceVertical",{get:function(){return this._alwaysBounceVertical},set:function(t){this._alwaysBounceVertical=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysBounceHorizontal",{get:function(){return this._alwaysBounceHorizontal},set:function(t){this._alwaysBounceHorizontal=t,this.resetScroller()},enumerable:!0,configurable:!0}),e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.resetScroller()},e.prototype.activePanTouch=function(){var t=this;this.userInteractionEnabled=!0,this.nativeObject.on("touchstart",function(e){t._tracking=!0,t.scroller.doTouchStart(e.data.originalEvent.touches,e.data.originalEvent.timeStamp),clearTimeout(t._indicatorHidingTimer),r.View.animationWithDuration(.15,function(){t.verticalScrollIndicator.alpha=1,t.horizonalScrollIndicator.alpha=1})}),this.nativeObject.on("touchmove",function(e){e.data.originalEvent.preventDefault(),t.scroller.doTouchMove(e.data.originalEvent.touches,e.data.originalEvent.timeStamp,e.data.originalEvent.scale)}),this.nativeObject.on("touchend",function(e){t._tracking=!1,t.scroller.doTouchEnd(e.data.originalEvent.timeStamp),clearTimeout(t._indicatorHidingTimer),t._indicatorHidingTimer=setTimeout(t.hideIndicator.bind(t),250)}),this.nativeObject.on("touchendoutside",function(e){t._tracking=!1,t.scroller.doTouchEnd(e.data.originalEvent.timeStamp),clearTimeout(t._indicatorHidingTimer),t._indicatorHidingTimer=setTimeout(t.hideIndicator.bind(t),250)}),this.nativeObject.on("touchcancel",function(e){t._tracking=!1,t.scroller.doTouchEnd(e.data.originalEvent.timeStamp),clearTimeout(t._indicatorHidingTimer),t._indicatorHidingTimer=setTimeout(t.hideIndicator.bind(t),250)})},e.prototype.resetScroller=function(){void 0===this.scroller&&(this.scroller=new s(this.handleScroll.bind(this))),this.scroller.options.scrollingX=this.isScrollEnabled&&(this.contentSize.width>this.bounds.width||this.alwaysBounceHorizontal),this.scroller.options.scrollingY=this.isScrollEnabled&&(this.contentSize.height>this.bounds.height||this.alwaysBounceVertical),this.scroller.options.bouncing=this.bounces,this.scroller.options.locking=this.isDirectionalLockEnabled,this.scroller.setDimensions(this.bounds.width,this.bounds.height,this.contentSize.width,this.contentSize.height)},e.prototype.handleScroll=function(t,e){this.contentOffset={x:t,y:e},this.onScroll&&this.onScroll(this),clearTimeout(this._indicatorHidingTimer),this._indicatorHidingTimer=setTimeout(this.hideIndicator.bind(this),250)},e.prototype.resetIndicator=function(){if(this.contentSize.height>this.bounds.height){var t=this.contentOffset.y/(this.contentSize.height-this.bounds.height),e=this.bounds.height/(this.contentSize.height/this.bounds.height);this.verticalScrollIndicator.frame={x:this.bounds.width-4,y:t*(this.bounds.height-e),width:2,height:e}}else this.verticalScrollIndicator.frame={x:this.bounds.width-4,y:0,width:2,height:0};if(this.contentSize.width>this.bounds.width){var i=this.contentOffset.x/(this.contentSize.width-this.bounds.width),n=this.bounds.width/(this.contentSize.width/this.bounds.width);this.horizonalScrollIndicator.frame={x:i*(this.bounds.width-n),y:this.bounds.height-4,width:n,height:2}}else this.horizonalScrollIndicator.frame={x:0,y:this.bounds.height-4,width:0,height:2}},e.prototype.hideIndicator=function(){var t=this;this._tracking||r.View.animationWithDuration(.15,function(){t.verticalScrollIndicator.alpha=0,t.horizonalScrollIndicator.alpha=0})},e.prototype.insertSubviewAtIndex=function(t,e){this.innerView.insertSubviewAtIndex(t,e)},e.prototype.exchangeSubviewAtIndex=function(t,e){this.innerView.exchangeSubviewAtIndex(t,e)},e.prototype.addSubview=function(t){this.innerView.addSubview(t)},e.prototype.insertSubviewBelow=function(t,e){this.innerView.insertSubviewBelow(t,e)},e.prototype.insertSubviewAbove=function(t,e){this.innerView.insertSubviewAbove(t,e)},e.prototype.bringSubviewToFront=function(t){this.innerView.bringSubviewToFront(t)},e.prototype.sendSubviewToBack=function(t){this.innerView.sendSubviewToBack(t)},Object.defineProperty(e.prototype,"constraints",{get:function(){return this.innerView.constraints},enumerable:!0,configurable:!0}),e.prototype.addConstraint=function(t){this.innerView.addConstraint(t)},e.prototype.addConstraints=function(t){this.innerView.addConstraints(t)},e.prototype.removeConstraint=function(t){this.innerView.removeConstraint(t)},e.prototype.removeAllConstraints=function(){this.innerView.removeAllConstraints()},e}(r.View);e.ScrollView=a},function(t,e,i){t.exports=i(39)},function(t,e,i){var n,r=i(40);!function(){var e=function(){};n=function(t,i){this.__callback=t,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:e,decelerationRate:.95,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var n in i)this.options[n]=i[n]};var i=function(t){return Math.pow(t-1,3)+1},o=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},s={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(t,e,i,n){var r=this;t===+t&&(r.__clientWidth=t),e===+e&&(r.__clientHeight=e),i===+i&&(r.__contentWidth=i),n===+n&&(r.__contentHeight=n),r.__computeScrollMax(),r.scrollTo(r.__scrollLeft,r.__scrollTop,!0)},setPosition:function(t,e){var i=this;i.__clientLeft=t||0,i.__clientTop=e||0},setSnapSize:function(t,e){var i=this;i.__snapWidth=t,i.__snapHeight=e},activatePullToRefresh:function(t,e,i,n){var r=this;r.__refreshHeight=t,r.__refreshActivate=e,r.__refreshDeactivate=i,r.__refreshStart=n},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var t=this;t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate(),t.scrollTo(t.__scrollLeft,t.__scrollTop,!0)},getValues:function(){var t=this;return{left:t.__scrollLeft,top:t.__scrollTop,zoom:t.__zoomLevel}},getScrollMax:function(){var t=this;return{left:t.__maxScrollLeft,top:t.__maxScrollTop}},zoomTo:function(t,e,i,n,o){var s=this;if(!s.options.zooming)throw new Error("Zooming is not enabled!");o&&(s.__zoomComplete=o),s.__isDecelerating&&(r.effect.Animate.stop(s.__isDecelerating),s.__isDecelerating=!1);var a=s.__zoomLevel;null==i&&(i=s.__clientWidth/2),null==n&&(n=s.__clientHeight/2),t=Math.max(Math.min(t,s.options.maxZoom),s.options.minZoom),s.__computeScrollMax(t);var l=(i+s.__scrollLeft)*t/a-i,u=(n+s.__scrollTop)*t/a-n;l>s.__maxScrollLeft?l=s.__maxScrollLeft:l<0&&(l=0),u>s.__maxScrollTop?u=s.__maxScrollTop:u<0&&(u=0),s.__publish(l,u,t,e)},zoomBy:function(t,e,i,n,r){var o=this;o.zoomTo(o.__zoomLevel*t,e,i,n,r)},scrollTo:function(t,e,i,n){var o=this;if(o.__isDecelerating&&(r.effect.Animate.stop(o.__isDecelerating),o.__isDecelerating=!1),null!=n&&n!==o.__zoomLevel){if(!o.options.zooming)throw new Error("Zooming is not enabled!");t*=n,e*=n,o.__computeScrollMax(n)}else n=o.__zoomLevel;o.options.scrollingX?o.options.paging?t=Math.round(t/o.__clientWidth)*o.__clientWidth:o.options.snapping&&(t=Math.round(t/o.__snapWidth)*o.__snapWidth):t=o.__scrollLeft,o.options.scrollingY?o.options.paging?e=Math.round(e/o.__clientHeight)*o.__clientHeight:o.options.snapping&&(e=Math.round(e/o.__snapHeight)*o.__snapHeight):e=o.__scrollTop,t=Math.max(Math.min(o.__maxScrollLeft,t),0),e=Math.max(Math.min(o.__maxScrollTop,e),0),t===o.__scrollLeft&&e===o.__scrollTop&&(i=!1),o.__publish(t,e,n,i)},scrollBy:function(t,e,i){var n=this,r=n.__isAnimating?n.__scheduledLeft:n.__scrollLeft,o=n.__isAnimating?n.__scheduledTop:n.__scrollTop;n.scrollTo(r+(t||0),o+(e||0),i)},doMouseZoom:function(t,e,i,n){var r=this,o=t>0?.97:1.03;return r.zoomTo(r.__zoomLevel*o,!1,i-r.__clientLeft,n-r.__clientTop)},doTouchStart:function(t,e){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var i=this;i.__interruptedAnimation=!0,i.__isDecelerating&&(r.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1,i.__interruptedAnimation=!0),i.__isAnimating&&(r.effect.Animate.stop(i.__isAnimating),i.__isAnimating=!1,i.__interruptedAnimation=!0);var n,o,s=1===t.length;s?(n=t[0].pageX,o=t[0].pageY):(n=Math.abs(t[0].pageX+t[1].pageX)/2,o=Math.abs(t[0].pageY+t[1].pageY)/2),i.__initialTouchLeft=n,i.__initialTouchTop=o,i.__zoomLevelStart=i.__zoomLevel,i.__lastTouchLeft=n,i.__lastTouchTop=o,i.__lastTouchMove=e,i.__lastScale=1,i.__enableScrollX=!s&&i.options.scrollingX,i.__enableScrollY=!s&&i.options.scrollingY,i.__isTracking=!0,i.__didDecelerationComplete=!1,i.__isDragging=!s,i.__isSingleTouch=s,i.__positions=[]},doTouchMove:function(t,e,i){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var n=this;if(n.__isTracking){var r,o;2===t.length?(r=Math.abs(t[0].pageX+t[1].pageX)/2,o=Math.abs(t[0].pageY+t[1].pageY)/2):(r=t[0].pageX,o=t[0].pageY);var s=n.__positions;if(n.__isDragging){var a=r-n.__lastTouchLeft,l=o-n.__lastTouchTop,u=n.__scrollLeft,c=n.__scrollTop,h=n.__zoomLevel;if(null!=i&&n.options.zooming){var f=h;if(h=h/n.__lastScale*i,h=Math.max(Math.min(h,n.options.maxZoom),n.options.minZoom),f!==h){var d=r-n.__clientLeft,p=o-n.__clientTop;u=(d+u)*h/f-d,c=(p+c)*h/f-p,n.__computeScrollMax(h)}}if(n.__enableScrollX){u-=a*this.options.speedMultiplier;var _=n.__maxScrollLeft;(u>_||u<0)&&(n.options.bouncing?u+=a/2*this.options.speedMultiplier:u=u>_?_:0)}if(n.__enableScrollY){c-=l*this.options.speedMultiplier;var g=n.__maxScrollTop;(c>g||c<0)&&(n.options.bouncing?(c+=l/2*this.options.speedMultiplier,n.__enableScrollX||null==n.__refreshHeight||(!n.__refreshActive&&c<=-n.__refreshHeight?(n.__refreshActive=!0,n.__refreshActivate&&n.__refreshActivate()):n.__refreshActive&&c>-n.__refreshHeight&&(n.__refreshActive=!1,n.__refreshDeactivate&&n.__refreshDeactivate()))):c=c>g?g:0)}s.length>60&&s.splice(0,30),s.push(u,c,e),n.__publish(u,c,h)}else{var v=n.options.locking?3:0,m=Math.abs(r-n.__initialTouchLeft),b=Math.abs(o-n.__initialTouchTop);n.__enableScrollX=n.options.scrollingX&&m>=v,n.__enableScrollY=n.options.scrollingY&&b>=v,s.push(n.__scrollLeft,n.__scrollTop,e),n.__isDragging=(n.__enableScrollX||n.__enableScrollY)&&(m>=5||b>=5),n.__isDragging&&(n.__interruptedAnimation=!1)}n.__lastTouchLeft=r,n.__lastTouchTop=o,n.__lastTouchMove=e,n.__lastScale=i}},doTouchEnd:function(t){if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var e=this;if(e.__isTracking){if(e.__isTracking=!1,e.__isDragging)if(e.__isDragging=!1,e.__isSingleTouch&&e.options.animating&&t-e.__lastTouchMove<=100){for(var i=e.__positions,n=i.length-1,r=n,o=n;o>0&&i[o]>e.__lastTouchMove-100;o-=3)r=o;if(r===n&&i.length>5&&(r=2),r!==n){var s=i[n]-i[r],a=e.__scrollLeft-i[r-2],l=e.__scrollTop-i[r-1];e.__decelerationVelocityX=a/s*(1e3/60),e.__decelerationVelocityY=l/s*(1e3/60);var u=e.options.paging||e.options.snapping?4:1;(Math.abs(e.__decelerationVelocityX)>u||Math.abs(e.__decelerationVelocityY)>u)&&(e.__refreshActive||e.__startDeceleration(t))}else e.options.scrollingComplete()}else t-e.__lastTouchMove>100&&e.options.scrollingComplete();e.__isDecelerating||(e.__refreshActive&&e.__refreshStart?(e.__publish(e.__scrollLeft,-e.__refreshHeight,e.__zoomLevel,!0),e.__refreshStart&&e.__refreshStart()):((e.__interruptedAnimation||e.__isDragging)&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0,e.__zoomLevel),e.__refreshActive&&(e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate()))),e.__positions.length=0}},__publish:function(t,e,n,s){var a=this,l=a.__isAnimating;if(l&&(r.effect.Animate.stop(l),a.__isAnimating=!1),s&&a.options.animating){a.__scheduledLeft=t,a.__scheduledTop=e,a.__scheduledZoom=n;var u=a.__scrollLeft,c=a.__scrollTop,h=a.__zoomLevel,f=t-u,d=e-c,p=n-h,_=function(t,e,i){i&&(a.__scrollLeft=u+f*t,a.__scrollTop=c+d*t,a.__zoomLevel=h+p*t,a.__callback&&a.__callback(a.__scrollLeft,a.__scrollTop,a.__zoomLevel))},g=function(t){return a.__isAnimating===t},v=function(t,e,i){e===a.__isAnimating&&(a.__isAnimating=!1),(a.__didDecelerationComplete||i)&&a.options.scrollingComplete(),a.options.zooming&&(a.__computeScrollMax(),a.__zoomComplete&&(a.__zoomComplete(),a.__zoomComplete=null))};a.__isAnimating=r.effect.Animate.start(_,g,v,a.options.animationDuration,l?i:o)}else a.__scheduledLeft=a.__scrollLeft=t,a.__scheduledTop=a.__scrollTop=e,a.__scheduledZoom=a.__zoomLevel=n,a.__callback&&a.__callback(t,e,n),a.options.zooming&&(a.__computeScrollMax(),a.__zoomComplete&&(a.__zoomComplete(),a.__zoomComplete=null))},__computeScrollMax:function(t){var e=this;null==t&&(t=e.__zoomLevel),e.__maxScrollLeft=Math.max(e.__contentWidth*t-e.__clientWidth,0),e.__maxScrollTop=Math.max(e.__contentHeight*t-e.__clientHeight,0)},__startDeceleration:function(t){var e=this;if(e.options.paging){var i=Math.max(Math.min(e.__scrollLeft,e.__maxScrollLeft),0),n=Math.max(Math.min(e.__scrollTop,e.__maxScrollTop),0),o=e.__clientWidth,s=e.__clientHeight;e.__minDecelerationScrollLeft=Math.floor(i/o)*o,e.__minDecelerationScrollTop=Math.floor(n/s)*s,e.__maxDecelerationScrollLeft=Math.ceil(i/o)*o,e.__maxDecelerationScrollTop=Math.ceil(n/s)*s}else e.__minDecelerationScrollLeft=0,e.__minDecelerationScrollTop=0,e.__maxDecelerationScrollLeft=e.__maxScrollLeft,e.__maxDecelerationScrollTop=e.__maxScrollTop;var a=function(t,i,n){e.__stepThroughDeceleration(n)},l=e.options.snapping?4:.1,u=function(){var t=Math.abs(e.__decelerationVelocityX)>=l||Math.abs(e.__decelerationVelocityY)>=l;return t||(e.__didDecelerationComplete=!0),t},c=function(t,i,n){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)};e.__isDecelerating=r.effect.Animate.start(a,u,c)},__stepThroughDeceleration:function(t){var e=this,i=e.__scrollLeft+e.__decelerationVelocityX,n=e.__scrollTop+e.__decelerationVelocityY;if(!e.options.bouncing){var r=Math.max(Math.min(e.__maxDecelerationScrollLeft,i),e.__minDecelerationScrollLeft);r!==i&&(i=r,e.__decelerationVelocityX=0);var o=Math.max(Math.min(e.__maxDecelerationScrollTop,n),e.__minDecelerationScrollTop);o!==n&&(n=o,e.__decelerationVelocityY=0)}if(t?e.__publish(i,n,e.__zoomLevel):(e.__scrollLeft=i,e.__scrollTop=n),!e.options.paging){var s=e.options.decelerationRate;e.__decelerationVelocityX*=s,e.__decelerationVelocityY*=s}if(e.options.bouncing){var a=0,l=0,u=e.options.penetrationDeceleration,c=e.options.penetrationAcceleration;i<e.__minDecelerationScrollLeft?a=e.__minDecelerationScrollLeft-i:i>e.__maxDecelerationScrollLeft&&(a=e.__maxDecelerationScrollLeft-i),n<e.__minDecelerationScrollTop?l=e.__minDecelerationScrollTop-n:n>e.__maxDecelerationScrollTop&&(l=e.__maxDecelerationScrollTop-n),0!==a&&(a*e.__decelerationVelocityX<=0?e.__decelerationVelocityX+=a*u:e.__decelerationVelocityX=a*c),0!==l&&(l*e.__decelerationVelocityY<=0?e.__decelerationVelocityY+=l*u:e.__decelerationVelocityY=l*c)}}};for(var a in s)n.prototype[a]=s[a];t.exports=n}()},function(t,e){!function(e){var i=Date.now||function(){return+new Date},n={},r=1,o={effect:{}};o.effect.Animate={requestAnimationFrame:function(){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,i=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(i=!1),i)return function(e,i){t(e,i)};var n={},r=0,o=1,s=null,a=+new Date;return function(t,e){var i=o++;return n[i]=t,r++,null===s&&(s=setInterval(function(){var t=+new Date,e=n;n={},r=0;for(var i in e)e.hasOwnProperty(i)&&(e[i](t),a=t);t-a>2500&&(clearInterval(s),s=null)},1e3/60)),i}}(),stop:function(t){var e=null!=n[t];return e&&(n[t]=null),e},isRunning:function(t){return null!=n[t]},start:function(t,e,s,a,l,u){var c=i(),h=c,f=0,d=0,p=r++;if(u||(u=document.body),p%20==0){var _={};for(var g in n)_[g]=!0;n=_}var v=function(r){var _=!0!==r,g=i();if(!n[p]||e&&!e(p))return n[p]=null,void(s&&s(60-d/((g-c)/1e3),p,!1));if(_)for(var m=Math.round((g-h)/(1e3/60))-1,b=0;b<Math.min(m,4);b++)v(!0),d++;a&&(f=(g-c)/a)>1&&(f=1);var y=l?l(f):f;!1!==t(y,g,_)&&1!==f||!_?_&&(h=g,o.effect.Animate.requestAnimationFrame(v,u)):(n[p]=null,s&&s(60-d/((g-c)/1e3),p,1===f||null==a))};return n[p]=!0,o.effect.Animate.requestAnimationFrame(v,u),p}},t.exports=o}("undefined"!=typeof window?window:this)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(17),o=i(0),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o.View);e.ListCell=s;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.register=function(t,e){},e.prototype.reloadData=function(){},e}(r.ScrollView);e.ListView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(37),o=i(3),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.reuseIdentifier="",e._displayItem=void 0,e._isBusy=!1,e}return n(e,t),e}(o.View);e.ListCell=s;var a=function(t){function e(e){var i=t.call(this,e)||this;return i.reuseMapping={},i._items=[],i._cacheRows=[],i._reusingCells=[],i._nextSetted=!1,i._nextReloadMinY=void 0,i._nextReloadMaxY=void 0,i.alwaysBounceVertical=!0,i}return n(e,t),e.prototype.register=function(t,e){this.reuseMapping[e]=t},Object.defineProperty(e.prototype,"items",{get:function(){return this._items.slice()},set:function(t){this._items=t.slice(),this.reloadData()},enumerable:!0,configurable:!0}),e.prototype.reloadData=function(){var t=this,e=0;this._cacheRows=this.items.map(function(i){var n=e,r=n+i.rowHeight(t.bounds.width);return e=r,{minY:n,maxY:r,item:i}}),this.contentSize={width:0,height:e},this._nextSetted=!1,this._nextReloadMinY=void 0,this._nextReloadMaxY=void 0,this.reloadVisibleRows()},e.prototype.handleScroll=function(e,i){t.prototype.handleScroll.call(this,e,i),void 0!==this._reusingCells&&this.reloadVisibleRows()},e.prototype.reloadVisibleRows=function(){var t=this;if(!(!0===this._nextSetted&&this.contentOffset.y>(this._nextReloadMinY||-1/0)&&this.contentOffset.y<(this._nextReloadMaxY||1/0))){this.markInvisibleCellNoBusy(),this._nextSetted=!0,this._nextReloadMinY=void 0,this._nextReloadMaxY=void 0;this._cacheRows.filter(function(e){return e.maxY<=t.contentOffset.y&&(t._nextReloadMinY=e.maxY),void 0===t._nextReloadMaxY&&e.minY>=t.contentOffset.y+t.bounds.height&&(t._nextReloadMaxY=e.minY-t.bounds.height),e.maxY>t.contentOffset.y&&e.minY<t.contentOffset.y+t.bounds.height}).filter(function(e){return 0==t._reusingCells.filter(function(t){return t._displayItem===e.item}).length}).map(function(e){var i=t._reusingCells.filter(function(t){return!t._isBusy&&t.reuseIdentifier===e.item.reuseIdentifier})[0]||(void 0!==t.reuseMapping[e.item.reuseIdentifier]?new t.reuseMapping[e.item.reuseIdentifier]:void 0)||new s;return i.reuseIdentifier=e.item.reuseIdentifier,i.frame={x:0,y:e.minY,width:t.bounds.width,height:e.maxY-e.minY},i._isBusy=!0,i._displayItem=e.item,t.renderItem&&t.renderItem(i,e.item),t._reusingCells.indexOf(i)<0&&t._reusingCells.push(i),i}).forEach(function(e){void 0===e.superview&&t.addSubview(e)}),console.log(this._reusingCells.length)}},e.prototype.markInvisibleCellNoBusy=function(){var t=this;this._reusingCells.filter(function(e){return e._isBusy&&(e.frame.y+e.frame.height<t.contentOffset.y||e.frame.y>t.contentOffset.y+t.bounds.height)}).forEach(function(t){t._isBusy=!1})},e}(r.ScrollView);e.ListView=a}]);