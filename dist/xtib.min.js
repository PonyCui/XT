!function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t}();e.InspectorBaseProperty=r;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r);e.InspectorStringProperty=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r);e.InspectorNumberProperty=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r);e.InspectorBooleanProperty=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r);e.InspectorEnumProperty=c;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r);e.InspectorFourNumberProperty=u;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r);e.InspectorHRProperty=d;var l=function(){function t(){this.name="",this.children=[]}return t}();e.BaseLayer=l},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(3),a=n(0),s=n(4),c=function(){function t(){this.name="View";var t=new a.InspectorStringProperty;t.name="Foo",t.placeholder="Input Foo Value Here",t.valueChanged=function(t){document.title=t};var e=new a.InspectorNumberProperty;e.name="Bar",e.placeholder="Input Bar Value Here",e.valueChanged=function(t){document.title=t.toString()};var n=new a.InspectorBooleanProperty;n.name="User Interaction Enabled",n.valueChanged=function(t){document.title=t.toString()};var o=new a.InspectorEnumProperty;o.name="Content Mode",o.defaultValue=1,o.enumOptions={0:"Scale To Fill",1:"Aspect Fit",2:"Aspect Fill"},o.valueChanged=function(t){document.title=t.toString()};var r=new a.InspectorFourNumberProperty;r.name="Content Insets",r.fourNames=["Left","Top","Bottom","Right"],r.fourDefaultValue=[1,2,3,4],r.valueChanged=function(t){console.log(t)},this.props=[t,new a.InspectorHRProperty,e,n,o,r]}return t}(),u=function(t){function e(){var e=t.call(this)||this;e.name="Root View";var n=new a.BaseLayer;n.name="Child 0 View";var o=new a.BaseLayer;o.name="Child 1 View";var r=new a.BaseLayer;return r.name="Child 2 View",e.children=[n,o,r],e}return o(e,t),e}(a.BaseLayer),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inspectorView=new r.Inspector,e.editorView=new i.Editor,e.layerView=new s.LayerView,e}return o(e,t),e.prototype.applicationDidFinishLaunchingWithOptions=function(){this.window=new XT.Window,this.setupWindow(),this.window.makeKeyAndVisible(),this.mock()},e.prototype.setupWindow=function(){this.window&&(this.window.backgroundColor=XT.Color.yellowColor,this.window.addSubview(this.editorView),this.window.addSubview(this.inspectorView),this.window.addSubview(this.layerView),this.window.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:|-0-[editorView]-0-[inspectorView(300)]-0-|",{editorView:this.editorView,inspectorView:this.inspectorView})),this.window.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:[layerView(300)]-0-|",{layerView:this.layerView})),this.window.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-0-[inspectorView]-[layerView(400)]-0-|",{inspectorView:this.inspectorView,layerView:this.layerView})),this.window.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-0-[editorView]-0-|",{editorView:this.editorView})),this.window.layoutIfNeeded())},e.prototype.mock=function(){this.inspectorView.item=new c,this.layerView.setLayerData(new u)},e}(XT.ApplicationDelegate);new XT.Application("app",new d)},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sectionHeader=new XT.View,e.sectionTitleLabel=new XT.Label,e.sectionContent=new XT.ScrollView,e.currentItem=void 0,e}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.userInteractionEnabled=!0,this.backgroundColor=new XT.Color(23/255,23/255,23/255,255),this.sectionTitleLabel.text="No Item",this.addBorder(),this.addSectionHeader(),this.addSectionContent(),this.resetContents()},Object.defineProperty(e.prototype,"item",{get:function(){return this.currentItem},set:function(t){this.currentItem!==t&&(this.currentItem=t,this.resetContents())},enumerable:!0,configurable:!0}),e.prototype.addBorder=function(){var t=new XT.View;t.backgroundColor=new XT.Color(50/255,50/255,50/255,255),this.addSubview(t),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:|-0-[borderView(2)]",{borderView:t})),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-0-[borderView]-0-|",{borderView:t})),this.layoutIfNeeded()},e.prototype.addSectionHeader=function(){this.sectionHeader.backgroundColor=new XT.Color(42/255,42/255,42/255,255),this.addSubview(this.sectionHeader),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:|-0-[sectionHeader]-0-|",{sectionHeader:this.sectionHeader})),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-0-[sectionHeader(32)]",{sectionHeader:this.sectionHeader})),this.sectionTitleLabel.textColor=new XT.Color(193/255,193/255,193/255,255),this.sectionTitleLabel.font=XT.Font.boldSystemFontOfSize(11),this.sectionHeader.addSubview(this.sectionTitleLabel),this.sectionTitleLabel.frame=XT.RectMake(8,0,300,32),this.layoutIfNeeded()},e.prototype.addSectionContent=function(){this.sectionContent.userInteractionEnabled=!0,this.addSubview(this.sectionContent),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:|-0-[sectionContent]-0-|",{sectionContent:this.sectionContent})),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-32-[sectionContent]-0-|",{sectionContent:this.sectionContent})),this.layoutIfNeeded()},e.prototype.resetContents=function(){var t=this;if(this.sectionTitleLabel.text="No Item",this.sectionContent.subviews.forEach(function(t){return t.removeFromSuperview()}),this.currentItem){this.sectionTitleLabel.text=this.currentItem.name;var e=0;this.currentItem.props.forEach(function(n){if(n instanceof r.InspectorHRProperty){var o=new XT.View(XT.RectMake(0,e,300,22)),i=new XT.View(XT.RectMake(8,16,284,1));return i.backgroundColor=new XT.Color(1,1,1,.15),o.addSubview(i),t.sectionContent.addSubview(o),void(e+=22)}var a=new XT.View(XT.RectMake(0,e,300,64));a.userInteractionEnabled=!0;var s=new XT.Label(XT.RectMake(8,8,300,20));s.textColor=new XT.Color(193/255,193/255,193/255,255),s.font=XT.Font.systemFontOfSize(11),s.text=n.name;var c=new XT.TextField(XT.RectMake(8,32,284,32));if(c.userInteractionEnabled=!0,c.backgroundColor=new XT.Color(46/255,46/255,46/255,255),c.font=XT.Font.systemFontOfSize(12),c.textColor=new XT.Color(193/255,193/255,193/255,255),n instanceof r.InspectorStringProperty)n.defaultValue&&(c.text=n.defaultValue),c.placeholder=n.placeholder,c.didEndEditing=function(){n.valueChanged(c.text||"")};else if(n instanceof r.InspectorNumberProperty)n.defaultValue&&(c.text=n.defaultValue.toString()),c.placeholder=n.placeholder,c.didEndEditing=function(){c.text&&!isNaN(parseFloat(c.text))&&n.valueChanged(parseFloat(c.text))};else if(n instanceof r.InspectorBooleanProperty)c.setOptions(["TRUE","FALSE"],!0===n.defaultValue?"TRUE":"FALSE"),c.didEndEditing=function(){n.valueChanged("TRUE"===c.text)};else if(n instanceof r.InspectorEnumProperty)c.setOptions(Object.keys(n.enumOptions).map(function(t){return n.enumOptions[t]}),n.enumOptions[n.defaultValue]),c.didEndEditing=function(){Object.keys(n.enumOptions).forEach(function(t){n.enumOptions[t]===c.text&&n.valueChanged(parseInt(t))})};else if(n instanceof r.InspectorFourNumberProperty){var u=[c,new XT.TextField,new XT.TextField,new XT.TextField];u[0].frame=XT.RectMake(8,32,88,32),u[1].frame=XT.RectMake(108,32,88,32),u[2].frame=XT.RectMake(8,76,88,32),u[3].frame=XT.RectMake(108,76,88,32),u.forEach(function(t,e){t.userInteractionEnabled=!0,t.backgroundColor=new XT.Color(46/255,46/255,46/255,255),t.font=XT.Font.systemFontOfSize(12),t.textColor=new XT.Color(193/255,193/255,193/255,255),t.placeholder=n.fourNames[e]||"",t.text=(n.fourDefaultValue[e]||0).toString(),t.shouldReturn=function(){return t.blur(),!0},t.didEndEditing=function(){n.valueChanged(u.map(function(t){return isNaN(parseFloat(t.text||""))?0:parseFloat(t.text||"")}))},a.addSubview(t)}),a.frame=XT.RectMake(0,e,300,108),e+=44}c.shouldReturn=function(){return c.blur(),!0},a.addSubview(s),void 0==c.superview&&a.addSubview(c),t.sectionContent.addSubview(a),e+=64}),this.sectionContent.contentSize={width:0,height:e}}},e}(XT.View);e.Inspector=i},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.backgroundColor=new XT.Color(23/255,23/255,23/255,255)},e}(XT.View);e.Editor=r},function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sectionHeader=new XT.View,e.sectionTitleLabel=new XT.Label,e.sectionContent=new XT.ScrollView,e.layerData=void 0,e.openedLayer=new window.Set,e.currentLayer=void 0,e.renderedLayers=[],e.currentY=0,e.moveLayerIndicator=new XT.View,e}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.userInteractionEnabled=!0,this.backgroundColor=new XT.Color(23/255,23/255,23/255,255),this.sectionTitleLabel.text="Layers",this.addBorder(),this.addSectionHeader(),this.addSectionContent(),this.addKeyEventListenner()},e.prototype.setLayerData=function(t){this.layerData=t,this.resetContents()},e.prototype.addKeyEventListenner=function(){var t=this;document.addEventListener("keypress",function(t){43===t.keyCode?console.log("require add layer"):95===t.keyCode&&console.log("require remove layer")}),document.addEventListener("keydown",function(e){37==e.keyCode?void 0!==t.currentLayer&&(t.openedLayer.delete(t.currentLayer),t.resetContents()):38==e.keyCode?void 0!==t.currentLayer&&t.selectPrevious():39==e.keyCode?void 0!==t.currentLayer&&(t.openedLayer.add(t.currentLayer),t.resetContents()):40==e.keyCode&&void 0!==t.currentLayer&&t.selectNext()})},e.prototype.addBorder=function(){var t=new XT.View;t.backgroundColor=new XT.Color(50/255,50/255,50/255,255),this.addSubview(t),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:|-0-[borderView(2)]",{borderView:t})),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-0-[borderView]-0-|",{borderView:t})),this.layoutIfNeeded()},e.prototype.addSectionHeader=function(){this.sectionHeader.backgroundColor=new XT.Color(42/255,42/255,42/255,255),this.addSubview(this.sectionHeader),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:|-0-[sectionHeader]-0-|",{sectionHeader:this.sectionHeader})),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-0-[sectionHeader(32)]",{sectionHeader:this.sectionHeader})),this.sectionTitleLabel.textColor=new XT.Color(193/255,193/255,193/255,255),this.sectionTitleLabel.font=XT.Font.boldSystemFontOfSize(11),this.sectionHeader.addSubview(this.sectionTitleLabel),this.sectionTitleLabel.frame=XT.RectMake(8,0,300,32),this.layoutIfNeeded()},e.prototype.addSectionContent=function(){var t=this;this.sectionContent.userInteractionEnabled=!0,this.addSubview(this.sectionContent),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("H:|-0-[sectionContent]-0-|",{sectionContent:this.sectionContent})),this.addConstraints(XT.LayoutConstraint.constraintsWithVisualFormat("V:|-32-[sectionContent]-0-|",{sectionContent:this.sectionContent})),this.layoutIfNeeded(),this.sectionContent.onTap=function(){t.currentLayer=void 0,t.resetContents()}},e.prototype.resetContents=function(){this.currentY=0,this.renderedLayers=[],this.sectionContent.subviews.forEach(function(t){return t.removeFromSuperview()}),this.layerData&&this.renderLayer(this.layerData,0),this.sectionContent.contentSize=XT.SizeMake(0,this.currentY)},e.prototype.selectPrevious=function(){if(this.currentLayer){var t=this.renderedLayers.indexOf(this.currentLayer);t>0&&(this.currentLayer=this.renderedLayers[t-1],this.resetContents())}},e.prototype.selectNext=function(){if(this.currentLayer){var t=this.renderedLayers.indexOf(this.currentLayer);t>=0&&t+1<this.renderedLayers.length&&(this.currentLayer=this.renderedLayers[t+1],this.resetContents())}},e.prototype.renderLayer=function(t,e){var n=this,o=new XT.Button(XT.RectMake(2+15*e,this.currentY-2.5,24,28));o.color=new XT.Color(193/255,193/255,193/255,255),this.openedLayer.has(t)?(o.font=XT.Font.systemFontOfSize(9),o.title="◢",o.titleLabel.transform=new XT.TransformMatrix(.6,0,0,.6,4,4)):(o.font=XT.Font.systemFontOfSize(10),o.title="▷",o.titleLabel.transform=new XT.TransformMatrix(.75,0,0,.75,3,3)),o.onTouchUpInside=function(){n.openedLayer.has(t)?n.openedLayer.delete(t):n.openedLayer.add(t),n.resetContents()},void 0!==t.children&&0!=t.children.length||(o.alpha=.25,o.userInteractionEnabled=!1);var r=new XT.Label(XT.RectMake(12+15*e+16,this.currentY,300,28));if(r.textColor=new XT.Color(193/255,193/255,193/255,255),r.font=XT.Font.systemFontOfSize(10),r.text=t.name,r.userInteractionEnabled=!0,r.onTap=function(){n.currentLayer=t,n.resetContents()},r.longPressDuration=.15,r.onLongPress=function(e,o,i){if(n.currentLayer==t)if(e==XT.InteractionState.Began)n.moveLayerIndicator.removeFromSuperview(),r.addSubview(n.moveLayerIndicator),n.moveLayerIndicator.frame=XT.RectMake(0,14,300-r.frame.x-16,2),n.moveLayerIndicator.backgroundColor=XT.Color.whiteColor;else if(e==XT.InteractionState.Changed){var a=o?o.y:0;a=a>0&&a<28?14:28*Math.floor(a/28),void 0===n.moveLayerIndicator.superview&&r.addSubview(n.moveLayerIndicator),n.moveLayerIndicator.frame=XT.RectMake(0,a,300-r.frame.x-16,2),n.moveLayerIndicator.backgroundColor=XT.Color.whiteColor}else e==XT.InteractionState.Ended&&n.moveLayerIndicator.removeFromSuperview()},this.currentLayer===t){var i=new XT.View(XT.RectMake(0,this.currentY,300,28));i.backgroundColor=new XT.Color(0,54/255,97/255,255),this.sectionContent.addSubview(i)}this.sectionContent.addSubview(o),this.sectionContent.addSubview(r),this.currentY+=28,this.renderedLayers.push(t),this.openedLayer.has(t)&&t.children.forEach(function(t){n.renderLayer(t,e+1)})},e}(XT.View);e.LayerView=r}]);