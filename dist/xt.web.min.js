!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.ApplicationDelegate);e.ApplicationDelegate=o;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r.Application);e.Application=s;var a=n(10),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(a.Color);e.Color=u;var l=n(6);e.PointMake=l.PointMake,e.PointEqual=l.PointEqual,e.PointZero=l.PointZero,e.SizeMake=l.SizeMake,e.SizeEqual=l.SizeEqual,e.SizeZero=l.SizeZero,e.RectMake=l.RectMake,e.RectZero=l.RectZero,e.RectEqual=l.RectEqual,e.RectInside=l.RectInside;var c=n(18),h=n(19);e.LayoutAttribute=c.LayoutAttribute,e.LayoutRelation=c.LayoutRelation;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(h.LayoutConstraint);e.LayoutConstraint=p;var f=n(11),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(f.TransformMatrix);e.TransformMatrix=d;var v=n(3),b=n(13),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(b.View);e.View=g,e.InteractionState=v.InteractionState,e.SwipeDirection=v.SwipeDirection;var m=n(16),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(m.Window);e.Window=y,window.XT=t.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=void 0,o=function(){function t(){}return t.prototype.applicationDidFinishLaunchingWithOptions=function(t,e){},t}();e.ApplicationDelegate=o;var s=function(){function t(t,e){if(void 0===r){if(r=this,"string"==typeof t){var n=document.querySelector(t);n instanceof SVGElement&&(this._rootElement=n,this._rootElement.innerHTML="<defs></defs>")}else t instanceof SVGElement&&(this._rootElement=t,this._rootElement.innerHTML="<defs></defs>");void 0!==this._rootElement&&null!==this._rootElement||(this._rootElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._rootElement.innerHTML="<defs></defs>",this._rootElement.setAttribute("width","100%"),this._rootElement.setAttribute("height","100%"),document.body.appendChild(this._rootElement))}this.delegate=e,this.delegate.applicationDidFinishLaunchingWithOptions(this,{})}return Object.defineProperty(t.prototype,"keyWindow",{get:function(){return this._keyWindow},set:function(t){this._keyWindow=t,this._rootElement&&t&&(t.frame=i.RectMake(0,0,this._rootElement.clientWidth,this._rootElement.clientHeight),this._rootElement.appendChild(t.nativeObject.nativeObject))},enumerable:!0,configurable:!0}),t.sharedApplication=function(){return r},t}();e.Application=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i;!function(t){t[t.Began=0]="Began",t[t.Changed=1]="Changed",t[t.Ended=2]="Ended",t[t.Cancelled=3]="Cancelled"}(i=e.InteractionState||(e.InteractionState={}));var r;!function(t){t[t.ToLeft=0]="ToLeft",t[t.ToRight=1]="ToRight",t[t.ToTop=2]="ToTop",t[t.ToBottom=3]="ToBottom"}(r=e.SwipeDirection||(e.SwipeDirection={}));var o=function(){function t(t){}return t.prototype.init=function(){},t.prototype.tintColorDidChange=function(){},t.prototype.removeFromSuperview=function(){},t.prototype.insertSubviewAtIndex=function(t,e){},t.prototype.exchangeSubviewAtIndex=function(t,e){},t.prototype.addSubview=function(t){},t.prototype.insertSubviewBelow=function(t,e){},t.prototype.insertSubviewAbove=function(t,e){},t.prototype.bringSubviewToFront=function(t){},t.prototype.sendSubviewToBack=function(t){},t.prototype.didAddSubview=function(t){},t.prototype.willRemoveSubview=function(t){},t.prototype.willMoveToSuperview=function(t){},t.prototype.didMoveToSuperview=function(){},t.prototype.willMoveToWindow=function(t){},t.prototype.didMoveToWindow=function(){},t.prototype.isDescendantOfView=function(t){return!1},t.prototype.viewWithTag=function(t){},t.prototype.setNeedsLayout=function(){},t.prototype.layoutIfNeeded=function(){},t.prototype.layoutSubviews=function(){},t.prototype.setNeedsDisplay=function(){},t.prototype.addConstraint=function(t){},t.prototype.addConstraints=function(t){},t.prototype.removeConstraint=function(t){},t.prototype.removeAllConstraints=function(){},t.animationWithDuration=function(t,e,n){},t.animationWithTensionAndFriction=function(t,e,n,i){},t.animationWithBouncinessAndSpeed=function(t,e,n,i){},t.animationWithDurationDampingVelocity=function(t,e,n,i,r){},t.InteractionState=i,t.SwipeDirection=r,t}();e.View=o},,function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(7),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){"use strict";function i(t,e){return{x:t,y:e}}function r(t,e){return t.x===e.x&&t.y===e.y}function o(t,e){return{width:t,height:e}}function s(t,e){return t.width===e.width&&t.height===e.height}function a(t,e,n,i){return{x:t,y:e,width:n,height:i}}function u(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l(t,e){return e.x>t.x&&e.x+e.width<t.x+t.width&&e.y>t.y&&e.y+e.height<t.y+t.height}function c(t,e,n,i){return{top:t,left:e,bottom:n,right:i}}Object.defineProperty(e,"__esModule",{value:!0}),e.PointMake=i,e.PointEqual=r,e.PointZero=i(0,0),e.SizeMake=o,e.SizeEqual=s,e.SizeZero=o(0,0),e.RectMake=a,e.RectZero=a(0,0,0,0),e.RectEqual=u,e.RectInside=l,e.InsetsMake=c},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[u]=i,a(u),u++}function r(t){delete l[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function s(t){if(c)setTimeout(s,0,t);else{var e=l[t];if(e){c=!0;try{o(e)}finally{r(t),c=!1}}}}if(!t.setImmediate){var a,u=1,l={},c=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;a=function(e){var n=h.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){a=function(t){setTimeout(s,0,t)}}(),p.setImmediate=i,p.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(8),n(9))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){v&&f&&(v=!1,f.length?d=f.concat(d):b=-1,d.length&&a())}function a(){if(!v){var t=r(s);v=!0;for(var e=d.length;e;){for(f=d,d=[];++b<e;)f&&f[b].run();b=-1,e=d.length}f=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,p=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var f,d=[],v=!1,b=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||r(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n,i){this.r=Math.min(1,Math.max(0,t)),this.g=Math.min(1,Math.max(0,e)),this.b=Math.min(1,Math.max(0,n)),this.a=void 0==i?1:Math.min(1,Math.max(0,i))}return t.prototype.rgbHexNumber=function(){var t=Math.ceil(255*this.r).toString(16),e=Math.ceil(255*this.g).toString(16),n=Math.ceil(255*this.b).toString(16);return parseInt("0x"+(t.length<2?"0"+t:t)+(e.length<2?"0"+e:e)+(n.length<2?"0"+n:n))},t.prototype.rgbHexString=function(){var t=Math.ceil(255*this.r).toString(16),e=Math.ceil(255*this.g).toString(16),n=Math.ceil(255*this.b).toString(16);return"#"+(t.length<2?"0"+t:t)+(e.length<2?"0"+e:e)+(n.length<2?"0"+n:n)},t.prototype.equals=function(e){return e instanceof t&&(this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a)},t.colorWithWhite=function(e,n){return new t(e,e,e,n)},t.whiteColor=new t(1,1,1),t.blackColor=new t(0,0,0),t.clearColor=new t(0,0,0,0),t.redColor=new t(1,0,0),t.yellowColor=new t(1,1,0),t.greenColor=new t(0,1,0),t.blueColor=new t(0,0,1),t.brownColor=new t(.6,.4,.2),t.cyanColor=new t(0,1,1),t.darkGrayColor=new t(.33,.33,.33),t.grayColor=new t(.5,.5,.5),t.lightGrayColor=new t(.66,.66,.66),t.magentaColor=new t(1,0,1),t.orangeColor=new t(1,.5,0),t.purpleColor=new t(.5,0,.5),t}();e.Color=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.props=[],this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1}return t.prototype.rotate=function(t){if(0===t)return this;var e=Math.cos(t),n=Math.sin(t);return this._t(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1)},t.prototype.rotateX=function(t){if(0===t)return this;var e=Math.cos(t),n=Math.sin(t);return this._t(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1)},t.prototype.rotateY=function(t){if(0===t)return this;var e=Math.cos(t),n=Math.sin(t);return this._t(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1)},t.prototype.rotateZ=function(t){if(0===t)return this;var e=Math.cos(t),n=Math.sin(t);return this._t(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1)},t.prototype.shear=function(t,e){return this._t(1,e,t,1,0,0)},t.prototype.skew=function(t,e){return this.shear(Math.tan(t),Math.tan(e))},t.prototype.skewFromAxis=function(t,e){var n=Math.cos(e),i=Math.sin(e);return this._t(n,i,0,0,-i,n,0,0,0,0,1,0,0,0,0,1)},t.prototype.scale=function(t,e,n){return n=isNaN(n)?1:n,1==t&&1==e&&1==n?this:this._t(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1)},t.prototype.setTransform=function(t,e,n,i,r,o,s,a,u,l,c,h,p,f,d,v){return this.props[0]=t,this.props[1]=e,this.props[2]=n,this.props[3]=i,this.props[4]=r,this.props[5]=o,this.props[6]=s,this.props[7]=a,this.props[8]=u,this.props[9]=l,this.props[10]=c,this.props[11]=h,this.props[12]=p,this.props[13]=f,this.props[14]=d,this.props[15]=v,this},t.prototype.translate=function(t,e,n){return n=isNaN(n)?0:n,0!==t||0!==e||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1):this},t.prototype._t=function(t,e,n,i,r,o,s,a,u,l,c,h,p,f,d,v){this.transform(t,e,n,i,r,o,s,a,u,l,c,h,p,f,d,v)},t.prototype.transform=function(t,e,n,i,r,o,s,a,u,l,c,h,p,f,d,v){if(1===t&&0===e&&0===n&&0===i&&0===r&&1===o&&0===s&&0===a&&0===u&&0===l&&1===c&&0===h)return 0===p&&0===f&&0===d||(this.props[12]=this.props[12]*t+this.props[13]*r+this.props[14]*u+this.props[15]*p,this.props[13]=this.props[12]*e+this.props[13]*o+this.props[14]*l+this.props[15]*f,this.props[14]=this.props[12]*n+this.props[13]*s+this.props[14]*c+this.props[15]*d,this.props[15]=this.props[12]*i+this.props[13]*a+this.props[14]*h+this.props[15]*v),this;var b=this.props[0],g=this.props[1],m=this.props[2],y=this.props[3],w=this.props[4],_=this.props[5],x=this.props[6],A=this.props[7],C=this.props[8],E=this.props[9],S=this.props[10],O=this.props[11],V=this.props[12],T=this.props[13],I=this.props[14],j=this.props[15];return this.props[0]=b*t+g*r+m*u+y*p,this.props[1]=b*e+g*o+m*l+y*f,this.props[2]=b*n+g*s+m*c+y*d,this.props[3]=b*i+g*a+m*h+y*v,this.props[4]=w*t+_*r+x*u+A*p,this.props[5]=w*e+_*o+x*l+A*f,this.props[6]=w*n+_*s+x*c+A*d,this.props[7]=w*i+_*a+x*h+A*v,this.props[8]=C*t+E*r+S*u+O*p,this.props[9]=C*e+E*o+S*l+O*f,this.props[10]=C*n+E*s+S*c+O*d,this.props[11]=C*i+E*a+S*h+O*v,this.props[12]=V*t+T*r+I*u+j*p,this.props[13]=V*e+T*o+I*l+j*f,this.props[14]=V*n+T*s+I*c+j*d,this.props[15]=V*i+T*a+I*h+j*v,this},t.prototype.clone=function(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]},t.prototype.cloneFromProps=function(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]},t.prototype.applyToPoint=function(t,e,n){return{x:t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]}},t.prototype.applyToX=function(t,e,n){return t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12]},t.prototype.applyToY=function(t,e,n){return t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13]},t.prototype.applyToZ=function(t,e,n){return t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]},t.prototype.applyToPointArray=function(t,e,n){return[t*this.props[0]+e*this.props[4]+n*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+n*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+n*this.props[10]+this.props[14]]},t.prototype.applyToPointStringified=function(t,e){return Math.round(t*this.props[0]+e*this.props[4]+this.props[12])+","+Math.round(t*this.props[1]+e*this.props[5]+this.props[13])},t}(),r=function(){function t(t,e,n,i,r,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=o}return t.unmatrix=function(t){var e=t.a,n=t.b,i=t.c,r=t.d;if(e*r==n*i)return{scale:{x:1,y:1},degree:0,translate:{x:0,y:0}};var o=Math.sqrt(e*e+n*n);e/=o,n/=o;var s=e*i+n*r;i-=e*s,r-=n*s;var a=Math.sqrt(i*i+r*r);return i/=a,r/=a,s/=a,e*r<n*i&&(e=-e,n=-n,s=-s,o=-o),{scale:{x:o,y:a},degree:Math.atan2(n,e)/(Math.PI/180),translate:{x:t.tx,y:t.ty}}},t.isIdentity=function(t){return 1==t.a&&0==t.b&&0==t.c&&1==t.d&&0==t.tx&&0==t.ty},t.setScale=function(e,n,r){var o=new i,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(n||s.scale.x,r||s.scale.y,1),o.translate(s.translate.x,s.translate.y,0),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.postScale=function(e,n,r){var o=new i,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(s.scale.x,s.scale.y,1),o.translate(s.translate.x,s.translate.y,0),o.scale(n||1,r||1,1),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.setTranslate=function(e,n,r){var o=new i,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(s.scale.x,s.scale.y,1),o.translate(n||s.translate.x,r||s.translate.y,0),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.postTranslate=function(e,n,r){var o=new i,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(s.scale.x,s.scale.y,1),o.translate(s.translate.x,s.translate.y,0),o.translate(n||0,r||0,0),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.setRotate=function(e,n){var r=new i,o=this.unmatrix(e);return r.rotate(-n||-o.degree*Math.PI/180),r.scale(o.scale.x,o.scale.y,1),r.translate(o.translate.x,o.translate.y,0),new t(r.props[0],r.props[1],r.props[4],r.props[5],r.props[12],r.props[13])},t.postRotate=function(e,n){var r=new i,o=this.unmatrix(e);return r.rotate(-o.degree*Math.PI/180),r.scale(o.scale.x,o.scale.y,1),r.translate(o.translate.x,o.translate.y,0),r.rotate(-n),new t(r.props[0],r.props[1],r.props[4],r.props[5],r.props[12],r.props[13])},t.concat=function(e,n){var r=new i;return r.props[0]=e.a,r.props[1]=e.b,r.props[4]=e.c,r.props[5]=e.d,r.props[12]=e.tx,r.props[13]=e.ty,r.transform(n.a,n.b,0,0,n.c,n.d,0,0,0,0,1,0,n.tx,n.ty,0,1),new t(r.props[0],r.props[1],r.props[4],r.props[5],r.props[12],r.props[13])},t}();e.TransformMatrix=r},,function(t,e,n){"use strict";(function(t){var i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),o=n(6),s=n(10),a=n(11),u=n(14),l=n(17),c=function(){function e(e,n,i){void 0===i&&(i=!1);var r=this;this.opaque=!1,this._constraints=[],this._animationProps={},i||(this.nativeObject=new u.ViewElement(e||o.RectZero,this),t(function(){r.init()}))}return e.prototype.init=function(){},Object.defineProperty(e.prototype,"frameX",{set:function(t){this.frame=i({},this.frame,{x:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameY",{set:function(t){this.frame=i({},this.frame,{y:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameWidth",{set:function(t){this.frame=i({},this.frame,{width:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameHeight",{set:function(t){this.frame=i({},this.frame,{height:t})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this.nativeObject.xtr_frame()},set:function(t){if(e._animationEnabled)return this.frame.x!=t.x&&e.addAnimation(this,"frameX",this.frame.x,t.x),this.frame.y!=t.y&&e.addAnimation(this,"frameY",this.frame.y,t.y),this.frame.width!=t.width&&e.addAnimation(this,"frameWidth",this.frame.width,t.width),void(this.frame.height!=t.height&&e.addAnimation(this,"frameHeight",this.frame.height,t.height));this.nativeObject.xtr_setFrame(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.nativeObject.xtr_bounds()},set:function(t){this.nativeObject.xtr_setBounds(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.nativeObject.xtr_center()},set:function(t){this.nativeObject.xtr_setCenter(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this.nativeObject.xtr_transform()},set:function(t){if(e._animationEnabled){var n=a.TransformMatrix.unmatrix(this.transform),i=a.TransformMatrix.unmatrix(t);return n.scale.x!=i.scale.x&&e.addAnimation(this,"transformScaleX",n.scale.x,i.scale.x),n.scale.y!=i.scale.y&&e.addAnimation(this,"transformScaleY",n.scale.y,i.scale.y),n.degree!=i.degree&&e.addAnimation(this,"transformDegree",n.degree,i.degree),n.translate.x!=i.translate.x&&e.addAnimation(this,"transformTranslateX",n.translate.x,i.translate.x),void(n.translate.y!=i.translate.y&&e.addAnimation(this,"transformTranslateY",n.translate.y,i.translate.y))}this.nativeObject.xtr_setTransform(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformScaleX",{set:function(t){this.transform=a.TransformMatrix.setScale(this.transform,t,void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformScaleY",{set:function(t){this.transform=a.TransformMatrix.setScale(this.transform,void 0,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformDegree",{set:function(t){this.transform=a.TransformMatrix.setRotate(this.transform,t*Math.PI/180)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformTranslateX",{set:function(t){this.transform=a.TransformMatrix.setTranslate(this.transform,t,void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformTranslateY",{set:function(t){this.transform=a.TransformMatrix.setTranslate(this.transform,void 0,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clipsToBounds",{get:function(){return this.nativeObject.xtr_clipsToBounds()},set:function(t){this.nativeObject.xtr_setClipsToBounds(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.nativeObject.xtr_backgroundColor()},set:function(t){if(e._animationEnabled&&this.backgroundColor&&t)return this.backgroundColor.a!=t.a&&e.addAnimation(this,"backgroundColorA",this.backgroundColor.a,t.a),this.backgroundColor.r!=t.r&&e.addAnimation(this,"backgroundColorR",this.backgroundColor.r,t.r),this.backgroundColor.g!=t.g&&e.addAnimation(this,"backgroundColorG",this.backgroundColor.g,t.g),void(this.backgroundColor.b!=t.b&&e.addAnimation(this,"backgroundColorB",this.backgroundColor.b,t.b));this.nativeObject.xtr_setBackgroundColor(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColorA",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColorR",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(t,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColorG",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(this.backgroundColor.r,t,this.backgroundColor.b,this.backgroundColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColorB",{set:function(t){this.backgroundColor&&(this.backgroundColor=new s.Color(this.backgroundColor.r,this.backgroundColor.g,t,this.backgroundColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.nativeObject.xtr_alpha()},set:function(t){if(e._animationEnabled)return void e.addAnimation(this,"alpha",this.nativeObject.alpha,t);this.nativeObject.xtr_setAlpha(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.nativeObject.xtr_hidden()},set:function(t){this.nativeObject.xtr_setHidden(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentMode",{get:function(){return this.nativeObject.xtr_contentMode()},set:function(t){this.nativeObject.xtr_setContentMode(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskView",{get:function(){return console.info("TODO: maskView"),this._maskView},set:function(t){console.info("TODO: maskView"),this._maskView=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintColor",{get:function(){var t=this._tintColor||(this.superview?this.superview.tintColor:void 0);return t instanceof Object?new s.Color(t.r,t.g,t.b,t.a):new s.Color(0,122/255,1)},set:function(t){this._tintColor=t,this.tintColorDidChange()},enumerable:!0,configurable:!0}),e.prototype.tintColorDidChange=function(){this.subviews.forEach(function(t){return t.tintColorDidChange()})},e.prototype.setNeedsDisplay=function(){},Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return this.nativeObject.xtr_cornerRadius()},set:function(t){if(e._animationEnabled)return void e.addAnimation(this,"cornerRadius",this.cornerRadius,t);this.nativeObject.xtr_setCornerRadius(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderWidth",{get:function(){return this.nativeObject.xtr_borderWidth()},set:function(t){if(e._animationEnabled)return void e.addAnimation(this,"borderWidth",this.borderWidth,t);this.nativeObject.xtr_setBorderWidth(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this.nativeObject.xtr_borderColor()},set:function(t){if(e._animationEnabled&&this.borderColor&&t)return this.borderColor.a!=t.a&&e.addAnimation(this,"borderColorA",this.borderColor.a,t.a),this.borderColor.r!=t.r&&e.addAnimation(this,"borderColorR",this.borderColor.r,t.r),this.borderColor.g!=t.g&&e.addAnimation(this,"borderColorG",this.borderColor.g,t.g),void(this.borderColor.b!=t.b&&e.addAnimation(this,"borderColorB",this.borderColor.b,t.b));this.nativeObject.xtr_setBorderColor(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColorA",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(this.borderColor.r,this.borderColor.g,this.borderColor.b,t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColorR",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(t,this.borderColor.g,this.borderColor.b,this.borderColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColorG",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(this.borderColor.r,t,this.borderColor.b,this.borderColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColorB",{set:function(t){this.borderColor&&(this.borderColor=new s.Color(this.borderColor.r,this.borderColor.g,t,this.borderColor.a))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this.nativeObject.xtr_tag()},set:function(t){this.nativeObject.xtr_setTag(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"superview",{get:function(){var t=this.nativeObject.xtr_superview();if(t)return t.scriptObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subviews",{get:function(){return this.nativeObject.xtr_subviews().map(function(t){return t.scriptObject})},enumerable:!0,configurable:!0}),e.prototype.removeFromSuperview=function(){this.superview&&this.superview.willRemoveSubview(this),this.willMoveToWindow(void 0),this.willMoveToSuperview(void 0),this.window=void 0,this.nativeObject.xtr_removeFromSuperview(),this.didMoveToSuperview(),this.didMoveToWindow()},e.prototype.insertSubviewAtIndex=function(t,e){t.willMoveToSuperview(this),this.nativeObject.xtr_insertSubviewAtIndexAtIndex(t.nativeObject,e),this.didAddSubview(t),t.didMoveToSuperview()},e.prototype.exchangeSubviewAtIndex=function(t,e){this.nativeObject.xtr_exchangeSubviewAtIndexIndex2(t,e)},e.prototype.addSubview=function(t){"XTRWindow"===this.className?t.window=this:t.window=this.window,t.willMoveToWindow(this.window),t.willMoveToSuperview(this),this.nativeObject.xtr_addSubview(t.nativeObject),this.didAddSubview(t),t.didMoveToSuperview(),t.didMoveToWindow()},e.prototype.insertSubviewBelow=function(t,e){"XTRWindow"===this.className?t.window=this:t.window=this.window,t.willMoveToWindow(this.window),t.willMoveToSuperview(this),this.nativeObject.xtr_insertSubviewBelowSiblingSubview(t.nativeObject,e.nativeObject),this.didAddSubview(t),t.didMoveToSuperview(),t.didMoveToWindow()},e.prototype.insertSubviewAbove=function(t,e){"XTRWindow"===this.className?t.window=this:t.window=this.window,t.willMoveToWindow(this.window),t.willMoveToSuperview(this),this.nativeObject.xtr_insertSubviewAboveSiblingSubview(t.nativeObject,e.nativeObject),this.didAddSubview(t),t.didMoveToSuperview(),t.didMoveToWindow()},e.prototype.bringSubviewToFront=function(t){this.nativeObject.xtr_bringSubviewToFront(t.nativeObject)},e.prototype.sendSubviewToBack=function(t){this.nativeObject.xtr_sendSubviewToBack(t.nativeObject)},e.prototype.didAddSubview=function(t){},e.prototype.willRemoveSubview=function(t){},e.prototype.willMoveToSuperview=function(t){},e.prototype.didMoveToSuperview=function(){},e.prototype.willMoveToWindow=function(t){},e.prototype.didMoveToWindow=function(){},e.prototype.isDescendantOfView=function(t){return this.nativeObject.xtr_isDescendantOfView(t.nativeObject)},e.prototype.viewWithTag=function(t){var e=this.nativeObject.xtr_viewWithTag(t);if(e)return e.scriptObject},e.prototype.setNeedsLayout=function(){this.layoutSubviews()},e.prototype.layoutIfNeeded=function(){this.layoutSubviews()},e.prototype.layoutSubviews=function(){if(this._constraints.length>0){var t={};this._constraints.forEach(function(e){void 0!==e.firstItem&&(t[e.firstItem.nativeObject.objectUUID]=e.firstItem),void 0!==e.secondItem&&(t[e.secondItem.nativeObject.objectUUID]=e.secondItem)});var e=new l.View({constraints:this._constraints.map(function(t){return t.toALObject()}),width:this.bounds.width,height:this.bounds.height});for(var n in e.subViews){var i=e.subViews[n];if(void 0!==t[n]){var r=t[n].intrinsicContentSize(0!=i.width?i.width:void 0);void 0!==r&&null!==r&&(i.intrinsicWidth=r.width,i.intrinsicHeight=r.height)}}for(var n in e.subViews){var i=e.subViews[n];if(void 0!==t[n]){if(t[n]==this)continue;t[n].frame={x:i.left,y:i.top,width:i.width,height:i.height}}}}},Object.defineProperty(e.prototype,"constraints",{get:function(){return this._constraints.slice()},enumerable:!0,configurable:!0}),e.prototype.intrinsicContentSize=function(t){},e.prototype.addConstraint=function(t){this._constraints.push(t)},e.prototype.addConstraints=function(t){var e=this;t.forEach(function(t){return e._constraints.push(t)})},e.prototype.removeConstraint=function(t){var e=this._constraints.indexOf(t);e>=0&&this._constraints.splice(e,1)},e.prototype.removeAllConstraints=function(){this._constraints=[]},e.commonAnimation=function(t,n){e._animationEnabled=!0,t();var i=[];e._animationViews.forEach(function(t){for(var e in t._animationProps){var n=t._animationProps[e];i.push({view:t,propName:e,from:n.from,to:n.to})}t._animationProps={}});var r=performance.now(),o=function(){n(r,i)||requestAnimationFrame(o)};o(),e._animationViews=[],e._animationEnabled=!1},e.animationWithDuration=function(t,e,n){this.commonAnimation(e,function(e,i){var r=performance.now(),o=r-e;return i.forEach(function(e){var n=(e.to-e.from)*Math.min(1,o/(1e3*t));e.view[e.propName]=e.from+n}),!(o<1e3*t)&&(n&&n(),!0)})},e.animationWithTensionAndFriction=function(t,e,n,i){var o=new r.SpringSystem,s=!1;this.commonAnimation(n,function(n,r){return r.forEach(function(n){var r=o.createSpring(t,e);r.addListener({onSpringUpdate:function(t){n.view[n.propName]=t.getCurrentValue()},onSpringAtRest:function(){s||(s=!0,i&&i())}}),r.setCurrentValue(n.from),r.setEndValue(n.to)}),!0})},e.animationWithBouncinessAndSpeed=function(t,e,n,i){var o=new r.SpringSystem,s=!1;this.commonAnimation(n,function(n,r){return r.forEach(function(n){var r=o.createSpringWithBouncinessAndSpeed(t,e);r.addListener({onSpringUpdate:function(t){n.view[n.propName]=t.getCurrentValue()},onSpringAtRest:function(){s||(s=!0,i&&i())}}),r.setCurrentValue(n.from),r.setEndValue(n.to)}),!0})},e.addAnimation=function(t,n,i,r){e._animationViews.indexOf(t)<0&&e._animationViews.push(t),t._animationProps[n]={from:i,to:r}},e._animationEnabled=!1,e._animationViews=[],e}();e.View=c}).call(e,n(5).setImmediate)},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),o=n(6),s=n(11),a=function(t){function e(e,n){var i=t.call(this,n)||this;return i.nativeObject=document.createElementNS("http://www.w3.org/2000/svg","g"),i.backgroundObject=document.createElementNS("http://www.w3.org/2000/svg","rect"),i.containerObject=document.createElementNS("http://www.w3.org/2000/svg","g"),i.maskObject=void 0,i.frame=o.RectMake(0,0,0,0),i.transform=new s.TransformMatrix,i.clipsToBounds=!1,i.alpha=1,i.hidden=!1,i.contentMode=0,i.cornerRadius=0,i.borderWidth=0,i.subviews=[],i.tag=0,i.nativeObject.setAttribute("id",i.objectUUID),i.backgroundObject.setAttribute("visibility","hidden"),i.nativeObject.appendChild(i.backgroundObject),i.nativeObject.appendChild(i.containerObject),i.xtr_setFrame(e),i}return i(e,t),e.prototype.xtr_frame=function(){return this.frame},e.prototype.xtr_setFrame=function(t){o.RectEqual(this.frame,t)||(this.frame=t,this.resetTransform())},e.prototype.xtr_bounds=function(){return{x:0,y:0,width:this.frame.width,height:this.frame.height}},e.prototype.xtr_setBounds=function(t){},Object.defineProperty(e.prototype,"xtr_center",{get:function(){return{x:(this.frame.x+this.frame.width)/2,y:(this.frame.y+this.frame.height)/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"xtr_setCenter",{set:function(t){this.xtr_setFrame({x:t.x-this.frame.width/2,y:t.y-this.frame.height/2,width:this.frame.width,height:this.frame.height})},enumerable:!0,configurable:!0}),e.prototype.xtr_transform=function(){return this.transform},e.prototype.xtr_setTransform=function(t){this.transform.a===t.a&&this.transform.b===t.b&&this.transform.c===t.c&&this.transform.d===t.d&&this.transform.tx===t.tx&&this.transform.ty===t.ty||(this.transform=t,this.resetTransform())},e.prototype.resetTransform=function(){this.nativeObject.setAttribute("transform","matrix("+this.transform.a+", "+this.transform.b+", "+this.transform.c+", "+this.transform.d+", "+(this.transform.tx+this.frame.x)+", "+(this.transform.ty+this.frame.y)+")"),this.backgroundObject.setAttribute("width",this.frame.width.toString()),this.backgroundObject.setAttribute("height",this.frame.height.toString())},e.prototype.xtr_clipsToBounds=function(){return this.clipsToBounds},e.prototype.xtr_setClipsToBounds=function(t){this.clipsToBounds!=t&&(this.clipsToBounds=t,this.resetMaskElement())},e.prototype.resetMaskElement=function(){if(this.clipsToBounds){var t=this.maskObject||document.createElementNS("http://www.w3.org/2000/svg","mask");t.setAttribute("id",this.objectUUID+".mask"),t.innerHTML="",t.appendChild(this.createMaskPath()),this.maskObject=t;var e=document.getElementsByTagNameNS("http://www.w3.org/2000/svg","defs")[0];e.contains(t)||e.appendChild(t),this.nativeObject.style.mask="url(#"+this.objectUUID+".mask)"}else this.nativeObject.style.mask=""},e.prototype.createMaskPath=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","rect");return t.setAttribute("width",this.frame.width.toString()),t.setAttribute("height",this.frame.height.toString()),this.cornerRadius>0&&(t.setAttribute("rx",this.cornerRadius.toString()),t.setAttribute("ry",this.cornerRadius.toString())),t.style.fill="white",t},e.prototype.xtr_backgroundColor=function(){return this.backgroundColor},e.prototype.xtr_setBackgroundColor=function(t){this.backgroundColor=t,void 0!==this.backgroundColor?(this.backgroundObject.setAttribute("visibility","inherit"),this.backgroundObject.setAttribute("fill","rgba("+(255*this.backgroundColor.r).toFixed(0)+", "+(255*this.backgroundColor.g).toFixed(0)+", "+(255*this.backgroundColor.b).toFixed(0)+", "+this.backgroundColor.a.toString()+")")):this.backgroundObject.setAttribute("visibility","hidden")},e.prototype.xtr_alpha=function(){return this.alpha},e.prototype.xtr_setAlpha=function(t){this.alpha!=t&&(this.alpha=t,this.nativeObject.setAttribute("opacity",this.alpha.toString()))},e.prototype.xtr_hidden=function(){return this.hidden},e.prototype.xtr_setHidden=function(t){this.hidden!==t&&(this.hidden=t,this.nativeObject.setAttribute("visibility",this.hidden?"hidden":"inherit"))},e.prototype.xtr_contentMode=function(){return this.contentMode},e.prototype.xtr_setContentMode=function(t){this.contentMode!==t&&(this.contentMode=t)},e.prototype.xtr_cornerRadius=function(){return this.cornerRadius},e.prototype.xtr_setCornerRadius=function(t){this.cornerRadius!=t&&(this.cornerRadius=t,this.backgroundObject.setAttribute("rx",t.toString()),this.backgroundObject.setAttribute("ry",t.toString()),this.resetMaskElement())},e.prototype.xtr_borderWidth=function(){return this.borderWidth},e.prototype.xtr_setBorderWidth=function(t){this.borderWidth!=t&&(this.borderWidth=t,this.backgroundObject.setAttribute("stroke-width",t.toString()))},e.prototype.xtr_borderColor=function(){return this.borderColor},e.prototype.xtr_setBorderColor=function(t){this.borderColor=t,void 0!==this.borderColor&&this.backgroundObject.setAttribute("stroke","rgba("+(255*this.borderColor.r).toFixed(0)+", "+(255*this.borderColor.g).toFixed(0)+", "+(255*this.borderColor.b).toFixed(0)+", "+this.borderColor.a.toString()+")")},e.prototype.xtr_tag=function(){return this.tag},e.prototype.xtr_setTag=function(t){this.tag=t||0},e.prototype.xtr_superview=function(){return this.superview},e.prototype.xtr_subviews=function(){return this.subviews},e.prototype.xtr_removeFromSuperview=function(){var t=this;void 0!==this.superview&&(this.superview.containerObject.removeChild(this.nativeObject),this.superview.subviews=this.superview.subviews.filter(function(e){return e!=t}),this.superview=void 0)},e.prototype.xtr_insertSubviewAtIndexAtIndex=function(t,e){if(void 0!==t.superview)throw Error("subview has been added to another view.");e<this.subviews.length?(t.superview=this,this.containerObject.insertBefore(t.nativeObject,this.subviews[e].nativeObject),this.subviews.splice(e,0,t)):this.xtr_addSubview(t)},e.prototype.xtr_exchangeSubviewAtIndexIndex2=function(t,e){if(t<e){var n=this.subviews[t],i=this.subviews[e];this.containerObject.removeChild(n.nativeObject),this.containerObject.insertBefore(n.nativeObject,i.nativeObject),this.containerObject.removeChild(i.nativeObject),this.containerObject.insertBefore(i.nativeObject,this.containerObject.children[t])}else if(t>e){var n=this.subviews[t],i=this.subviews[e];this.containerObject.removeChild(i.nativeObject),this.containerObject.insertBefore(i.nativeObject,n.nativeObject),this.containerObject.removeChild(n.nativeObject),this.containerObject.insertBefore(n.nativeObject,this.containerObject.children[e])}},e.prototype.xtr_addSubview=function(t){if(void 0!==t.superview)throw Error("subview has been added to another view.");t.superview=this,this.containerObject.appendChild(t.nativeObject),this.subviews.push(t)},e.prototype.xtr_insertSubviewBelowSiblingSubview=function(t,e){if(void 0!==t.superview)throw Error("subview has been added to another view.");t.superview=this,this.subviews.splice(this.subviews.indexOf(e),0,t),this.containerObject.insertBefore(t.nativeObject,e.nativeObject)},e.prototype.xtr_insertSubviewAboveSiblingSubview=function(t,e){if(void 0!==t.superview)throw Error("subview has been added to another view.");this.subviews.indexOf(e)==this.subviews.length-1?this.xtr_addSubview(t):(t.superview=this,this.subviews.splice(this.subviews.indexOf(e)+1,0,t),this.containerObject.insertBefore(t.nativeObject,this.containerObject.children[this.subviews.indexOf(e)+1]))},e.prototype.xtr_bringSubviewToFront=function(t){this.subviews.length>1&&(this.containerObject.removeChild(t.nativeObject),this.containerObject.appendChild(t.nativeObject),this.subviews=this.subviews.filter(function(e){return e!=t}),this.subviews.push(t))},e.prototype.xtr_sendSubviewToBack=function(t){this.subviews.length>1&&(this.containerObject.removeChild(t.nativeObject),this.containerObject.insertBefore(t.nativeObject,this.containerObject.firstChild),this.subviews=this.subviews.filter(function(e){return e!=t}),this.subviews.unshift(t))},e.prototype.xtr_isDescendantOfView=function(t){for(var e=this;void 0!=e;){if(e==t)return!0;e=e.superview}return!1},e.prototype.xtr_viewWithTag=function(t){for(var e=0;e<this.subviews.length;e++){var n=this.subviews[e];if(n.tag===t)return n;var i=n.xtr_viewWithTag(t);if(void 0!==i)return i}},e}(r.Element);e.ViewElement=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.objectUUID=performance.now().toString()+"-"+Math.random(),this.scriptObject=t}return t}();e.Element=i},function(t,e,n){"use strict";(function(t){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=n(6),s=n(14),a=n(2),u=function(e){function n(n,i,r){void 0===r&&(r=!1);var a=e.call(this,void 0,void 0,!0)||this;return a.className="XTRWindow",r?a:(a.nativeObject=new s.ViewElement(n||o.RectZero,a),t(function(){a.init()}),a)}return i(n,e),n.prototype.makeKeyAndVisible=function(){var t=a.Application.sharedApplication();t&&(t.keyWindow=this)},n}(r.View);e.Window=u}).call(e,n(5).setImmediate)},function(t,e,n){var i,i;!function(e){t.exports=e()}(function(){return function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var l="function"==typeof i&&i;if(!u&&l)return i(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return o(n||t)},h,h.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof i&&i,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){t.equalSpacerIndex=t.equalSpacerIndex||1;var n="_~"+t.lineIndex+":"+t.equalSpacerIndex+"~";t.equalSpacerIndex>1&&t.constraints.push({view1:"_~"+t.lineIndex+":1~",attr1:t.horizontal?b.WIDTH:b.HEIGHT,relation:t.relation.relation||g.EQU,view2:n,attr2:t.horizontal?b.WIDTH:b.HEIGHT,priority:t.relation.priority}),t.equalSpacerIndex++,t.relation.view||t.relation.multiplier&&1!==t.relation.multiplier?(t.constraints.push({view1:n,attr1:t.horizontal?b.WIDTH:b.HEIGHT,relation:t.relation.relation||g.EQU,view2:t.relation.view,attr2:t.horizontal?b.WIDTH:b.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0):t.relation.constant&&(t.constraints.push({view1:n,attr1:t.horizontal?b.WIDTH:b.HEIGHT,relation:g.EQU,view2:null,attr2:b.CONST,priority:t.relation.priority,constant:t.relation.constant}),t.relation.constant=void 0);for(var i=0;i<t.prevViews.length;i++){var r=t.prevViews[i];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=r!==e?b.RIGHT:b.LEFT,t.curAttr=b.LEFT;break;case _.VERTICAL:t.prevAttr=r!==e?b.BOTTOM:b.TOP,t.curAttr=b.TOP;break;case _.ZINDEX:t.prevAttr=b.ZINDEX,t.curAttr=b.ZINDEX,t.relation.constant=r!==e?"default":0}t.constraints.push({view1:r,attr1:t.prevAttr,relation:t.relation.relation,view2:n,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[n]}function o(t,e){t.proportionalSpacerIndex=t.proportionalSpacerIndex||1;var n="_-"+t.lineIndex+":"+t.proportionalSpacerIndex+"-";t.proportionalSpacerIndex++,t.constraints.push({view1:n,attr1:t.horizontal?b.WIDTH:b.HEIGHT,relation:t.relation.relation||g.EQU,view2:t.relation.view,attr2:t.horizontal?b.WIDTH:b.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0;for(var i=0;i<t.prevViews.length;i++){var r=t.prevViews[i];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=r!==e?b.RIGHT:b.LEFT,t.curAttr=b.LEFT;break;case _.VERTICAL:t.prevAttr=r!==e?b.BOTTOM:b.TOP,t.curAttr=b.TOP;break;case _.ZINDEX:t.prevAttr=b.ZINDEX,t.curAttr=b.ZINDEX,t.relation.constant=r!==e?"default":0}t.constraints.push({view1:r,attr1:t.prevAttr,relation:t.relation.relation,view2:n,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[n]}function s(t,e,n){for(var i=void 0,r=1;r<=4;r*=2)if(n.orientations&r&&n.stack.orientation!==r&&!(n.stack.processedOrientations&r)){n.stack.processedOrientations=n.stack.processedOrientations|r,i=i||{name:e,type:"stack"};for(var o=0,s=n.stack.subViews.length;o<s;o++)r===_.ZINDEX?t.constraints.push({view1:i,attr1:b.ZINDEX,relation:g.EQU,view2:n.stack.subViews[o],attr2:b.ZINDEX}):(t.constraints.push({view1:i,attr1:r===_.VERTICAL?b.HEIGHT:b.WIDTH,relation:g.EQU,view2:n.stack.subViews[o],attr2:r===_.VERTICAL?b.HEIGHT:b.WIDTH}),t.constraints.push({view1:i,attr1:r===_.VERTICAL?b.TOP:b.LEFT,relation:g.EQU,view2:n.stack.subViews[o],attr2:r===_.VERTICAL?b.TOP:b.LEFT}))}}function a(t,e){if(!0===e&&(e=t.match(/\.\.\d+$/))&&(t=t.substring(0,t.length-e[0].length),e=parseInt(e[0].substring(2))),!e)return[t];var n,i=t.match(/\d+$/),r=[];if(i)for(t=t.substring(0,t.length-i[0].length),n=parseInt(i);n<=e;n++)r.push(t+n);else for(r.push(t),n=2;n<=e;n++)r.push(t+n);return r}function u(t,e,n){var i=n?n.view:null,l=[],c=[],h=void 0;i&&(e.push({view:i}),c.push(i));for(var p=0;p<e.length;p++){var f=e[p];if(!Array.isArray(f)&&f.hasOwnProperty("view")||Array.isArray(f)&&f[0].view&&!f[0].relation)for(var d=Array.isArray(f)?f:[f],v=0;v<d.length;v++){f=d[v];for(var g=","===f?[]:f.view?a(f.view,f.range):[null],m=0;m<g.length;m++){var y=g[m];if(c.push(y),y!==i&&(l.push(y),h=t.subViews[y],h||(h={orientations:0},t.subViews[y]=h),h.orientations=h.orientations|t.orientation,h.stack&&s(t,y,h)),void 0!==t.prevViews&&void 0!==y&&t.relation&&"none"!==t.relation.relation)for(var w=0;w<t.prevViews.length;w++){var x=t.prevViews[w];switch(t.orientation){case _.HORIZONTAL:t.prevAttr=x!==i?b.RIGHT:b.LEFT,t.curAttr=y!==i?b.LEFT:b.RIGHT;break;case _.VERTICAL:t.prevAttr=x!==i?b.BOTTOM:b.TOP,t.curAttr=y!==i?b.TOP:b.BOTTOM;break;case _.ZINDEX:t.prevAttr=b.ZINDEX,t.curAttr=b.ZINDEX,t.relation.constant=x?t.relation.constant||"default":0}t.constraints.push({view1:x,attr1:t.prevAttr,relation:t.relation.relation,view2:y,attr2:t.curAttr,multiplier:t.relation.multiplier,constant:"default"!==t.relation.constant&&t.relation.constant?-t.relation.constant:t.relation.constant,priority:t.relation.priority})}var A=f.constraints;if(A)for(var C=0;C<A.length;C++)t.prevAttr=t.horizontal?b.WIDTH:b.HEIGHT,t.curAttr=A[C].view||A[C].multiplier?A[C].attribute||t.prevAttr:A[C].variable?b.VARIABLE:b.CONST,t.constraints.push({view1:y,attr1:t.prevAttr,relation:A[C].relation,view2:A[C].view,attr2:t.curAttr,multiplier:A[C].multiplier,constant:A[C].constant,priority:A[C].priority});f.cascade&&u(t,f.cascade,f)}}else","!==f&&(t.prevViews=c,c=[],t.relation=f[0],void 0!==t.prevViews&&(t.relation.equalSpacing&&r(t,i),t.relation.multiplier&&o(t,i)))}if(i){if(h=t.subViews[i]){if(h.stack){var E=new Error('A stack named "'+i+'" has already been created');throw E.column=n.$parserOffset+1,E}}else h={orientations:t.orientation},t.subViews[i]=h;h.stack={orientation:t.orientation,processedOrientations:t.orientation,subViews:l},s(t,i,h)}}function l(t,e){var n=new v.Variable({value:e});return this._solver.addConstraint(new v.StayConstraint(n,v.Strength.required,0)),n}function c(t){return t?t.name?(this._subViews[t.name]=this._subViews[t.name]||new C({name:t.name,solver:this._solver}),this._subViews[t.name]._type=this._subViews[t.name]._type||t.type,this._subViews[t.name]):(this._subViews[t]=this._subViews[t]||new C({name:t,solver:this._solver}),this._subViews[t]):this._parentSubView}function h(t){var e=4;if(t.view1||"left"!==t.attr1)if(t.view1||"top"!==t.attr1)if(t.view2||"right"!==t.attr2)if(t.view2||"bottom"!==t.attr2)switch(t.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":e=4;break;case"zIndex":e=6;break;default:e=5}else e=2;else e=1;else e=0;else e=3;return this._spacingVars=this._spacingVars||new Array(7),this._spacingExpr=this._spacingExpr||new Array(7),this._spacingVars[e]||(this._spacingVars[e]=new v.Variable,this._solver.addEditVar(this._spacingVars[e]),this._spacingExpr[e]=v.minus(0,this._spacingVars[e]),this._solver.suggestValue(this._spacingVars[e],this._spacing[e])),this._spacingExpr[e]}function p(t){var e=void 0,n=void 0!==t.multiplier?t.multiplier:1,i=void 0!==t.constant?t.constant:0;"default"===i&&(i=h.call(this,t));var r=c.call(this,t.view1)._getAttr(t.attr1),o=void 0;t.attr2===b.CONST?o=l.call(this,void 0,t.constant):(o=c.call(this,t.view2)._getAttr(t.attr2),1!==n&&i?o=v.plus(v.times(o,n),i):i?o=v.plus(o,i):1!==n&&(o=v.times(o,n)));var s=void 0!==t.priority&&t.priority<1e3?new v.Strength("priority",0,t.priority,1e3):E;switch(t.relation){case g.EQU:e=new v.Equation(r,o,s);break;case g.GEQ:e=new v.Inequality(r,v.GEQ,o,s);break;case g.LEQ:e=new v.Inequality(r,v.LEQ,o,s);break;default:throw"Invalid relation specified: "+t.relation}this._solver.addConstraint(e)}function f(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var n=0;n<7;n++)if(t[n]!==e[n])return!1;return!0}var d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),v=t("cassowary/bin/c"),b={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY",ZINDEX:"zIndex"},g={LEQ:"leq",EQU:"equ",GEQ:"geq"},m={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250},y=function(){function t(t,e,n,i,r,o){this.message=t,this.expected=e,this.found=n,this.offset=i,this.line=r,this.column=o,this.name="SyntaxError"}function e(e){function n(){return jt}function i(t){return Mt!==t&&(Mt>t&&(Mt=0,Rt={line:1,column:1,seenCR:!1}),function(t,n,i){var r,o;for(r=n;r<i;r++)o=e.charAt(r),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Rt,Mt,t),Mt=t),Rt}function r(t){It<kt||(It>kt&&(kt=It,Pt=[]),Pt.push(t))}function o(n,r,o){var s=i(o),a=o<e.length?e.charAt(o):null;return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==n?n:function(t,e){var n,i,r,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=t[r].description;return n=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],i=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+n+" but "+i+" found."}(r,a),r,a,o,s.line,s.column)}function s(){var t,n,i,o,s,h,p,f;if(t=It,n=It,i=a(),i!==C?(58===e.charCodeAt(It)?(o=T,It++):(o=C,0===Lt&&r(I)),o!==C?(i=[i,o],n=i):(It=n,n=O)):(It=n,n=O),n===C&&(n=V),n!==C)if(i=It,o=u(),o!==C?(s=c(),s!==C?(o=[o,s],i=o):(It=i,i=O)):(It=i,i=O),i===C&&(i=V),i!==C)if((o=l())!==C){for(s=[],h=It,p=c(),p!==C?(f=l(),f!==C?(p=[p,f],h=p):(It=h,h=O)):(It=h,h=O);h!==C;)s.push(h),h=It,p=c(),p!==C?(f=l(),f!==C?(p=[p,f],h=p):(It=h,h=O)):(It=h,h=O);s!==C?(h=It,p=c(),p!==C?(f=u(),f!==C?(p=[p,f],h=p):(It=h,h=O)):(It=h,h=O),h===C&&(h=V),h!==C?(jt=t,n=j(n,i,o,s,h),t=n):(It=t,t=O)):(It=t,t=O)}else It=t,t=O;else It=t,t=O;else It=t,t=O;return t}function a(){var t,n;return t=It,72===e.charCodeAt(It)?(n=M,It++):(n=C,0===Lt&&r(R)),n===C&&(86===e.charCodeAt(It)?(n=k,It++):(n=C,0===Lt&&r(P))),n!==C&&(jt=t,n=L(n)),t=n}function u(){var t,n;return t=It,124===e.charCodeAt(It)?(n=F,It++):(n=C,0===Lt&&r(N)),n!==C&&(jt=t,n=z()),t=n}function l(){var t,n,i,o,s;return t=It,91===e.charCodeAt(It)?(n=H,It++):(n=C,0===Lt&&r(q)),n!==C?(i=y(),i!==C?(o=f(),o===C&&(o=V),o!==C?(93===e.charCodeAt(It)?(s=D,It++):(s=C,0===Lt&&r(W)),s!==C?(jt=t,n=B(i,o),t=n):(It=t,t=O)):(It=t,t=O)):(It=t,t=O)):(It=t,t=O),t}function c(){var t,n,i,o;return t=It,45===e.charCodeAt(It)?(n=G,It++):(n=C,0===Lt&&r(X)),n!==C?(i=h(),i!==C?(45===e.charCodeAt(It)?(o=G,It++):(o=C,0===Lt&&r(X)),o!==C?(jt=t,n=Z(i),t=n):(It=t,t=O)):(It=t,t=O)):(It=t,t=O),t===C&&(t=It,45===e.charCodeAt(It)?(n=G,It++):(n=C,0===Lt&&r(X)),n!==C&&(jt=t,n=U()),(t=n)===C&&(t=It,n=Q,n!==C&&(jt=t,n=Y()),t=n)),t}function h(){var t;return t=p(),t===C&&(t=f()),t}function p(){var t,e;return t=It,e=w(),e!==C&&(jt=t,e=$(e)),t=e}function f(){var t,n,i,o,s,a,u;if(t=It,40===e.charCodeAt(It)?(n=J,It++):(n=C,0===Lt&&r(K)),n!==C)if((i=d())!==C){for(o=[],s=It,44===e.charCodeAt(It)?(a=tt,It++):(a=C,0===Lt&&r(et)),a!==C?(u=d(),u!==C?(a=[a,u],s=a):(It=s,s=O)):(It=s,s=O);s!==C;)o.push(s),s=It,44===e.charCodeAt(It)?(a=tt,It++):(a=C,0===Lt&&r(et)),a!==C?(u=d(),u!==C?(a=[a,u],s=a):(It=s,s=O)):(It=s,s=O);o!==C?(41===e.charCodeAt(It)?(s=nt,It++):(s=C,0===Lt&&r(it)),s!==C?(jt=t,n=rt(i,o),t=n):(It=t,t=O)):(It=t,t=O)}else It=t,t=O;else It=t,t=O;return t}function d(){var t,n,i,o,s,a;return t=It,n=v(),n===C&&(n=V),n!==C?(i=b(),i!==C?(o=It,64===e.charCodeAt(It)?(s=ot,It++):(s=C,0===Lt&&r(st)),s!==C?(a=g(),a!==C?(s=[s,a],o=s):(It=o,o=O)):(It=o,o=O),o===C&&(o=V),o!==C?(jt=t,n=at(n,i,o),t=n):(It=t,t=O)):(It=t,t=O)):(It=t,t=O),t}function v(){var t,n;return t=It,e.substr(It,2)===ut?(n=ut,It+=2):(n=C,0===Lt&&r(lt)),n!==C&&(jt=t,n=ct()),t=n,t===C&&(t=It,e.substr(It,2)===ht?(n=ht,It+=2):(n=C,0===Lt&&r(pt)),n!==C&&(jt=t,n=ft()),(t=n)===C&&(t=It,e.substr(It,2)===dt?(n=dt,It+=2):(n=C,0===Lt&&r(vt)),n!==C&&(jt=t,n=bt()),t=n)),t}function b(){var t;return t=m(),t===C&&(t=y()),t}function g(){var t,n,i;if(t=It,n=[],gt.test(e.charAt(It))?(i=e.charAt(It),It++):(i=C,0===Lt&&r(mt)),i!==C)for(;i!==C;)n.push(i),gt.test(e.charAt(It))?(i=e.charAt(It),It++):(i=C,0===Lt&&r(mt));else n=O;return n!==C&&(jt=t,n=yt(n)),t=n}function m(){var t,e;return t=It,e=w(),e!==C&&(jt=t,e=wt(e)),t=e}function y(){var t,n,i,o,s;if(t=It,n=It,i=[],_t.test(e.charAt(It))?(o=e.charAt(It),It++):(o=C,0===Lt&&r(xt)),o!==C)for(;o!==C;)i.push(o),_t.test(e.charAt(It))?(o=e.charAt(It),It++):(o=C,0===Lt&&r(xt));else i=O;if(i!==C&&(i=e.substring(n,It)),(n=i)!==C){for(i=It,o=[],At.test(e.charAt(It))?(s=e.charAt(It),It++):(s=C,0===Lt&&r(Ct));s!==C;)o.push(s),At.test(e.charAt(It))?(s=e.charAt(It),It++):(s=C,0===Lt&&r(Ct));o!==C&&(o=e.substring(i,It)),i=o,i!==C?(jt=t,n=Et(n,i),t=n):(It=t,t=O)}else It=t,t=O;return t}function w(){var t,n,i,o,s;if(t=It,n=[],gt.test(e.charAt(It))?(i=e.charAt(It),It++):(i=C,0===Lt&&r(mt)),i!==C)for(;i!==C;)n.push(i),gt.test(e.charAt(It))?(i=e.charAt(It),It++):(i=C,0===Lt&&r(mt));else n=O;if(n!==C)if(46===e.charCodeAt(It)?(i=St,It++):(i=C,0===Lt&&r(Ot)),i!==C){if(o=[],gt.test(e.charAt(It))?(s=e.charAt(It),It++):(s=C,0===Lt&&r(mt)),s!==C)for(;s!==C;)o.push(s),gt.test(e.charAt(It))?(s=e.charAt(It),It++):(s=C,0===Lt&&r(mt));else o=O;o!==C?(jt=t,n=Vt(n,o),t=n):(It=t,t=O)}else It=t,t=O;else It=t,t=O;if(t===C){if(t=It,n=[],gt.test(e.charAt(It))?(i=e.charAt(It),It++):(i=C,0===Lt&&r(mt)),i!==C)for(;i!==C;)n.push(i),gt.test(e.charAt(It))?(i=e.charAt(It),It++):(i=C,0===Lt&&r(mt));else n=O;n!==C&&(jt=t,n=Tt(n)),t=n}return t}function _(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}var x,A=arguments.length>1?arguments[1]:{},C={},E={visualFormatString:s},S=s,O=C,V=null,T=":",I={type:"literal",value:":",description:'":"'},j=function(t,e,n,i,r){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat([n],[].concat.apply([],i),r||[])}},M="H",R={type:"literal",value:"H",description:'"H"'},k="V",P={type:"literal",value:"V",description:'"V"'},L=function(t){return"H"==t?"horizontal":"vertical"},F="|",N={type:"literal",value:"|",description:'"|"'},z=function(){return{view:null}},H="[",q={type:"literal",value:"[",description:'"["'},D="]",W={type:"literal",value:"]",description:'"]"'},B=function(t,e){return _(t,e?{constraints:e}:{})},G="-",X={type:"literal",value:"-",description:'"-"'},Z=function(t){return t},U=function(){return[{relation:"equ",constant:"default",$parserOffset:n()}]},Q="",Y=function(){return[{relation:"equ",constant:0,$parserOffset:n()}]},$=function(t){return[{relation:"equ",constant:t,$parserOffset:n()}]},J="(",K={type:"literal",value:"(",description:'"("'},tt=",",et={type:"literal",value:",",description:'","'},nt=")",it={type:"literal",value:")",description:'")"'},rt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},ot="@",st={type:"literal",value:"@",description:'"@"'},at=function(t,e,n){return _({relation:"equ"},t||{},e,n?n[1]:{})},ut="==",lt={type:"literal",value:"==",description:'"=="'},ct=function(){return{relation:"equ",$parserOffset:n()}},ht="<=",pt={type:"literal",value:"<=",description:'"<="'},ft=function(){return{relation:"leq",$parserOffset:n()}},dt=">=",vt={type:"literal",value:">=",description:'">="'},bt=function(){return{relation:"geq",$parserOffset:n()}},gt=/^[0-9]/,mt={type:"class",value:"[0-9]",description:"[0-9]"},yt=function(t){return{priority:parseInt(t.join(""),10)}},wt=function(t){return{constant:t}},_t=/^[a-zA-Z_]/,xt={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},At=/^[a-zA-Z0-9_]/,Ct={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Et=function(t,e){return{view:t+e}},St=".",Ot={type:"literal",value:".",description:'"."'},Vt=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},Tt=function(t){return parseInt(t.join(""),10)},It=0,jt=0,Mt=0,Rt={line:1,column:1,seenCR:!1},kt=0,Pt=[],Lt=0;if("startRule"in A){if(!(A.startRule in E))throw new Error("Can't start parsing from rule \""+A.startRule+'".');S=E[A.startRule]}if((x=S())!==C&&It===e.length)return x;throw x!==C&&It<e.length&&r({type:"end",description:"end of input"}),o(null,Pt,kt)}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(t,Error),{SyntaxError:t,parse:e}}(),w=function(){function t(t,e,n,i,r,o){this.message=t,this.expected=e,this.found=n,this.offset=i,this.line=r,this.column=o,this.name="SyntaxError"}function e(e){function n(){return gn}function i(t){return mn!==t&&(mn>t&&(mn=0,yn={line:1,column:1,seenCR:!1}),function(t,n,i){var r,o;for(r=n;r<i;r++)o=e.charAt(r),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(yn,mn,t),mn=t),yn}function r(t){bn<wn||(bn>wn&&(wn=bn,_n=[]),_n.push(t))}function o(n,r,o){var s=i(o),a=o<e.length?e.charAt(o):null;return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==n?n:function(t,e){var n,i,r,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=t[r].description;return n=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],i=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+n+" but "+i+" found."}(r,a),r,a,o,s.line,s.column)}function s(){var t;return t=l(),t===z&&(t=a()),t}function a(){var t,n,i,o,s,a;if(t=bn,e.substr(bn,2)===W?(n=W,bn+=2):(n=z,0===xn&&r(B)),n!==z)if((i=R())!==z)if((o=u())!==z){for(s=[],a=u();a!==z;)s.push(a),a=u();s!==z?(a=h(),a===z&&(a=G),a!==z?(gn=t,n=X(i,o,s,a),t=n):(bn=t,t=D)):(bn=t,t=D)}else bn=t,t=D;else bn=t,t=D;else bn=t,t=D;return t}function u(){var t,e,n;return t=bn,e=T(),e!==z?(n=y(),n!==z?(gn=t,e=Z(e,n),t=e):(bn=t,t=D)):(bn=t,t=D),t}function l(){var t,n,i,o,s,a,u,l;if(t=bn,n=bn,i=c(),i!==z?(58===e.charCodeAt(bn)?(o=U,bn++):(o=z,0===xn&&r(Q)),o!==z?(i=[i,o],n=i):(bn=n,n=D)):(bn=n,n=D),n===z&&(n=G),n!==z)if(i=bn,o=p(),o!==z?(s=b(),s!==z?(o=[o,s],i=o):(bn=i,i=D)):(bn=i,i=D),i===z&&(i=G),i!==z)if((o=f())!==z){for(s=[],a=bn,u=b(),u!==z?(l=f(),l!==z?(u=[u,l],a=u):(bn=a,a=D)):(bn=a,a=D);a!==z;)s.push(a),a=bn,u=b(),u!==z?(l=f(),l!==z?(u=[u,l],a=u):(bn=a,a=D)):(bn=a,a=D);s!==z?(a=bn,u=b(),u!==z?(l=p(),l!==z?(u=[u,l],a=u):(bn=a,a=D)):(bn=a,a=D),a===z&&(a=G),a!==z?(u=h(),u===z&&(u=G),u!==z?(gn=t,n=Y(n,i,o,s,a,u),t=n):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D)}else bn=t,t=D;else bn=t,t=D;else bn=t,t=D;return t}function c(){var t,n;return t=bn,e.substr(bn,2)===$?(n=$,bn+=2):(n=z,0===xn&&r(J)),n!==z&&(gn=t,n=K()),t=n,t===z&&(t=bn,72===e.charCodeAt(bn)?(n=tt,bn++):(n=z,0===xn&&r(et)),n!==z&&(gn=t,n=nt()),(t=n)===z&&(t=bn,86===e.charCodeAt(bn)?(n=it,bn++):(n=z,0===xn&&r(rt)),n!==z&&(gn=t,n=ot()),(t=n)===z&&(t=bn,90===e.charCodeAt(bn)?(n=st,bn++):(n=z,0===xn&&r(at)),n!==z&&(gn=t,n=ut()),t=n))),t}function h(){var t,n,i,o,s;for(t=bn,n=[],32===e.charCodeAt(bn)?(i=lt,bn++):(i=z,0===xn&&r(ct));i!==z;)n.push(i),32===e.charCodeAt(bn)?(i=lt,bn++):(i=z,0===xn&&r(ct));if(n!==z)if(e.substr(bn,2)===ht?(i=ht,bn+=2):(i=z,0===xn&&r(pt)),i!==z){for(o=[],e.length>bn?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(ft));s!==z;)o.push(s),e.length>bn?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(ft));o!==z?(n=[n,i,o],t=n):(bn=t,t=D)}else bn=t,t=D;else bn=t,t=D;return t}function p(){var t,n;return t=bn,124===e.charCodeAt(bn)?(n=dt,bn++):(n=z,0===xn&&r(vt)),n!==z&&(gn=t,n=bt()),t=n}function f(){var t,n,i,o,s,a,u;if(t=bn,91===e.charCodeAt(bn)?(n=gt,bn++):(n=z,0===xn&&r(mt)),n!==z)if((i=d())!==z){for(o=[],s=bn,44===e.charCodeAt(bn)?(a=yt,bn++):(a=z,0===xn&&r(wt)),a!==z?(u=d(),u!==z?(a=[a,u],s=a):(bn=s,s=D)):(bn=s,s=D);s!==z;)o.push(s),s=bn,44===e.charCodeAt(bn)?(a=yt,bn++):(a=z,0===xn&&r(wt)),a!==z?(u=d(),u!==z?(a=[a,u],s=a):(bn=s,s=D)):(bn=s,s=D);o!==z?(93===e.charCodeAt(bn)?(s=_t,bn++):(s=z,0===xn&&r(xt)),s!==z?(gn=t,n=At(i,o),t=n):(bn=t,t=D)):(bn=t,t=D)}else bn=t,t=D;else bn=t,t=D;return t}function d(){var t,e,n,i;return t=bn,e=M(),e!==z?(n=y(),n===z&&(n=G),n!==z?(i=v(),i===z&&(i=G),i!==z?(gn=t,e=Ct(e,n,i),t=e):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D),t}function v(){var t,n,i,o,s,a;if(t=bn,58===e.charCodeAt(bn)?(n=U,bn++):(n=z,0===xn&&r(Q)),n!==z){if(i=[],o=bn,s=b(),s!==z?(a=f(),a!==z?(s=[s,a],o=s):(bn=o,o=D)):(bn=o,o=D),o!==z)for(;o!==z;)i.push(o),o=bn,s=b(),s!==z?(a=f(),a!==z?(s=[s,a],o=s):(bn=o,o=D)):(bn=o,o=D);else i=D;i!==z?(o=b(),o!==z?(gn=t,n=Et(i,o),t=n):(bn=t,t=D)):(bn=t,t=D)}else bn=t,t=D;return t}function b(){var t,n,i,o;return t=bn,e.substr(bn,2)===St?(n=St,bn+=2):(n=z,0===xn&&r(Ot)),n!==z&&(gn=t,n=Vt()),t=n,t===z&&(t=bn,45===e.charCodeAt(bn)?(n=Tt,bn++):(n=z,0===xn&&r(It)),n!==z?(i=g(),i!==z?(45===e.charCodeAt(bn)?(o=Tt,bn++):(o=z,0===xn&&r(It)),o!==z?(gn=t,n=jt(i),t=n):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,45===e.charCodeAt(bn)?(n=Tt,bn++):(n=z,0===xn&&r(It)),n!==z&&(gn=t,n=Mt()),(t=n)===z&&(t=bn,126===e.charCodeAt(bn)?(n=Rt,bn++):(n=z,0===xn&&r(kt)),n!==z?(i=_(),i!==z?(126===e.charCodeAt(bn)?(o=Rt,bn++):(o=z,0===xn&&r(kt)),o!==z?(gn=t,n=jt(i),t=n):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,126===e.charCodeAt(bn)?(n=Rt,bn++):(n=z,0===xn&&r(kt)),n!==z&&(gn=t,n=Pt()),(t=n)===z&&(t=bn,n=Lt,n!==z&&(gn=t,n=Ft()),t=n))))),t}function g(){var t;return t=m(),t===z&&(t=y()),t}function m(){var t,e;return t=bn,e=O(),e!==z&&(gn=t,e=Nt(e)),t=e,t===z&&(t=bn,e=P(),e!==z&&(gn=t,e=zt(e)),t=e),t}function y(){var t,n,i,o,s,a,u;if(t=bn,40===e.charCodeAt(bn)?(n=Ht,bn++):(n=z,0===xn&&r(qt)),n!==z)if((i=w())!==z){for(o=[],s=bn,44===e.charCodeAt(bn)?(a=yt,bn++):(a=z,0===xn&&r(wt)),a!==z?(u=w(),u!==z?(a=[a,u],s=a):(bn=s,s=D)):(bn=s,s=D);s!==z;)o.push(s),s=bn,44===e.charCodeAt(bn)?(a=yt,bn++):(a=z,0===xn&&r(wt)),a!==z?(u=w(),u!==z?(a=[a,u],s=a):(bn=s,s=D)):(bn=s,s=D);o!==z?(41===e.charCodeAt(bn)?(s=Dt,bn++):(s=z,0===xn&&r(Wt)),s!==z?(gn=t,n=Bt(i,o),t=n):(bn=t,t=D)):(bn=t,t=D)}else bn=t,t=D;else bn=t,t=D;return t}function w(){var t,n,i,o,s,a;return t=bn,n=A(),n===z&&(n=G),n!==z?(i=C(),i!==z?(o=bn,64===e.charCodeAt(bn)?(s=Gt,bn++):(s=z,0===xn&&r(Xt)),s!==z?(a=E(),a!==z?(s=[s,a],o=s):(bn=o,o=D)):(bn=o,o=D),o===z&&(o=G),o!==z?(gn=t,n=Zt(n,i,o),t=n):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D),t}function _(){var t,n,i,o,s,a,u;if(t=bn,40===e.charCodeAt(bn)?(n=Ht,bn++):(n=z,0===xn&&r(qt)),n!==z)if((i=x())!==z){for(o=[],s=bn,44===e.charCodeAt(bn)?(a=yt,bn++):(a=z,0===xn&&r(wt)),a!==z?(u=x(),u!==z?(a=[a,u],s=a):(bn=s,s=D)):(bn=s,s=D);s!==z;)o.push(s),s=bn,44===e.charCodeAt(bn)?(a=yt,bn++):(a=z,0===xn&&r(wt)),a!==z?(u=x(),u!==z?(a=[a,u],s=a):(bn=s,s=D)):(bn=s,s=D);o!==z?(41===e.charCodeAt(bn)?(s=Dt,bn++):(s=z,0===xn&&r(Wt)),s!==z?(gn=t,n=Bt(i,o),t=n):(bn=t,t=D)):(bn=t,t=D)}else bn=t,t=D;else bn=t,t=D;return t}function x(){var t,n,i,o,s,a;return t=bn,n=A(),n===z&&(n=G),n!==z?(i=C(),i!==z?(o=bn,64===e.charCodeAt(bn)?(s=Gt,bn++):(s=z,0===xn&&r(Xt)),s!==z?(a=E(),a!==z?(s=[s,a],o=s):(bn=o,o=D)):(bn=o,o=D),o===z&&(o=G),o!==z?(gn=t,n=Ut(n,i,o),t=n):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D),t}function A(){var t,n;return t=bn,e.substr(bn,2)===Qt?(n=Qt,bn+=2):(n=z,0===xn&&r(Yt)),n!==z&&(gn=t,n=$t()),t=n,t===z&&(t=bn,e.substr(bn,2)===Jt?(n=Jt,bn+=2):(n=z,0===xn&&r(Kt)),n!==z&&(gn=t,n=te()),(t=n)===z&&(t=bn,e.substr(bn,2)===ee?(n=ee,bn+=2):(n=z,0===xn&&r(ne)),n!==z&&(gn=t,n=ie()),t=n)),t}function C(){var t;return t=O(),t===z&&(t=S())===z&&(t=V()),t}function E(){var t,n,i;if(t=bn,n=[],re.test(e.charAt(bn))?(i=e.charAt(bn),bn++):(i=z,0===xn&&r(oe)),i!==z)for(;i!==z;)n.push(i),re.test(e.charAt(bn))?(i=e.charAt(bn),bn++):(i=z,0===xn&&r(oe));else n=D;return n!==z&&(gn=t,n=se(n)),t=n}function S(){var t,n,i;return t=bn,n=P(),n!==z&&(gn=t,n=ae(n)),t=n,t===z&&(t=bn,45===e.charCodeAt(bn)?(n=Tt,bn++):(n=z,0===xn&&r(It)),n!==z?(i=P(),i!==z?(gn=t,n=ue(i),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,43===e.charCodeAt(bn)?(n=le,bn++):(n=z,0===xn&&r(ce)),n!==z?(i=P(),i!==z?(gn=t,n=ae(i),t=n):(bn=t,t=D)):(bn=t,t=D))),t}function O(){var t,n,i,o;return t=bn,n=P(),n!==z?(37===e.charCodeAt(bn)?(i=he,bn++):(i=z,0===xn&&r(pe)),i!==z?(gn=t,n=fe(n),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,45===e.charCodeAt(bn)?(n=Tt,bn++):(n=z,0===xn&&r(It)),n!==z?(i=P(),i!==z?(37===e.charCodeAt(bn)?(o=he,bn++):(o=z,0===xn&&r(pe)),o!==z?(gn=t,n=de(i),t=n):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,43===e.charCodeAt(bn)?(n=le,bn++):(n=z,0===xn&&r(ce)),n!==z?(i=P(),i!==z?(37===e.charCodeAt(bn)?(o=he,bn++):(o=z,0===xn&&r(pe)),o!==z?(gn=t,n=fe(i),t=n):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D))),t}function V(){var t,e,n,i,r;return t=bn,e=R(),e!==z?(n=T(),n===z&&(n=G),n!==z?(i=I(),i===z&&(i=G),i!==z?(r=j(),r===z&&(r=G),r!==z?(gn=t,e=ve(e,n,i,r),t=e):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D)):(bn=t,t=D),t}function T(){var t,n;return t=bn,e.substr(bn,5)===be?(n=be,bn+=5):(n=z,0===xn&&r(ge)),n!==z&&(gn=t,n=me()),t=n,t===z&&(t=bn,e.substr(bn,6)===ye?(n=ye,bn+=6):(n=z,0===xn&&r(we)),n!==z&&(gn=t,n=_e()),(t=n)===z&&(t=bn,e.substr(bn,4)===xe?(n=xe,bn+=4):(n=z,0===xn&&r(Ae)),n!==z&&(gn=t,n=Ce()),(t=n)===z&&(t=bn,e.substr(bn,7)===Ee?(n=Ee,bn+=7):(n=z,0===xn&&r(Se)),n!==z&&(gn=t,n=Oe()),(t=n)===z&&(t=bn,e.substr(bn,6)===Ve?(n=Ve,bn+=6):(n=z,0===xn&&r(Te)),n!==z&&(gn=t,n=Ie()),(t=n)===z&&(t=bn,e.substr(bn,7)===je?(n=je,bn+=7):(n=z,0===xn&&r(Me)),n!==z&&(gn=t,n=Re()),(t=n)===z&&(t=bn,e.substr(bn,8)===ke?(n=ke,bn+=8):(n=z,0===xn&&r(Pe)),n!==z&&(gn=t,n=Le()),(t=n)===z&&(t=bn,e.substr(bn,8)===Fe?(n=Fe,bn+=8):(n=z,0===xn&&r(Ne)),n!==z&&(gn=t,n=ze()),t=n))))))),t}function I(){var t,n,i;return t=bn,47===e.charCodeAt(bn)?(n=He,bn++):(n=z,0===xn&&r(qe)),n!==z?(i=P(),i!==z?(gn=t,n=De(i),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,e.substr(bn,2)===We?(n=We,bn+=2):(n=z,0===xn&&r(Be)),n!==z?(i=P(),i!==z?(gn=t,n=De(i),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,e.substr(bn,2)===Ge?(n=Ge,bn+=2):(n=z,0===xn&&r(Xe)),n!==z?(i=P(),i!==z?(gn=t,n=Ze(i),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,42===e.charCodeAt(bn)?(n=Ue,bn++):(n=z,0===xn&&r(Qe)),n!==z?(i=P(),i!==z?(gn=t,n=Ye(i),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,e.substr(bn,2)===$e?(n=$e,bn+=2):(n=z,0===xn&&r(Je)),n!==z?(i=P(),i!==z?(gn=t,n=Ye(i),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,e.substr(bn,2)===Ke?(n=Ke,bn+=2):(n=z,0===xn&&r(tn)),n!==z?(i=P(),i!==z?(gn=t,n=en(i),t=n):(bn=t,t=D)):(bn=t,t=D)))))),t}function j(){var t,n,i;return t=bn,45===e.charCodeAt(bn)?(n=Tt,bn++):(n=z,0===xn&&r(It)),n!==z?(i=P(),i!==z?(gn=t,n=en(i),t=n):(bn=t,t=D)):(bn=t,t=D),t===z&&(t=bn,43===e.charCodeAt(bn)?(n=le,bn++):(n=z,0===xn&&r(ce)),n!==z?(i=P(),i!==z?(gn=t,n=Ye(i),t=n):(bn=t,t=D)):(bn=t,t=D)),t}function M(){var t,n,i,o,s;if(t=bn,n=bn,i=[],nn.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(rn)),o!==z)for(;o!==z;)i.push(o),nn.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(rn));else i=D;if(i!==z&&(i=e.substring(n,bn)),(n=i)!==z){for(i=bn,o=[],on.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(sn));s!==z;)o.push(s),on.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(sn));o!==z&&(o=e.substring(i,bn)),i=o,i!==z?(o=k(),o!==z?(gn=t,n=an(n,i,o),t=n):(bn=t,t=D)):(bn=t,t=D)}else bn=t,t=D;if(t===z){if(t=bn,n=bn,i=[],nn.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(rn)),o!==z)for(;o!==z;)i.push(o),nn.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(rn));else i=D;if(i!==z&&(i=e.substring(n,bn)),(n=i)!==z){for(i=bn,o=[],on.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(sn));s!==z;)o.push(s),on.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(sn));o!==z&&(o=e.substring(i,bn)),i=o,i!==z?(gn=t,n=un(n,i),t=n):(bn=t,t=D)}else bn=t,t=D}return t}function R(){var t,n,i,o,s;if(t=bn,n=bn,i=[],nn.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(rn)),o!==z)for(;o!==z;)i.push(o),nn.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(rn));else i=D;if(i!==z&&(i=e.substring(n,bn)),(n=i)!==z){for(i=bn,o=[],on.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(sn));s!==z;)o.push(s),on.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(sn));o!==z&&(o=e.substring(i,bn)),i=o,i!==z?(gn=t,n=un(n,i),t=n):(bn=t,t=D)}else bn=t,t=D;return t}function k(){var t,n,i,o;if(t=bn,e.substr(bn,2)===ln?(n=ln,bn+=2):(n=z,0===xn&&r(cn)),n!==z){if(i=[],re.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(oe)),o!==z)for(;o!==z;)i.push(o),re.test(e.charAt(bn))?(o=e.charAt(bn),bn++):(o=z,0===xn&&r(oe));else i=D;i!==z?(gn=t,n=hn(i),t=n):(bn=t,t=D)}else bn=t,t=D;return t}function P(){var t,n,i,o,s;if(t=bn,n=[],re.test(e.charAt(bn))?(i=e.charAt(bn),bn++):(i=z,0===xn&&r(oe)),i!==z)for(;i!==z;)n.push(i),re.test(e.charAt(bn))?(i=e.charAt(bn),bn++):(i=z,0===xn&&r(oe));else n=D;if(n!==z)if(46===e.charCodeAt(bn)?(i=pn,bn++):(i=z,0===xn&&r(fn)),i!==z){if(o=[],re.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(oe)),s!==z)for(;s!==z;)o.push(s),re.test(e.charAt(bn))?(s=e.charAt(bn),bn++):(s=z,0===xn&&r(oe));else o=D;o!==z?(gn=t,n=dn(n,o),t=n):(bn=t,t=D)}else bn=t,t=D;else bn=t,t=D;if(t===z){if(t=bn,n=[],re.test(e.charAt(bn))?(i=e.charAt(bn),bn++):(i=z,0===xn&&r(oe)),i!==z)for(;i!==z;)n.push(i),re.test(e.charAt(bn))?(i=e.charAt(bn),bn++):(i=z,0===xn&&r(oe));else n=D;n!==z&&(gn=t,n=vn(n)),t=n}return t}function L(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])t[n]=arguments[e][n];return t}var F,N=arguments.length>1?arguments[1]:{},z={},H={visualFormatStringExt:s},q=s,D=z,W="C:",B={type:"literal",value:"C:",description:'"C:"'},G=null,X=function(t,e,n,i){return{type:"attribute",view:t.view,attributes:[e].concat(n)}},Z=function(t,e){return{attr:t,predicates:e}},U=":",Q={type:"literal",value:":",description:'":"'},Y=function(t,e,n,i,r,o){return{type:"vfl",orientation:t?t[0]:"horizontal",cascade:(e||[]).concat(n,[].concat.apply([],i),r||[])}},$="HV",J={type:"literal",value:"HV",description:'"HV"'},K=function(){return"horzvert"},tt="H",et={type:"literal",value:"H",description:'"H"'},nt=function(){return"horizontal"},it="V",rt={type:"literal",value:"V",description:'"V"'},ot=function(){return"vertical"},st="Z",at={type:"literal",value:"Z",description:'"Z"'},ut=function(){return"zIndex"},lt=" ",ct={type:"literal",value:" ",description:'" "'},ht="//",pt={type:"literal",value:"//",description:'"//"'},ft={type:"any",description:"any character"},dt="|",vt={type:"literal",value:"|",description:'"|"'},bt=function(){return{view:null}},gt="[",mt={type:"literal",value:"[",description:'"["'},yt=",",wt={type:"literal",value:",",description:'","'},_t="]",xt={type:"literal",value:"]",description:'"]"'},At=function(t,e){return e.length?[t].concat([].concat.apply([],e)):t},Ct=function(t,e,n){return L(L(t,e?{constraints:e}:{}),n?{cascade:n}:{})},Et=function(t,e){return[].concat([].concat.apply([],t),[e])},St="->",Ot={type:"literal",value:"->",description:'"->"'},Vt=function(){return[{relation:"none"}]},Tt="-",It={type:"literal",value:"-",description:'"-"'},jt=function(t){return t},Mt=function(){return[{relation:"equ",constant:"default"}]},Rt="~",kt={type:"literal",value:"~",description:'"~"'},Pt=function(){return[{relation:"equ",equalSpacing:!0}]},Lt="",Ft=function(){return[{relation:"equ",constant:0}]},Nt=function(t){return[{relation:"equ",multiplier:t.multiplier}]},zt=function(t){return[{relation:"equ",constant:t}]},Ht="(",qt={type:"literal",value:"(",description:'"("'},Dt=")",Wt={type:"literal",value:")",description:'")"'},Bt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},Gt="@",Xt={type:"literal",value:"@",description:'"@"'},Zt=function(t,e,n){return L({relation:"equ"},t||{},e,n?n[1]:{})},Ut=function(t,e,n){return L({relation:"equ",equalSpacing:!0},t||{},e,n?n[1]:{})},Qt="==",Yt={type:"literal",value:"==",description:'"=="'},$t=function(){return{relation:"equ"}},Jt="<=",Kt={type:"literal",value:"<=",description:'"<="'},te=function(){return{relation:"leq"}},ee=">=",ne={type:"literal",value:">=",description:'">="'},ie=function(){return{relation:"geq"}},re=/^[0-9]/,oe={type:"class",value:"[0-9]",description:"[0-9]"},se=function(t){return{priority:parseInt(t.join(""),10)}},ae=function(t){return{constant:t}},ue=function(t){return{constant:-t}},le="+",ce={type:"literal",value:"+",description:'"+"'},he="%",pe={type:"literal",value:"%",description:'"%"'},fe=function(t){return{view:null,multiplier:t/100}},de=function(t){return{view:null,multiplier:t/-100}},ve=function(t,e,n,i){return{view:t.view,attribute:e||void 0,multiplier:n||1,constant:i||void 0}},be=".left",ge={type:"literal",value:".left",description:'".left"'},me=function(){return"left"},ye=".right",we={type:"literal",value:".right",description:'".right"'},_e=function(){return"right"},xe=".top",Ae={type:"literal",value:".top",description:'".top"'},Ce=function(){return"top"},Ee=".bottom",Se={type:"literal",value:".bottom",description:'".bottom"'},Oe=function(){return"bottom"},Ve=".width",Te={type:"literal",value:".width",description:'".width"'},Ie=function(){return"width"},je=".height",Me={type:"literal",value:".height",description:'".height"'},Re=function(){return"height"},ke=".centerX",Pe={type:"literal",value:".centerX",description:'".centerX"'},Le=function(){return"centerX"},Fe=".centerY",Ne={type:"literal",value:".centerY",description:'".centerY"'},ze=function(){return"centerY"},He="/",qe={type:"literal",value:"/",description:'"/"'},De=function(t){return 1/t},We="/+",Be={type:"literal",value:"/+",description:'"/+"'},Ge="/-",Xe={type:"literal",value:"/-",description:'"/-"'},Ze=function(t){return-1/t},Ue="*",Qe={type:"literal",value:"*",description:'"*"'},Ye=function(t){return t},$e="*+",Je={type:"literal",value:"*+",description:'"*+"'},Ke="*-",tn={type:"literal",value:"*-",description:'"*-"'},en=function(t){return-t},nn=/^[a-zA-Z_]/,rn={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},on=/^[a-zA-Z0-9_]/,sn={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},an=function(t,e,i){return{view:t+e,range:i,$parserOffset:n()}},un=function(t,e){return{view:t+e,$parserOffset:n()}},ln="..",cn={type:"literal",value:"..",description:'".."'},hn=function(t){return parseInt(t)},pn=".",fn={type:"literal",value:".",description:'"."'},dn=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},vn=function(t){return parseInt(t.join(""),10)},bn=0,gn=0,mn=0,yn={line:1,column:1,seenCR:!1},wn=0,_n=[],xn=0;if("startRule"in N){if(!(N.startRule in H))throw new Error("Can't start parsing from rule \""+N.startRule+'".');q=H[N.startRule]}if((F=q())!==z&&bn===e.length)return F;throw F!==z&&bn<e.length&&r({type:"end",description:"end of input"}),o(null,_n,wn)}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(t,Error),{SyntaxError:t,parse:e}}(),_={HORIZONTAL:1,VERTICAL:2,ZINDEX:4},x=["viewport","spacing","colors","shapes","widths","heights"],A=function(){function t(){i(this,t)}return d(t,null,[{key:"parseLine",value:function(t,e){if(0===t.length||e&&e.extended&&0===t.indexOf("//"))return[];var n=e&&e.extended?w.parse(t):y.parse(t);if(e&&"raw"===e.outFormat)return[n];var i={constraints:[],lineIndex:(e?e.lineIndex:void 0)||1,subViews:(e?e.subViews:void 0)||{}};if("attribute"===n.type)for(var r=0;r<n.attributes.length;r++)for(var o=n.attributes[r],s=0;s<o.predicates.length;s++){var a=o.predicates[s];i.constraints.push({view1:n.view,attr1:o.attr,relation:a.relation,view2:a.view,attr2:a.attribute||o.attr,multiplier:a.multiplier,constant:a.constant,priority:a.priority})}else switch(n.orientation){case"horizontal":i.orientation=_.HORIZONTAL,i.horizontal=!0,u(i,n.cascade,null);break;case"vertical":i.orientation=_.VERTICAL,u(i,n.cascade,null);break;case"horzvert":i.orientation=_.HORIZONTAL,i.horizontal=!0,u(i,n.cascade,null),i={constraints:i.constraints,lineIndex:i.lineIndex,subViews:i.subViews,orientation:_.VERTICAL},u(i,n.cascade,null);break;case"zIndex":i.orientation=_.ZINDEX,u(i,n.cascade,null)}return i.constraints}},{key:"parse",value:function(t,e){var n=e&&e.lineSeparator?e.lineSeparator:"\n";if(!Array.isArray(t)&&t.indexOf(n)<0)try{return this.parseLine(t,e)}catch(e){throw e.source=t,e}t=Array.isArray(t)?t:[t];var i=void 0,r=[],o=0,s=void 0,a={lineIndex:o,extended:e&&e.extended,strict:!e||void 0===e.strict||e.strict,outFormat:e?e.outFormat:void 0,subViews:{}};try{for(var u=0;u<t.length;u++){i=t[u].split(n);for(var l=0;l<i.length;l++)s=i[l],o++,a.lineIndex=o,a.strict||(s=s.trim()),(a.strict||s.length)&&(r=r.concat(this.parseLine(s,a)))}}catch(t){throw t.source=s,t.line=o,t}return r}},{key:"parseMetaInfo",value:function(t,e){var n=e&&e.lineSeparator?e.lineSeparator:"\n",i=e?e.prefix:void 0;t=Array.isArray(t)?t:[t];for(var r,o={},s=0;s<t.length;s++)for(var u=t[s].split(n),l=0;l<u.length;l++)for(var c=u[l],h=0;h<x.length;h++)for(var p=0;p<(i?2:1);p++){var f=x[h],d=(0===p?"":i)+f;if(0===c.indexOf("//"+d+" "))for(var v=c.substring(3+d.length).split(" "),b=0;b<v.length;b++){o[f]=o[f]||{};for(var g=v[b].split(":"),m=a(g[0],!0),y=0;y<m.length;y++)o[f][m[y]]=g.length>1?g[1]:""}else 0===c.indexOf("//"+d+":")&&(o[f]=c.substring(3+d.length))}if(o.viewport){var w=o.viewport,_=w["aspect-ratio"];_&&(_=_.split("/"),w["aspect-ratio"]=parseInt(_[0])/parseInt(_[1])),void 0!==w.height&&(w.height="intrinsic"===w.height||parseInt(w.height)),void 0!==w.width&&(w.width="intrinsic"===w.width||parseInt(w.width)),void 0!==w["max-height"]&&(w["max-height"]=parseInt(w["max-height"])),void 0!==w["max-width"]&&(w["max-width"]=parseInt(w["max-width"])),void 0!==w["min-height"]&&(w["min-height"]=parseInt(w["min-height"])),void 0!==w["min-width"]&&(w["min-width"]=parseInt(w["min-width"]))}if(o.widths)for(r in o.widths){var A="intrinsic"===o.widths[r]||parseInt(o.widths[r]);o.widths[r]=A,(void 0===A||isNaN(A))&&delete o.widths[r]}if(o.heights)for(r in o.heights){var C="intrinsic"===o.heights[r]||parseInt(o.heights[r]);o.heights[r]=C,(void 0===C||isNaN(C))&&delete o.heights[r]}if(o.spacing){var E=JSON.parse(o.spacing);if(o.spacing=E,Array.isArray(E)){for(var S=0,O=E.length;S<O;S++)if(isNaN(E[S])){delete o.spacing;break}}else(void 0===E||isNaN(E))&&delete o.spacing}return o}}]),t}(),C=function(){function t(e){i(this,t),this._name=e.name,this._type=e.type,this._solver=e.solver,this._attr={},e.name||(this._attr[b.LEFT]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[b.LEFT],v.Strength.required)),this._attr[b.TOP]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[b.TOP],v.Strength.required)),this._attr[b.ZINDEX]=new v.Variable,this._solver.addConstraint(new v.StayConstraint(this._attr[b.ZINDEX],v.Strength.required)))}return d(t,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"getValue",value:function(t){return this._attr[t]?this._attr[t].value():void 0}},{key:"_getAttr",value:function(t){if(this._attr[t])return this._attr[t];switch(this._attr[t]=new v.Variable,t){case b.RIGHT:this._getAttr(b.LEFT),this._getAttr(b.WIDTH),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[b.LEFT],this._attr[b.WIDTH])));break;case b.BOTTOM:this._getAttr(b.TOP),this._getAttr(b.HEIGHT),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[b.TOP],this._attr[b.HEIGHT])));break;case b.CENTERX:this._getAttr(b.LEFT),this._getAttr(b.WIDTH),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[b.LEFT],v.divide(this._attr[b.WIDTH],2))));break;case b.CENTERY:this._getAttr(b.TOP),this._getAttr(b.HEIGHT),this._solver.addConstraint(new v.Equation(this._attr[t],v.plus(this._attr[b.TOP],v.divide(this._attr[b.HEIGHT],2))))}return this._attr[t]}},{key:"_getAttrValue",value:function(t){return this._getAttr(t).value}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttrValue(b.LEFT)}},{key:"right",get:function(){return this._getAttrValue(b.RIGHT)}},{key:"width",get:function(){return this._getAttrValue(b.WIDTH)}},{key:"height",get:function(){return this._getAttrValue(b.HEIGHT)}},{key:"intrinsicWidth",get:function(){return this._intrinsicWidth},set:function(t){if(void 0!==t&&t!==this._intrinsicWidth){var e=this._getAttr(b.WIDTH);void 0===this._intrinsicWidth&&this._solver.addEditVar(e,new v.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicWidth=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"intrinsicHeight",get:function(){return this._intrinsicHeight},set:function(t){if(void 0!==t&&t!==this._intrinsicHeight){var e=this._getAttr(b.HEIGHT);void 0===this._intrinsicHeight&&this._solver.addEditVar(e,new v.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicHeight=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"top",get:function(){return this._getAttrValue(b.TOP)}},{key:"bottom",get:function(){return this._getAttrValue(b.BOTTOM)}},{key:"centerX",get:function(){return this._getAttrValue(b.CENTERX)}},{key:"centerY",get:function(){return this._getAttrValue(b.CENTERY)}},{key:"zIndex",get:function(){return this._getAttrValue(b.ZINDEX)}},{key:"type",get:function(){return this._type}}]),t}(),E=new v.Strength("defaultPriority",0,1e3,1e3),S=function(){function t(e){i(this,t),this._solver=new v.SimplexSolver,this._subViews={},this._parentSubView=new C({solver:this._solver}),this.setSpacing(e&&void 0!==e.spacing?e.spacing:8),e&&(void 0===e.width&&void 0===e.height||this.setSize(e.width,e.height),e.constraints&&this.addConstraints(e.constraints))}return d(t,[{key:"setSize",value:function(t,e){return this._parentSubView.intrinsicWidth=t,this._parentSubView.intrinsicHeight=e,this}},{key:"setSpacing",value:function(t){switch(Array.isArray(t)?t.length:-1){case-1:t=[t,t,t,t,t,t,1];break;case 1:t=[t[0],t[0],t[0],t[0],t[0],t[0],1];break;case 2:t=[t[1],t[0],t[1],t[0],t[0],t[1],1];break;case 3:t=[t[1],t[0],t[1],t[0],t[0],t[1],t[2]];break;case 6:t=[t[0],t[1],t[2],t[3],t[4],t[5],1];break;case 7:break;default:throw"Invalid spacing syntax"}if(!f(this._spacing,t)&&(this._spacing=t,this._spacingVars)){for(var e=0;e<this._spacingVars.length;e++)this._spacingVars[e]&&this._solver.suggestValue(this._spacingVars[e],this._spacing[e]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(t){return p.call(this,t),this}},{key:"addConstraints",value:function(t){for(var e=0;e<t.length;e++)p.call(this,t[e]);return this}},{key:"width",get:function(){return this._parentSubView.intrinsicWidth}},{key:"height",get:function(){return this._parentSubView.intrinsicHeight}},{key:"fittingWidth",get:function(){return this._parentSubView.width}},{key:"fittingHeight",get:function(){return this._parentSubView.height}},{key:"subViews",get:function(){return this._subViews}}]),t}(),O={Attribute:b,Relation:g,Priority:m,VisualFormat:A,View:S,SubView:C};e.exports=O},{"cassowary/bin/c":2}],2:[function(t,e,n){(function(){(function(n){"use strict";try{(function(){}).bind(n)}catch(t){Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=this;return function(){return e.apply(t,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var i=void 0!==n.HTMLElement,r=function(t){for(var e=null;t&&t!=Object.prototype;){if(t.tagName){e=t.tagName;break}t=t.prototype}return e||"div"},o=1e-8,s={},a=function(t,e){if(t&&e){if("function"==typeof t[e])return t[e];var n=t.prototype;if(n&&"function"==typeof n[e])return n[e];if(n!==Object.prototype&&n!==Function.prototype)return"function"==typeof t.__super__?a(t.__super__,e):void 0}},u=n.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(t){var e=null,o=null;t.extends&&(o=t.extends,delete t.extends),t.initialize&&(e=t.initialize,delete t.initialize);var a=e||function(){};Object.defineProperty(a,"__super__",{value:o||Object,enumerable:!1,configurable:!0,writable:!1}),t._t&&(s[t._t]=a);var u=a.prototype=Object.create(o?o.prototype:Object.prototype);if(this.extend(u,t),i&&o&&o.prototype instanceof n.HTMLElement){var l=a,c=r(u),h=function(t){return t.__proto__=u,l.apply(t,arguments),u.created&&t.created(),u.decorate&&t.decorate(),t};this.extend(u,{upgrade:h}),a=function(){return h(n.document.createElement(c))},a.prototype=u,this.extend(a,{ctor:l})}return a},extend:function(t,e){return this.own(e,function(n){var i=Object.getOwnPropertyDescriptor(e,n);try{"function"==typeof i.get||"function"==typeof i.set?Object.defineProperty(t,n,i):"function"==typeof i.value||"_"===n.charAt(0)?(i.writable=!0,i.configurable=!0,i.enumerable=!1,Object.defineProperty(t,n,i)):t[n]=e[n]}catch(t){}}),t},own:function(t,e,i){return Object.getOwnPropertyNames(t).forEach(e,i||n),t},traceprint:function(t){u.verbose&&console.log(t)},fnenterprint:function(t){console.log("* "+t)},fnexitprint:function(t){console.log("- "+t)},assert:function(t,e){if(!t)throw new u.InternalError("Assertion failed: "+e)},plus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.plus(e)},minus:function(t,e){return t instanceof u.Expression||(t=new u.Expression(t)),e instanceof u.Expression||(e=new u.Expression(e)),t.minus(e)},times:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.times(e)},divide:function(t,e){return("number"==typeof t||t instanceof u.Variable)&&(t=new u.Expression(t)),("number"==typeof e||e instanceof u.Variable)&&(e=new u.Expression(e)),t.divide(e)},approx:function(t,e){if(t===e)return!0;var n,i;return n=t instanceof u.Variable?t.value:t,i=e instanceof u.Variable?e.value:e,0==n?o>Math.abs(i):0==i?o>Math.abs(n):Math.abs(n-i)<Math.abs(n)*o},_inc:function(t){return function(){return t++}}(0),parseJSON:function(t){return JSON.parse(t,function(t,e){if("object"!=typeof e||"string"!=typeof e._t)return e;var n=e._t,i=s[n];if(n&&i){var r=a(i,"fromJSON");if(r)return r(e,i)}return e})}};"function"==typeof t&&void 0!==e&&"undefined"==typeof load&&(n.exports=u)})(this),function(t){"use strict";var e=function(t){return t.hashCode?t.hashCode:""+t},n=function(t,e){Object.keys(t).forEach(function(n){e[n]=t[n]})},i={};t.HashTable=t.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(t,n){var i=e(t);this._store.hasOwnProperty(i)||this.size++,this._store[i]=n,this._keyStrMap[i]=t},get:function(t){return this.size?(t=e(t),void 0!==this._store[t]?this._store[t]:null):null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var t={};n(this._store,t),this._store=t},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},delete:function(t){t=e(t),this._store.hasOwnProperty(t)&&(this._deleted++,delete this._store[t],this.size>0&&this.size--)},each:function(t,e){if(this.size){this._perhapsCompact();var n=this._store,i=this._keyStrMap;Object.keys(this._store).forEach(function(r){t.call(e||null,i[r],n[r])},this)}},escapingEach:function(t,e){if(this.size){this._perhapsCompact();for(var n=this,r=this._store,o=this._keyStrMap,s=i,a=Object.keys(r),u=0;a.length>u;u++)if(function(i){n._store.hasOwnProperty(i)&&(s=t.call(e||null,o[i],r[i]))}(a[u]),s){if(void 0!==s.retval)return s;if(s.brk)break}}},clone:function(){var e=new t.HashTable;return this.size&&(e.size=this.size,n(this._store,e._store),n(this._keyStrMap,e._keyStrMap)),e},equals:function(e){if(e===this)return!0;if(!(e instanceof t.HashTable)||e._size!==this._size)return!1;for(var n=Object.keys(this._store),i=0;n.length>i;i++){var r=n[i];if(this._keyStrMap[r]!==e._keyStrMap[r]||this._store[r]!==e._store[r])return!1}return!0},toString:function(){var t="";return this.each(function(e,n){t+=e+" => "+n+"\n"}),t}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.HashSet=t.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(t){var e=this.storage;e.indexOf(t),-1==e.indexOf(t)&&e.push(t),this.size=this.storage.length},values:function(){return this.storage},has:function(t){return-1!=this.storage.indexOf(t)},delete:function(t){var e=this.storage.indexOf(t);return-1==e?null:(this.storage.splice(e,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(t,e){this.size&&this.storage.forEach(t,e)},escapingEach:function(t,e){this.size&&this.storage.forEach(t,e)},toString:function(){var t=this.size+" {",e=!0;return this.each(function(n){e?e=!1:t+=", ",t+=n}),t+="}\n"},toJSON:function(){var t=[];return this.each(function(e){t.push(e.toJSON())}),{_t:"c.HashSet",data:t}},fromJSON:function(e){var n=new t.HashSet;return e.data&&(n.size=e.data.length,n.storage=e.data),n}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Error=t.inherit({initialize:function(t){t&&(this._description=t)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(t){this._description=t},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var e=function(e,n){return t.inherit({extends:t.Error,initialize:function(){t.Error.apply(this,arguments)},_name:e||"",_description:n||""})};t.ConstraintNotFound=e("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),t.InternalError=e("c.InternalError"),t.NonExpression=e("c.NonExpression","The resulting expression would be non"),t.NotEnoughStays=e("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),t.RequiredFailure=e("c.RequiredFailure","A required constraint cannot be satisfied"),t.TooDifficult=e("c.TooDifficult","The constraints are too difficult to solve")}(this.c||e.parent.exports||{}),function(t){"use strict";t.SymbolicWeight=t.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var t=1,e=arguments.length-1;e>=0;--e)this.value+=arguments[e]*t,t*=1e3},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||e.parent.exports||{}),function(t){t.Strength=t.inherit({initialize:function(e,n,i,r){this.name=e,this.symbolicWeight=n instanceof t.SymbolicWeight?n:new t.SymbolicWeight(n,i,r)},get required(){return this===t.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),t.Strength.required=new t.Strength("<Required>",1e3,1e3,1e3),t.Strength.strong=new t.Strength("strong",1,0,0),t.Strength.medium=new t.Strength("medium",0,1,0),t.Strength.weak=new t.Strength("weak",0,0,1)}(this.c||(void 0!==e?e.parent.exports.c:{})),function(t){"use strict";t.AbstractVariable=t.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(e,n){this.hashCode=t._inc(),this.name=(n||"")+this.hashCode,e&&(void 0!==e.name&&(this.name=e.name),void 0!==e.value&&(this.value=e.value),void 0!==e.prefix&&(this._prefix=e.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var t={};return this._t&&(t._t=this._t),this.name&&(t.name=this.name),void 0!==this.value&&(t.value=this.value),this._prefix&&(t._prefix=this._prefix),this._t&&(t._t=this._t),t},fromJSON:function(e,n){var i=new n;return t.extend(i,e),i},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),t.Variable=t.inherit({_t:"c.Variable",extends:t.AbstractVariable,initialize:function(e){this._init(e,"v");var n=t.Variable._map;n&&(n[this.name]=this)},isExternal:!0}),t.DummyVariable=t.inherit({_t:"c.DummyVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),t.ObjectiveVariable=t.inherit({_t:"c.ObjectiveVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"o")},value:"obj"}),t.SlackVariable=t.inherit({_t:"c.SlackVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Point=t.inherit({initialize:function(e,n,i){if(e instanceof t.Variable)this._x=e;else{var r={value:e};i&&(r.name="x"+i),this._x=new t.Variable(r)}if(n instanceof t.Variable)this._y=n;else{var o={value:n};i&&(o.name="y"+i),this._y=new t.Variable(o)}},get x(){return this._x},set x(e){e instanceof t.Variable?this._x=e:this._x.value=e},get y(){return this._y},set y(e){e instanceof t.Variable?this._y=e:this._y.value=e},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Expression=t.inherit({initialize:function(e,n,i){t.GC&&console.log("new c.Expression"),this.constant="number"!=typeof i||isNaN(i)?0:i,this.terms=new t.HashTable,e instanceof t.AbstractVariable?this.setVariable(e,"number"==typeof n?n:1):"number"==typeof e&&(isNaN(e)?console.trace():this.constant=e)},initializeFromHash:function(e,n){return t.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),t.GC&&console.log("clone c.Expression"),this.constant=e,this.terms=n.clone(),this},multiplyMe:function(t){this.constant*=t;var e=this.terms;return e.each(function(n,i){e.set(n,i*t)}),this},clone:function(){t.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var e=new t.Expression;return e.initializeFromHash(this.constant,this.terms),e},times:function(e){if("number"==typeof e)return this.clone().multiplyMe(e);if(this.isConstant)return e.times(this.constant);if(e.isConstant)return this.times(e.constant);throw new t.NonExpression},plus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,1):e instanceof t.Variable?this.clone().addVariable(e,1):void 0},minus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,-1):e instanceof t.Variable?this.clone().addVariable(e,-1):void 0},divide:function(e){if("number"==typeof e){if(t.approx(e,0))throw new t.NonExpression;return this.times(1/e)}if(e instanceof t.Expression){if(!e.isConstant)throw new t.NonExpression;return this.times(1/e.constant)}},addExpression:function(e,n,i,r){return e instanceof t.AbstractVariable&&(e=new t.Expression(e),t.trace&&console.log("addExpression: Had to cast a var to an expression")),n=n||1,this.constant+=n*e.constant,e.terms.each(function(t,e){this.addVariable(t,e*n,i,r)},this),this},addVariable:function(e,n,i,r){null==n&&(n=1),t.trace&&console.log("c.Expression::addVariable():",e,n);var o=this.terms.get(e);if(o){var s=o+n;0==s||t.approx(s,0)?(r&&r.noteRemovedVariable(e,i),this.terms.delete(e)):this.setVariable(e,s)}else t.approx(n,0)||(this.setVariable(e,n),r&&r.noteAddedVariable(e,i));return this},setVariable:function(t,e){return this.terms.set(t,e),this},anyPivotableVariable:function(){if(this.isConstant)throw new t.InternalError("anyPivotableVariable called on a constant");var e=this.terms.escapingEach(function(t){return t.isPivotable?{retval:t}:void 0});return e&&void 0!==e.retval?e.retval:null},substituteOut:function(e,n,i,r){t.trace&&(t.fnenterprint("CLE:substituteOut: "+e+", "+n+", "+i+", ..."),t.traceprint("this = "+this));var o=this.setVariable.bind(this),s=this.terms,a=s.get(e);s.delete(e),this.constant+=a*n.constant,n.terms.each(function(e,n){var u=s.get(e);if(u){var l=u+a*n;t.approx(l,0)?(r.noteRemovedVariable(e,i),s.delete(e)):o(e,l)}else o(e,a*n),r&&r.noteAddedVariable(e,i)}),t.trace&&t.traceprint("Now this is "+this)},changeSubject:function(t,e){this.setVariable(t,this.newSubject(e))},newSubject:function(e){t.trace&&t.fnenterprint("newSubject:"+e);var n=1/this.terms.get(e);return this.terms.delete(e),this.multiplyMe(-n),n},coefficientFor:function(t){return this.terms.get(t)||0},get isConstant(){return 0==this.terms.size},toString:function(){var e="",n=!1;if(!t.approx(this.constant,0)||this.isConstant){if(e+=this.constant,this.isConstant)return e;n=!0}return this.terms.each(function(t,i){n&&(e+=" + "),e+=i+"*"+t,n=!0}),e},equals:function(e){return e===this||e instanceof t.Expression&&e.constant===this.constant&&e.terms.equals(this.terms)},Plus:function(t,e){return t.plus(e)},Minus:function(t,e){return t.minus(e)},Times:function(t,e){return t.times(e)},Divide:function(t,e){return t.divide(e)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.AbstractConstraint=t.inherit({initialize:function(e,n){this.hashCode=t._inc(),this.strength=e||t.Strength.required,this.weight=n||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===t.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var e=t.AbstractConstraint.prototype.toString,n=function(e,n,i){t.AbstractConstraint.call(this,n||t.Strength.strong,i),this.variable=e,this.expression=new t.Expression(e,-1,e.value)};t.EditConstraint=t.inherit({extends:t.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+e.call(this)}}),t.StayConstraint=t.inherit({extends:t.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+e.call(this)}});var i=t.Constraint=t.inherit({extends:t.AbstractConstraint,initialize:function(e,n,i){t.AbstractConstraint.call(this,n,i),this.expression=e}});t.Inequality=t.inherit({extends:t.Constraint,_cloneOrNewCle:function(e){return e.clone?e.clone():new t.Expression(e)},initialize:function(e,n,r,o,s){var a=e instanceof t.Expression,u=r instanceof t.Expression,l=e instanceof t.AbstractVariable,c=r instanceof t.AbstractVariable,h="number"==typeof e,p="number"==typeof r;if((a||h)&&c){var f=e,d=n,v=r,b=o,g=s;if(i.call(this,this._cloneOrNewCle(f),b,g),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else if(l&&(u||p)){var f=r,d=n,v=e,b=o,g=s;if(i.call(this,this._cloneOrNewCle(f),b,g),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(v);else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(v,-1)}}else{if(a&&p){var m=e,d=n,y=r,b=o,g=s;if(i.call(this,this._cloneOrNewCle(m),b,g),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(h&&u){var m=r,d=n,y=e,b=o,g=s;if(i.call(this,this._cloneOrNewCle(m),b,g),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(a&&u){var m=e,d=n,y=r,b=o,g=s;if(i.call(this,this._cloneOrNewCle(y),b,g),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(m));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(m),-1)}}else{if(a)return i.call(this,e,n,r);if(n==t.GEQ)i.call(this,new t.Expression(r),o,s),this.expression.multiplyMe(-1),this.expression.addVariable(e);else{if(n!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");i.call(this,new t.Expression(r),o,s),this.expression.addVariable(e,-1)}}}},isInequality:!0,toString:function(){return i.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),t.Equation=t.inherit({extends:t.Constraint,initialize:function(e,n,r,o){if(e instanceof t.Expression&&!n||n instanceof t.Strength)i.call(this,e,n,r);else if(e instanceof t.AbstractVariable&&n instanceof t.Expression){var s=e,a=n,u=r,l=o;i.call(this,a.clone(),u,l),this.expression.addVariable(s,-1)}else if(e instanceof t.AbstractVariable&&"number"==typeof n){var s=e,c=n,u=r,l=o;i.call(this,new t.Expression(c),u,l),this.expression.addVariable(s,-1)}else if(e instanceof t.Expression&&n instanceof t.AbstractVariable){var a=e,s=n,u=r,l=o;i.call(this,a.clone(),u,l),this.expression.addVariable(s,-1)}else{if(!(e instanceof t.Expression||e instanceof t.AbstractVariable||"number"==typeof e)||!(n instanceof t.Expression||n instanceof t.AbstractVariable||"number"==typeof n))throw"Bad initializer to c.Equation";e=e instanceof t.Expression?e.clone():new t.Expression(e),n=n instanceof t.Expression?n.clone():new t.Expression(n),i.call(this,e,r,o),this.expression.addExpression(n,-1)}t.assert(this.strength instanceof t.Strength,"_strength not set")},toString:function(){return i.prototype.toString.call(this)+" = 0)"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.EditInfo=t.inherit({initialize:function(t,e,n,i,r){this.constraint=t,this.editPlus=e,this.editMinus=n,this.prevEditConstant=i,this.index=r},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Tableau=t.inherit({initialize:function(){this.columns=new t.HashTable,this.rows=new t.HashTable,this._infeasibleRows=new t.HashSet,this._externalRows=new t.HashSet,this._externalParametricVars=new t.HashSet},noteRemovedVariable:function(e,n){t.trace&&console.log("c.Tableau::noteRemovedVariable: ",e,n);var i=this.columns.get(e);n&&i&&i.delete(n)},noteAddedVariable:function(t,e){e&&this.insertColVar(t,e)},getInternalInfo:function(){var t="Tableau Information:\n";return t+="Rows: "+this.rows.size,t+=" (= "+(this.rows.size-1)+" constraints)",t+="\nColumns: "+this.columns.size,t+="\nInfeasible Rows: "+this._infeasibleRows.size,t+="\nExternal basic variables: "+this._externalRows.size,t+="\nExternal parametric variables: ",t+=this._externalParametricVars.size,t+="\n"},toString:function(){var t="Tableau:\n";return this.rows.each(function(e,n){t+=e,t+=" <==> ",t+=n,t+="\n"}),t+="\nColumns:\n",t+=this.columns,t+="\nInfeasible rows: ",t+=this._infeasibleRows,t+="External basic variables: ",t+=this._externalRows,t+="External parametric variables: ",t+=this._externalParametricVars},insertColVar:function(e,n){var i=this.columns.get(e);i||(i=new t.HashSet,this.columns.set(e,i)),i.add(n)},addRow:function(e,n){t.trace&&t.fnenterprint("addRow: "+e+", "+n),this.rows.set(e,n),n.terms.each(function(t){this.insertColVar(t,e),t.isExternal&&this._externalParametricVars.add(t)},this),e.isExternal&&this._externalRows.add(e),t.trace&&t.traceprint(""+this)},removeColumn:function(e){t.trace&&t.fnenterprint("removeColumn:"+e);var n=this.columns.get(e);n?(this.columns.delete(e),n.each(function(t){this.rows.get(t).terms.delete(e)},this)):t.trace&&console.log("Could not find var",e,"in columns"),e.isExternal&&(this._externalRows.delete(e),this._externalParametricVars.delete(e))},removeRow:function(e){t.trace&&t.fnenterprint("removeRow:"+e);var n=this.rows.get(e);return t.assert(null!=n),n.terms.each(function(n){var i=this.columns.get(n);null!=i&&(t.trace&&console.log("removing from varset:",e),i.delete(e))},this),this._infeasibleRows.delete(e),e.isExternal&&this._externalRows.delete(e),this.rows.delete(e),t.trace&&t.fnexitprint("returning "+n),n},substituteOut:function(e,n){t.trace&&t.fnenterprint("substituteOut:"+e+", "+n),t.trace&&t.traceprint(""+this),this.columns.get(e).each(function(t){var i=this.rows.get(t);i.substituteOut(e,n,t,this),t.isRestricted&&0>i.constant&&this._infeasibleRows.add(t)},this),e.isExternal&&(this._externalRows.add(e),this._externalParametricVars.delete(e)),this.columns.delete(e)},columnsHasKey:function(t){return!!this.columns.get(t)}})}(this.c||e.parent.exports||{}),function(t){var e=t.Tableau,n=e.prototype,i=t.Strength.weak;t.SimplexSolver=t.inherit({extends:t.Tableau,initialize:function(){t.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new t.HashTable,this._markerVars=new t.HashTable,this._objective=new t.ObjectiveVariable({name:"Z"}),this._editVarMap=new t.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new t.Expression),this._stkCedcns=[0],t.trace&&t.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(e,n){var i=new t.Inequality(e,t.GEQ,new t.Expression(n));return this.addConstraint(i)},addUpperBound:function(e,n){var i=new t.Inequality(e,t.LEQ,new t.Expression(n));return this.addConstraint(i)},addBounds:function(t,e,n){return this.addLowerBound(t,e),this.addUpperBound(t,n),this},add:function(){for(var t=0;arguments.length>t;t++)this.addConstraint(arguments[t]);return this},addConstraint:function(e){t.trace&&t.fnenterprint("addConstraint: "+e);var n=Array(2),i=Array(1),r=this.newExpression(e,n,i);if(i=i[0],this.tryAddingDirectly(r)||this.addWithArtificialVariable(r),this._fNeedsSolving=!0,e.isEditConstraint){var o=this._editVarMap.size,s=n[0],a=n[1];!s instanceof t.SlackVariable&&console.warn("cvEplus not a slack variable =",s),!a instanceof t.SlackVariable&&console.warn("cvEminus not a slack variable =",a),t.debug&&console.log("new c.EditInfo("+e+", "+s+", "+a+", "+i+", "+o+")");var u=new t.EditInfo(e,s,a,i,o);this._editVarMap.set(e.variable,u),this._editVarList[o]={v:e.variable,info:u}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(e){t.trace&&t.fnenterprint("addConstraintNoException: "+e);try{return this.addConstraint(e),!0}catch(t){return!1}},addEditVar:function(e,n){return t.trace&&t.fnenterprint("addEditVar: "+e+" @ "+n),this.addConstraint(new t.EditConstraint(e,n||t.Strength.strong))},beginEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(e){try{for(var n=this._editVarList.length,i=e;n>i;i++)this._editVarList[i]&&this.removeConstraint(this._editVarMap.get(this._editVarList[i].v).constraint);return this._editVarList.length=e,t.assert(this._editVarMap.size==e,"_editVarMap.size == n"),this}catch(e){throw new t.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(e){return t.trace&&console.log("addPointStays",e),e.forEach(function(t,e){this.addStay(t.x,i,Math.pow(2,e)),this.addStay(t.y,i,Math.pow(2,e))},this),this},addStay:function(e,n,r){var o=new t.StayConstraint(e,n||i,r||1);return this.addConstraint(o)},removeConstraint:function(t){return this.removeConstraintInternal(t),this},removeConstraintInternal:function(e){t.trace&&t.fnenterprint("removeConstraintInternal: "+e),t.trace&&t.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var n=this.rows.get(this._objective),i=this._errorVars.get(e);t.trace&&t.traceprint("eVars == "+i),null!=i&&i.each(function(r){var o=this.rows.get(r);null==o?n.addVariable(r,-e.weight*e.strength.symbolicWeight.value,this._objective,this):n.addExpression(o,-e.weight*e.strength.symbolicWeight.value,this._objective,this),t.trace&&t.traceprint("now eVars == "+i)},this);var r=this._markerVars.get(e);if(this._markerVars.delete(e),null==r)throw new t.InternalError("Constraint not found in removeConstraintInternal");if(t.trace&&t.traceprint("Looking to remove var "+r),null==this.rows.get(r)){var o=this.columns.get(r);t.trace&&t.traceprint("Must pivot -- columns are "+o);var s=null,a=0;o.each(function(e){if(e.isRestricted){var n=this.rows.get(e),i=n.coefficientFor(r);if(t.trace&&t.traceprint("Marker "+r+"'s coefficient in "+n+" is "+i),0>i){var o=-n.constant/i;(null==s||a>o||t.approx(o,a)&&e.hashCode<s.hashCode)&&(a=o,s=e)}}},this),null==s&&(t.trace&&t.traceprint("exitVar is still null"),o.each(function(t){if(t.isRestricted){var e=this.rows.get(t),n=e.coefficientFor(r),i=e.constant/n;(null==s||a>i)&&(a=i,s=t)}},this)),null==s&&(0==o.size?this.removeColumn(r):o.escapingEach(function(t){return t!=this._objective?(s=t,{brk:!0}):void 0},this)),null!=s&&this.pivot(r,s)}if(null!=this.rows.get(r)&&this.removeRow(r),null!=i&&i.each(function(t){t!=r&&this.removeColumn(t)},this),e.isStayConstraint){if(null!=i)for(var u=0;this._stayPlusErrorVars.length>u;u++)i.delete(this._stayPlusErrorVars[u]),i.delete(this._stayMinusErrorVars[u])}else if(e.isEditConstraint){t.assert(null!=i,"eVars != null");var l=this._editVarMap.get(e.variable);this.removeColumn(l.editMinus),this._editVarMap.delete(e.variable)}return null!=i&&this._errorVars.delete(i),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw t.trace&&t.fnenterprint("reset"),new t.InternalError("reset not implemented")},resolveArray:function(e){t.trace&&t.fnenterprint("resolveArray"+e);var n=e.length;this._editVarMap.each(function(t,i){var r=i.index;n>r&&this.suggestValue(t,e[r])},this),this.resolve()},resolvePair:function(t,e){this.suggestValue(this._editVarList[0].v,t),this.suggestValue(this._editVarList[1].v,e),this.resolve()},resolve:function(){t.trace&&t.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(e,n){t.trace&&console.log("suggestValue("+e+", "+n+")");var i=this._editVarMap.get(e);if(!i)throw new t.Error("suggestValue for variable "+e+", but var is not an edit variable");var r=n-i.prevEditConstant;return i.prevEditConstant=n,this.deltaEditConstant(r,i.editPlus,i.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(e,n){if(!this.columnsHasKey(e)&&null==this.rows.get(e))return e.value=n,this;if(!t.approx(n,e.value)){this.addEditVar(e),this.beginEdit();try{this.suggestValue(e,n)}catch(e){throw new t.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(e){if(!this.columnsHasKey(e)&&null==this.rows.get(e)){try{this.addStay(e)}catch(e){throw new t.InternalError("Error in addVar -- required failure is impossible")}t.trace&&t.traceprint("added initial stay on "+e)}return this},getInternalInfo:function(){var t=n.getInternalInfo.call(this);return t+="\nSolver info:\n",t+="Stay Error Variables: ",t+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,t+=" ("+this._stayPlusErrorVars.length+" +, ",t+=this._stayMinusErrorVars.length+" -)\n",t+="Edit Variables: "+this._editVarMap.size,t+="\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var t=n.getInternalInfo.call(this);return t+="\n_stayPlusErrorVars: ",t+="["+this._stayPlusErrorVars+"]",t+="\n_stayMinusErrorVars: ",t+="["+this._stayMinusErrorVars+"]",t+="\n",t+="_editVarMap:\n"+this._editVarMap,t+="\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(e){t.trace&&t.fnenterprint("addWithArtificialVariable: "+e);var n=new t.SlackVariable({value:++this._artificialCounter,prefix:"a"}),i=new t.ObjectiveVariable({name:"az"}),r=e.clone();t.trace&&t.traceprint("before addRows:\n"+this),this.addRow(i,r),this.addRow(n,e),t.trace&&t.traceprint("after addRows:\n"+this),this.optimize(i);var o=this.rows.get(i);if(t.trace&&t.traceprint("azTableauRow.constant == "+o.constant),!t.approx(o.constant,0))throw this.removeRow(i),this.removeColumn(n),new t.RequiredFailure;var s=this.rows.get(n);if(null!=s){if(s.isConstant)return this.removeRow(n),void this.removeRow(i);var a=s.anyPivotableVariable();this.pivot(a,n)}t.assert(null==this.rows.get(n),"rowExpression(av) == null"),this.removeColumn(n),this.removeRow(i)},tryAddingDirectly:function(e){t.trace&&t.fnenterprint("tryAddingDirectly: "+e);var n=this.chooseSubject(e);return null==n?(t.trace&&t.fnexitprint("returning false"),!1):(e.newSubject(n),this.columnsHasKey(n)&&this.substituteOut(n,e),this.addRow(n,e),t.trace&&t.fnexitprint("returning true"),!0)},chooseSubject:function(e){t.trace&&t.fnenterprint("chooseSubject: "+e);var n=null,i=!1,r=!1,o=e.terms,s=o.escapingEach(function(t,e){if(i){if(!t.isRestricted&&!this.columnsHasKey(t))return{retval:t}}else if(t.isRestricted){if(!r&&!t.isDummy&&0>e){var o=this.columns.get(t);(null==o||1==o.size&&this.columnsHasKey(this._objective))&&(n=t,r=!0)}}else n=t,i=!0},this);if(s&&void 0!==s.retval)return s.retval;if(null!=n)return n;var a=0,s=o.escapingEach(function(t,e){return t.isDummy?void(this.columnsHasKey(t)||(n=t,a=e)):{retval:null}},this);if(s&&void 0!==s.retval)return s.retval;if(!t.approx(e.constant,0))throw new t.RequiredFailure;return a>0&&e.multiplyMe(-1),n},deltaEditConstant:function(e,n,i){t.trace&&t.fnenterprint("deltaEditConstant :"+e+", "+n+", "+i);var r=this.rows.get(n);if(null!=r)return r.constant+=e,void(0>r.constant&&this._infeasibleRows.add(n));var o=this.rows.get(i);if(null!=o)return o.constant+=-e,void(0>o.constant&&this._infeasibleRows.add(i));var s=this.columns.get(i);s||console.log("columnVars is null -- tableau is:\n"+this),s.each(function(t){var n=this.rows.get(t),r=n.coefficientFor(i);n.constant+=r*e,t.isRestricted&&0>n.constant&&this._infeasibleRows.add(t)},this)},dualOptimize:function(){t.trace&&t.fnenterprint("dualOptimize:");for(var e=this.rows.get(this._objective);this._infeasibleRows.size;){var n=this._infeasibleRows.values()[0];this._infeasibleRows.delete(n);var i=null,r=this.rows.get(n);if(r&&0>r.constant){var o,s=Number.MAX_VALUE;if(r.terms.each(function(n,r){if(r>0&&n.isPivotable){var a=e.coefficientFor(n);o=a/r,(s>o||t.approx(o,s)&&n.hashCode<i.hashCode)&&(i=n,s=o)}}),s==Number.MAX_VALUE)throw new t.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(i,n)}}},newExpression:function(e,n,i){t.trace&&(t.fnenterprint("newExpression: "+e),t.traceprint("cn.isInequality == "+e.isInequality),t.traceprint("cn.required == "+e.required));var r=e.expression,o=new t.Expression(r.constant),s=new t.SlackVariable,a=new t.DummyVariable,u=new t.SlackVariable,l=new t.SlackVariable;if(r.terms.each(function(t,e){var n=this.rows.get(t);n?o.addExpression(n,e):o.addVariable(t,e)},this),e.isInequality){if(t.trace&&t.traceprint("Inequality, adding slack"),++this._slackCounter,s=new t.SlackVariable({value:this._slackCounter,prefix:"s"}),o.setVariable(s,-1),this._markerVars.set(e,s),!e.required){++this._slackCounter,u=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),o.setVariable(u,1);var c=this.rows.get(this._objective);c.setVariable(u,e.strength.symbolicWeight.value*e.weight),this.insertErrorVar(e,u),this.noteAddedVariable(u,this._objective)}}else if(e.required)t.trace&&t.traceprint("Equality, required"),++this._dummyCounter,a=new t.DummyVariable({value:this._dummyCounter,prefix:"d"}),o.setVariable(a,1),this._markerVars.set(e,a),t.trace&&t.traceprint("Adding dummyVar == d"+this._dummyCounter);else{t.trace&&t.traceprint("Equality, not required"),++this._slackCounter,l=new t.SlackVariable({value:this._slackCounter,prefix:"ep"}),u=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),o.setVariable(l,-1),o.setVariable(u,1),this._markerVars.set(e,l);var c=this.rows.get(this._objective);t.trace&&console.log(c);var h=e.strength.symbolicWeight.value*e.weight;0==h&&(t.trace&&t.traceprint("cn == "+e),t.trace&&t.traceprint("adding "+l+" and "+u+" with swCoeff == "+h)),c.setVariable(l,h),this.noteAddedVariable(l,this._objective),c.setVariable(u,h),this.noteAddedVariable(u,this._objective),this.insertErrorVar(e,u),this.insertErrorVar(e,l),e.isStayConstraint?(this._stayPlusErrorVars.push(l),this._stayMinusErrorVars.push(u)):e.isEditConstraint&&(n[0]=l,n[1]=u,i[0]=r.constant)}return 0>o.constant&&o.multiplyMe(-1),t.trace&&t.fnexitprint("returning "+o),o},optimize:function(e){t.trace&&t.fnenterprint("optimize: "+e),t.trace&&t.traceprint(""+this),this._optimizeCount++;var n=this.rows.get(e);t.assert(null!=n,"zRow != null");for(var i,r,o=null,s=null;;){if(i=0,r=n.terms,r.escapingEach(function(t,e){return t.isPivotable&&i>e?(i=e,o=t,{brk:1}):void 0},this),i>=-1e-8)return;t.trace&&console.log("entryVar:",o,"objectiveCoeff:",i);var a=Number.MAX_VALUE,u=this.columns.get(o),l=0;if(u.each(function(e){if(t.trace&&t.traceprint("Checking "+e),e.isPivotable){var n=this.rows.get(e),i=n.coefficientFor(o);t.trace&&t.traceprint("pivotable, coeff = "+i),0>i&&(l=-n.constant/i,(a>l||t.approx(l,a)&&e.hashCode<s.hashCode)&&(a=l,s=e))}},this),a==Number.MAX_VALUE)throw new t.InternalError("Objective function is unbounded in optimize");this.pivot(o,s),t.trace&&t.traceprint(""+this)}},pivot:function(e,n){t.trace&&console.log("pivot: ",e,n);null==e&&console.warn("pivot: entryVar == null"),null==n&&console.warn("pivot: exitVar == null");var i=this.removeRow(n);i.changeSubject(n,e),this.substituteOut(e,i),this.addRow(e,i)},_resetStayConstants:function(){t.trace&&console.log("_resetStayConstants");for(var e=0;this._stayPlusErrorVars.length>e;e++){var n=this.rows.get(this._stayPlusErrorVars[e]);null==n&&(n=this.rows.get(this._stayMinusErrorVars[e])),null!=n&&(n.constant=0)}},_setExternalVariables:function(){t.trace&&t.fnenterprint("_setExternalVariables:"),t.trace&&t.traceprint(""+this),this._externalParametricVars.each(function(e){null!=this.rows.get(e)?t.trace&&console.log("Error: variable"+e+" in _externalParametricVars is basic"):e.value=0},this),this._externalRows.each(function(t){var e=this.rows.get(t);t.value!=e.constant&&(t.value=e.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(e,n){t.trace&&t.fnenterprint("insertErrorVar:"+e+", "+n);var i=this._errorVars.get(n);i||(i=new t.HashSet,this._errorVars.set(e,i)),i.add(n)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Timer=t.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||e.parent.exports||{}),__cassowary_parser=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,n){function i(t){N>L||(L>N&&(N=L,z=[]),z.push(t))}function r(){var t,e,n,i,r;if(i=L,r=L,null!==(t=m())){if(null!==(n=o()))for(e=[];null!==n;)e.push(n),n=o();else e=null;null!==e?(n=m(),null!==n?t=[t,e,n]:(t=null,L=r)):(t=null,L=r)}else t=null,L=r;return null!==t&&(t=function(t,e){return e}(0,t[1])),null===t&&(L=i),t}function o(){var t,e,n,i;return n=L,i=L,t=k(),null!==t?(e=h(),null!==e?t=[t,e]:(t=null,L=i)):(t=null,L=i),null!==t&&(t=function(t,e){return e}(0,t[0])),null===t&&(L=n),t}function s(){var t;return e.length>L?(t=e.charAt(L),L++):(t=null,0===F&&i("any character")),t}function a(){var t;return/^[a-zA-Z]/.test(e.charAt(L))?(t=e.charAt(L),L++):(t=null,0===F&&i("[a-zA-Z]")),null===t&&(36===e.charCodeAt(L)?(t="$",L++):(t=null,0===F&&i('"$"')),null===t&&(95===e.charCodeAt(L)?(t="_",L++):(t=null,0===F&&i('"_"')))),t}function u(){var t;return F++,/^[\t\x0B\f \xA0\uFEFF]/.test(e.charAt(L))?(t=e.charAt(L),L++):(t=null,0===F&&i("[\\t\\x0B\\f \\xA0\\uFEFF]")),F--,0===F&&null===t&&i("whitespace"),t}function l(){var t;return/^[\n\r\u2028\u2029]/.test(e.charAt(L))?(t=e.charAt(L),L++):(t=null,0===F&&i("[\\n\\r\\u2028\\u2029]")),t}function c(){var t;return F++,10===e.charCodeAt(L)?(t="\n",L++):(t=null,0===F&&i('"\\n"')),null===t&&("\r\n"===e.substr(L,2)?(t="\r\n",L+=2):(t=null,0===F&&i('"\\r\\n"')),null===t&&(13===e.charCodeAt(L)?(t="\r",L++):(t=null,0===F&&i('"\\r"')),null===t&&(8232===e.charCodeAt(L)?(t="\u2028",L++):(t=null,0===F&&i('"\\u2028"')),null===t&&(8233===e.charCodeAt(L)?(t="\u2029",L++):(t=null,0===F&&i('"\\u2029"')))))),F--,0===F&&null===t&&i("end of line"),t}function h(){var t,n,r;return r=L,t=m(),null!==t?(59===e.charCodeAt(L)?(n=";",L++):(n=null,0===F&&i('";"')),null!==n?t=[t,n]:(t=null,L=r)):(t=null,L=r),null===t&&(r=L,t=g(),null!==t?(n=c(),null!==n?t=[t,n]:(t=null,L=r)):(t=null,L=r),null===t&&(r=L,t=m(),null!==t?(n=p(),null!==n?t=[t,n]:(t=null,L=r)):(t=null,L=r))),t}function p(){var t,n;return n=L,F++,e.length>L?(t=e.charAt(L),L++):(t=null,0===F&&i("any character")),F--,null===t?t="":(t=null,L=n),t}function f(){var t;return F++,t=d(),null===t&&(t=b()),F--,0===F&&null===t&&i("comment"),t}function d(){var t,n,r,o,a,u,l;if(a=L,"/*"===e.substr(L,2)?(t="/*",L+=2):(t=null,0===F&&i('"/*"')),null!==t){for(n=[],u=L,l=L,F++,"*/"===e.substr(L,2)?(r="*/",L+=2):(r=null,0===F&&i('"*/"')),F--,null===r?r="":(r=null,L=l),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,L=u)):(r=null,L=u);null!==r;)n.push(r),u=L,l=L,F++,"*/"===e.substr(L,2)?(r="*/",L+=2):(r=null,0===F&&i('"*/"')),F--,null===r?r="":(r=null,L=l),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,L=u)):(r=null,L=u);null!==n?("*/"===e.substr(L,2)?(r="*/",L+=2):(r=null,0===F&&i('"*/"')),null!==r?t=[t,n,r]:(t=null,L=a)):(t=null,L=a)}else t=null,L=a;return t}function v(){var t,n,r,o,a,u,c;if(a=L,"/*"===e.substr(L,2)?(t="/*",L+=2):(t=null,0===F&&i('"/*"')),null!==t){for(n=[],u=L,c=L,F++,"*/"===e.substr(L,2)?(r="*/",L+=2):(r=null,0===F&&i('"*/"')),null===r&&(r=l()),F--,null===r?r="":(r=null,L=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,L=u)):(r=null,L=u);null!==r;)n.push(r),u=L,c=L,F++,"*/"===e.substr(L,2)?(r="*/",L+=2):(r=null,0===F&&i('"*/"')),null===r&&(r=l()),F--,null===r?r="":(r=null,L=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,L=u)):(r=null,L=u);null!==n?("*/"===e.substr(L,2)?(r="*/",L+=2):(r=null,0===F&&i('"*/"')),null!==r?t=[t,n,r]:(t=null,L=a)):(t=null,L=a)}else t=null,L=a;return t}function b(){var t,n,r,o,a,u,c;if(a=L,"//"===e.substr(L,2)?(t="//",L+=2):(t=null,0===F&&i('"//"')),null!==t){for(n=[],u=L,c=L,F++,r=l(),F--,null===r?r="":(r=null,L=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,L=u)):(r=null,L=u);null!==r;)n.push(r),u=L,c=L,F++,r=l(),F--,null===r?r="":(r=null,L=c),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,L=u)):(r=null,L=u);null!==n?t=[t,n]:(t=null,L=a)}else t=null,L=a;return t}function g(){var t,e;for(t=[],null===(e=u())&&null===(e=v())&&(e=b());null!==e;)t.push(e),null===(e=u())&&null===(e=v())&&(e=b());return t}function m(){var t,e;for(t=[],null===(e=u())&&null===(e=c())&&(e=f());null!==e;)t.push(e),null===(e=u())&&null===(e=c())&&(e=f());return t}function y(){var t,e;return e=L,t=_(),null===t&&(t=w()),null!==t&&(t=function(t,e){return{type:"NumericLiteral",value:e}}(0,t)),null===t&&(L=e),t}function w(){var t,n,r;if(r=L,/^[0-9]/.test(e.charAt(L))?(n=e.charAt(L),L++):(n=null,0===F&&i("[0-9]")),null!==n)for(t=[];null!==n;)t.push(n),/^[0-9]/.test(e.charAt(L))?(n=e.charAt(L),L++):(n=null,0===F&&i("[0-9]"));else t=null;return null!==t&&(t=function(t,e){return parseInt(e.join(""))}(0,t)),null===t&&(L=r),t}function _(){var t,n,r,o,s;return o=L,s=L,t=w(),null!==t?(46===e.charCodeAt(L)?(n=".",L++):(n=null,0===F&&i('"."')),null!==n?(r=w(),null!==r?t=[t,n,r]:(t=null,L=s)):(t=null,L=s)):(t=null,L=s),null!==t&&(t=function(t,e){return parseFloat(e.join(""))}(0,t)),null===t&&(L=o),t}function x(){var t,n,r,o;if(o=L,/^[\-+]/.test(e.charAt(L))?(t=e.charAt(L),L++):(t=null,0===F&&i("[\\-+]")),null!==(t=null!==t?t:"")){if(/^[0-9]/.test(e.charAt(L))?(r=e.charAt(L),L++):(r=null,0===F&&i("[0-9]")),null!==r)for(n=[];null!==r;)n.push(r),/^[0-9]/.test(e.charAt(L))?(r=e.charAt(L),L++):(r=null,0===F&&i("[0-9]"));else n=null;null!==n?t=[t,n]:(t=null,L=o)}else t=null,L=o;return t}function A(){var t,e;return F++,e=L,t=C(),null!==t&&(t=function(t,e){return e}(0,t)),null===t&&(L=e),F--,0===F&&null===t&&i("identifier"),t}function C(){var t,e,n,r,o;if(F++,r=L,o=L,null!==(t=a())){for(e=[],n=a();null!==n;)e.push(n),n=a();null!==e?t=[t,e]:(t=null,L=o)}else t=null,L=o;return null!==t&&(t=function(t,e,n){return e+n.join("")}(0,t[0],t[1])),null===t&&(L=r),F--,0===F&&null===t&&i("identifier"),t}function E(){var t,n,r,o,s,a,u;return a=L,t=A(),null!==t&&(t=function(t,e){return{type:"Variable",name:e}}(0,t)),null===t&&(L=a),null===t&&null===(t=y())&&(a=L,u=L,40===e.charCodeAt(L)?(t="(",L++):(t=null,0===F&&i('"("')),null!==t?(n=m(),null!==n?(r=k(),null!==r?(o=m(),null!==o?(41===e.charCodeAt(L)?(s=")",L++):(s=null,0===F&&i('")"')),null!==s?t=[t,n,r,o,s]:(t=null,L=u)):(t=null,L=u)):(t=null,L=u)):(t=null,L=u)):(t=null,L=u),null!==t&&(t=function(t,e){return e}(0,t[2])),null===t&&(L=a)),t}function S(){var t,e,n,i,r;return t=E(),null===t&&(i=L,r=L,t=O(),null!==t?(e=m(),null!==e?(n=S(),null!==n?t=[t,e,n]:(t=null,L=r)):(t=null,L=r)):(t=null,L=r),null!==t&&(t=function(t,e,n){return{type:"UnaryExpression",operator:e,expression:n}}(0,t[0],t[2])),null===t&&(L=i)),t}function O(){var t;return 43===e.charCodeAt(L)?(t="+",L++):(t=null,0===F&&i('"+"')),null===t&&(45===e.charCodeAt(L)?(t="-",L++):(t=null,0===F&&i('"-"')),null===t&&(33===e.charCodeAt(L)?(t="!",L++):(t=null,0===F&&i('"!"')))),t}function V(){var t,e,n,i,r,o,s,a,u;if(s=L,a=L,null!==(t=S())){for(e=[],u=L,n=m(),null!==n?(i=T(),null!==i?(r=m(),null!==r?(o=S(),null!==o?n=[n,i,r,o]:(n=null,L=u)):(n=null,L=u)):(n=null,L=u)):(n=null,L=u);null!==n;)e.push(n),u=L,n=m(),null!==n?(i=T(),null!==i?(r=m(),null!==r?(o=S(),null!==o?n=[n,i,r,o]:(n=null,L=u)):(n=null,L=u)):(n=null,L=u)):(n=null,L=u);null!==e?t=[t,e]:(t=null,L=a)}else t=null,L=a;return null!==t&&(t=function(t,e,n){for(var i=e,r=0;n.length>r;r++)i={type:"MultiplicativeExpression",operator:n[r][1],left:i,right:n[r][3]};return i}(0,t[0],t[1])),null===t&&(L=s),t}function T(){var t;return 42===e.charCodeAt(L)?(t="*",L++):(t=null,0===F&&i('"*"')),null===t&&(47===e.charCodeAt(L)?(t="/",L++):(t=null,0===F&&i('"/"'))),t}function I(){var t,e,n,i,r,o,s,a,u;if(s=L,a=L,null!==(t=V())){for(e=[],u=L,n=m(),null!==n?(i=j(),null!==i?(r=m(),null!==r?(o=V(),null!==o?n=[n,i,r,o]:(n=null,L=u)):(n=null,L=u)):(n=null,L=u)):(n=null,L=u);null!==n;)e.push(n),u=L,n=m(),null!==n?(i=j(),null!==i?(r=m(),null!==r?(o=V(),null!==o?n=[n,i,r,o]:(n=null,L=u)):(n=null,L=u)):(n=null,L=u)):(n=null,L=u);null!==e?t=[t,e]:(t=null,L=a)}else t=null,L=a;return null!==t&&(t=function(t,e,n){for(var i=e,r=0;n.length>r;r++)i={type:"AdditiveExpression",operator:n[r][1],left:i,right:n[r][3]};return i}(0,t[0],t[1])),null===t&&(L=s),t}function j(){var t;return 43===e.charCodeAt(L)?(t="+",L++):(t=null,0===F&&i('"+"')),null===t&&(45===e.charCodeAt(L)?(t="-",L++):(t=null,0===F&&i('"-"'))),t}function M(){var t,e,n,i,r,o,s,a,u;if(s=L,a=L,null!==(t=I())){for(e=[],u=L,n=m(),null!==n?(i=R(),null!==i?(r=m(),null!==r?(o=I(),null!==o?n=[n,i,r,o]:(n=null,L=u)):(n=null,L=u)):(n=null,L=u)):(n=null,L=u);null!==n;)e.push(n),u=L,n=m(),null!==n?(i=R(),null!==i?(r=m(),null!==r?(o=I(),null!==o?n=[n,i,r,o]:(n=null,L=u)):(n=null,L=u)):(n=null,L=u)):(n=null,L=u);null!==e?t=[t,e]:(t=null,L=a)}else t=null,L=a;return null!==t&&(t=function(t,e,n){for(var i=e,r=0;n.length>r;r++)i={type:"Inequality",operator:n[r][1],left:i,right:n[r][3]};return i}(0,t[0],t[1])),null===t&&(L=s),t}function R(){var t;return"<="===e.substr(L,2)?(t="<=",L+=2):(t=null,0===F&&i('"<="')),null===t&&(">="===e.substr(L,2)?(t=">=",L+=2):(t=null,0===F&&i('">="')),null===t&&(60===e.charCodeAt(L)?(t="<",L++):(t=null,0===F&&i('"<"')),null===t&&(62===e.charCodeAt(L)?(t=">",L++):(t=null,0===F&&i('">"'))))),t}function k(){var t,n,r,o,s,a,u,l,c;if(u=L,l=L,null!==(t=M())){for(n=[],c=L,r=m(),null!==r?("=="===e.substr(L,2)?(o="==",L+=2):(o=null,0===F&&i('"=="')),null!==o?(s=m(),null!==s?(a=M(),null!==a?r=[r,o,s,a]:(r=null,L=c)):(r=null,L=c)):(r=null,L=c)):(r=null,L=c);null!==r;)n.push(r),c=L,r=m(),null!==r?("=="===e.substr(L,2)?(o="==",L+=2):(o=null,0===F&&i('"=="')),null!==o?(s=m(),null!==s?(a=M(),null!==a?r=[r,o,s,a]:(r=null,L=c)):(r=null,L=c)):(r=null,L=c)):(r=null,L=c);null!==n?t=[t,n]:(t=null,L=l)}else t=null,L=l;return null!==t&&(t=function(t,e,n){for(var i=e,r=0;n.length>r;r++)i={type:"Equality",operator:n[r][1],left:i,right:n[r][3]};return i}(0,t[0],t[1])),null===t&&(L=u),t}var P={start:r,Statement:o,SourceCharacter:s,IdentifierStart:a,WhiteSpace:u,LineTerminator:l,LineTerminatorSequence:c,EOS:h,EOF:p,Comment:f,MultiLineComment:d,MultiLineCommentNoLineTerminator:v,SingleLineComment:b,_:g,__:m,Literal:y,Integer:w,Real:_,SignedInteger:x,Identifier:A,IdentifierName:C,PrimaryExpression:E,UnaryExpression:S,UnaryOperator:O,MultiplicativeExpression:V,MultiplicativeOperator:T,AdditiveExpression:I,AdditiveOperator:j,InequalityExpression:M,InequalityOperator:R,LinearExpression:k};if(void 0!==n){if(void 0===P[n])throw Error("Invalid rule name: "+t(n)+".")}else n="start";var L=0,F=0,N=0,z=[],H=P[n]();if(null===H||L!==e.length){var q=Math.max(L,N),D=e.length>q?e.charAt(q):null,W=function(){for(var t=1,n=1,i=!1,r=0;Math.max(L,N)>r;r++){var o=e.charAt(r);"\n"===o?(i||t++,n=1,i=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t++,n=1,i=!0):(n++,i=!1)}return{line:t,column:n}}();throw new this.SyntaxError(function(t){t.sort();for(var e=null,n=[],i=0;t.length>i;i++)t[i]!==e&&(n.push(t[i]),e=t[i]);return n}(z),D,q,W.line,W.column)}return H},toSource:function(){return this._source}};return e.SyntaxError=function(e,n,i,r,o){this.name="SyntaxError",this.expected=e,this.found=n,this.message=function(e,n){var i,r;switch(e.length){case 0:i="end of input";break;case 1:i=e[0];break;default:i=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return r=n?t(n):"end of input","Expected "+i+" but "+r+" found."}(e,n),this.offset=i,this.line=r,this.column=o},e.SyntaxError.prototype=Error.prototype,e}()}).call(void 0!==e?e.compiled=e:this)},{}]},{},[1])(1)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Const=0]="Const",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Top=3]="Top",t[t.Bottom=4]="Bottom",t[t.Width=7]="Width",t[t.Height=8]="Height",t[t.CenterX=9]="CenterX",t[t.CenterY=10]="CenterY"}(e.LayoutAttribute||(e.LayoutAttribute={}));var i;!function(t){t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater"}(i=e.LayoutRelation||(e.LayoutRelation={}));var r=function(){function t(t,e,n,r,o,s,a){void 0===s&&(s=0),void 0===a&&(a=1),this.relation=i.Equal,this.constant=0,this.multiplier=1,this.priority=750,this.firstItem=t,this.firstAttr=e,this.relation=n||i.Equal,this.secondItem=r,this.secondAttr=o,this.constant=s,this.multiplier=a}return t.constraintsWithVisualFormat=function(t,e){return[]},t}();e.LayoutConstraint=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),o=n(17),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.fromALObject=function(t,n){var i=function(t){return"const"==t?r.LayoutAttribute.Const:"left"==t?r.LayoutAttribute.Left:"right"==t?r.LayoutAttribute.Right:"top"==t?r.LayoutAttribute.Top:"bottom"==t?r.LayoutAttribute.Bottom:"width"==t?r.LayoutAttribute.Width:"height"==t?r.LayoutAttribute.Height:"centerX"==t?r.LayoutAttribute.CenterX:"centerY"==t?r.LayoutAttribute.CenterY:void 0},o="default"==t.constant?8:parseInt(t.constant),s=new e(n[t.view1],i(t.attr1),function(t){return"leq"==t?r.LayoutRelation.Less:"geq"==t?r.LayoutRelation.Greater:r.LayoutRelation.Equal}(t.relation),n[t.view2],i(t.attr2),o,t.multiplier);return s.priority=t.priority||750,s},e.constraintsWithVisualFormat=function(t,n){try{return o.VisualFormat.parse(t).map(function(t){return e.fromALObject(t,n)})}catch(t){return console.error(t),[]}},e.prototype.toALObject=function(){var t=function(t){return t==r.LayoutAttribute.Const?"const":t==r.LayoutAttribute.Left?"left":t==r.LayoutAttribute.Right?"right":t==r.LayoutAttribute.Top?"top":t==r.LayoutAttribute.Bottom?"bottom":t==r.LayoutAttribute.Width?"width":t==r.LayoutAttribute.Height?"height":t==r.LayoutAttribute.CenterX?"centerX":t==r.LayoutAttribute.CenterY?"centerY":void 0};return{view1:void 0!==this.firstItem?this.firstItem.nativeObject.objectUUID:void 0,attr1:t(this.firstAttr),relation:function(t){return t==r.LayoutRelation.Equal?"equ":t==r.LayoutRelation.Less?"leq":t==r.LayoutRelation.Greater?"geq":"equ"}(this.relation),view2:void 0!==this.secondItem?this.secondItem.nativeObject.objectUUID:void 0,attr2:t(this.secondAttr),multiplier:this.multiplier,constant:this.constant,priority:this.priority}},e}(r.LayoutConstraint);e.LayoutConstraint=s},function(t,e,n){(function(t,n){!function(){function i(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)}var r={},o=r.util={},s=Array.prototype.concat,a=Array.prototype.slice;o.bind=function(t,e){var n=a.call(arguments,2);return function(){t.apply(e,s.call(n,a.call(arguments)))}},o.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var u=r.SpringSystem=function(t){this._springRegistry={},this._activeSprings=[],this.listeners=[],this._idleSpringIndices=[],this.looper=t||new p,this.looper.springSystem=this};o.extend(u.prototype,{_springRegistry:null,_isIdle:!0,_lastTimeMillis:-1,_activeSprings:null,listeners:null,_idleSpringIndices:null,setLooper:function(t){this.looper=t,t.springSystem=this},createSpring:function(t,e){var n;return n=void 0===t||void 0===e?h.DEFAULT_ORIGAMI_SPRING_CONFIG:h.fromOrigamiTensionAndFriction(t,e),this.createSpringWithConfig(n)},createSpringWithBouncinessAndSpeed:function(t,e){var n;return n=void 0===t||void 0===e?h.DEFAULT_ORIGAMI_SPRING_CONFIG:h.fromBouncinessAndSpeed(t,e),this.createSpringWithConfig(n)},createSpringWithConfig:function(t){var e=new l(this);return this.registerSpring(e),e.setSpringConfig(t),e},getIsIdle:function(){return this._isIdle},getSpringById:function(t){return this._springRegistry[t]},getAllSprings:function(){var t=[];for(var e in this._springRegistry)this._springRegistry.hasOwnProperty(e)&&t.push(this._springRegistry[e]);return t},registerSpring:function(t){this._springRegistry[t.getId()]=t},deregisterSpring:function(t){i(this._activeSprings,t),delete this._springRegistry[t.getId()]},advance:function(t,e){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var n=0,i=this._activeSprings.length;n<i;n++){var r=this._activeSprings[n];r.systemShouldAdvance()?r.advance(t/1e3,e/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(r))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},loop:function(t){var e;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var n=t-this._lastTimeMillis;this._lastTimeMillis=t;var i=0,r=this.listeners.length;for(i=0;i<r;i++)e=this.listeners[i],e.onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),i=0;i<r;i++)e=this.listeners[i],e.onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},activateSpring:function(t){var e=this._springRegistry[t];-1==this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},addListener:function(t){this.listeners.push(t)},removeListener:function(t){i(this.listeners,t)},removeAllListeners:function(){this.listeners=[]}});var l=r.Spring=function t(e){this._id="s"+t._ID++,this._springSystem=e,this.listeners=[],this._currentState=new c,this._previousState=new c,this._tempState=new c};o.extend(l,{_ID:0,MAX_DELTA_TIME_SEC:.064,SOLVER_TIMESTEP_SEC:.001}),o.extend(l.prototype,{_id:0,_springConfig:null,_overshootClampingEnabled:!1,_currentState:null,_previousState:null,_tempState:null,_startValue:0,_endValue:0,_wasAtRest:!0,_restSpeedThreshold:.001,_displacementFromRestThreshold:.001,listeners:null,_timeAccumulator:0,_springSystem:null,destroy:function(){this.listeners=[],this._springSystem.deregisterSpring(this)},getId:function(){return this._id},setSpringConfig:function(t){return this._springConfig=t,this},getSpringConfig:function(){return this._springConfig},setCurrentValue:function(t,e){return this._startValue=t,this._currentState.position=t,e||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},getStartValue:function(){return this._startValue},getCurrentValue:function(){return this._currentState.position},getCurrentDisplacementDistance:function(){return this.getDisplacementDistanceForState(this._currentState)},getDisplacementDistanceForState:function(t){return Math.abs(this._endValue-t.position)},setEndValue:function(t){if(this._endValue==t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,n=this.listeners.length;e<n;e++){var i=this.listeners[e],r=i.onSpringEndStateChange;r&&r(this)}return this},getEndValue:function(){return this._endValue},setVelocity:function(t){return t===this._currentState.velocity?this:(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId()),this)},getVelocity:function(){return this._currentState.velocity},setRestSpeedThreshold:function(t){return this._restSpeedThreshold=t,this},getRestSpeedThreshold:function(){return this._restSpeedThreshold},setRestDisplacementThreshold:function(t){this._displacementFromRestThreshold=t},getRestDisplacementThreshold:function(){return this._displacementFromRestThreshold},setOvershootClampingEnabled:function(t){return this._overshootClampingEnabled=t,this},isOvershootClampingEnabled:function(){return this._overshootClampingEnabled},isOvershooting:function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},advance:function(t,e){var n=this.isAtRest();if(!n||!this._wasAtRest){var i=e;e>l.MAX_DELTA_TIME_SEC&&(i=l.MAX_DELTA_TIME_SEC),this._timeAccumulator+=i;for(var r,o,s,a,u,c,h,p,f,d,v=this._springConfig.tension,b=this._springConfig.friction,g=this._currentState.position,m=this._currentState.velocity,y=this._tempState.position,w=this._tempState.velocity;this._timeAccumulator>=l.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=l.SOLVER_TIMESTEP_SEC,this._timeAccumulator<l.SOLVER_TIMESTEP_SEC&&(this._previousState.position=g,this._previousState.velocity=m),r=m,o=v*(this._endValue-y)-b*m,y=g+r*l.SOLVER_TIMESTEP_SEC*.5,w=m+o*l.SOLVER_TIMESTEP_SEC*.5,s=w,a=v*(this._endValue-y)-b*w,y=g+s*l.SOLVER_TIMESTEP_SEC*.5,w=m+a*l.SOLVER_TIMESTEP_SEC*.5,u=w,c=v*(this._endValue-y)-b*w,y=g+u*l.SOLVER_TIMESTEP_SEC,w=m+c*l.SOLVER_TIMESTEP_SEC,h=w,p=v*(this._endValue-y)-b*w,f=1/6*(r+2*(s+u)+h),d=1/6*(o+2*(a+c)+p),g+=f*l.SOLVER_TIMESTEP_SEC,m+=d*l.SOLVER_TIMESTEP_SEC;this._tempState.position=y,this._tempState.velocity=w,this._currentState.position=g,this._currentState.velocity=m,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/l.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),n=!0);var _=!1;this._wasAtRest&&(this._wasAtRest=!1,_=!0);var x=!1;n&&(this._wasAtRest=!0,x=!0),this.notifyPositionUpdated(_,x)}},notifyPositionUpdated:function(t,e){for(var n=0,i=this.listeners.length;n<i;n++){var r=this.listeners[n];t&&r.onSpringActivate&&r.onSpringActivate(this),r.onSpringUpdate&&r.onSpringUpdate(this),e&&r.onSpringAtRest&&r.onSpringAtRest(this)}},systemShouldAdvance:function(){return!this.isAtRest()||!this.wasAtRest()},wasAtRest:function(){return this._wasAtRest},isAtRest:function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},setAtRest:function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},_interpolate:function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},getListeners:function(){return this.listeners},addListener:function(t){return this.listeners.push(t),this},removeListener:function(t){return i(this.listeners,t),this},removeAllListeners:function(){return this.listeners=[],this},currentValueIsApproximately:function(t){return Math.abs(this.getCurrentValue()-t)<=this.getRestDisplacementThreshold()}});var c=function(){};o.extend(c.prototype,{position:0,velocity:0});var h=r.SpringConfig=function(t,e){this.tension=t,this.friction=e},p=r.AnimationLooper=function(){this.springSystem=null;var t=this,e=function(){t.springSystem.loop(Date.now())};this.run=function(){o.onFrame(e)}};r.SimulationLooper=function(t){this.springSystem=null;var e=0,n=!1;t=t||16.667,this.run=function(){if(!n){for(n=!0;!this.springSystem.getIsIdle();)this.springSystem.loop(e+=t);n=!1}}},r.SteppingSimulationLooper=function(t){this.springSystem=null;var e=0;this.run=function(){},this.step=function(t){this.springSystem.loop(e+=t)}};var f=r.OrigamiValueConverter={tensionFromOrigamiValue:function(t){return 3.62*(t-30)+194},origamiValueFromTension:function(t){return(t-194)/3.62+30},frictionFromOrigamiValue:function(t){return 3*(t-8)+25},origamiFromFriction:function(t){return(t-25)/3+8}},d=r.BouncyConversion=function(t,e){this.bounciness=t,this.speed=e;var n=this.normalize(t/1.7,0,20);n=this.projectNormal(n,0,.8);var i=this.normalize(e/1.7,0,20);this.bouncyTension=this.projectNormal(i,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(n,this.b3Nobounce(this.bouncyTension),.01)};o.extend(d.prototype,{normalize:function(t,e,n){return(t-e)/(n-e)},projectNormal:function(t,e,n){return e+t*(n-e)},linearInterpolation:function(t,e,n){return t*n+(1-t)*e},quadraticOutInterpolation:function(t,e,n){return this.linearInterpolation(2*t-t*t,e,n)},b3Friction1:function(t){return 7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28},b3Friction2:function(t){return 44e-6*Math.pow(t,3)-.006*Math.pow(t,2)+.36*t+2},b3Friction3:function(t){return 4.5e-7*Math.pow(t,3)-332e-6*Math.pow(t,2)+.1078*t+5.84},b3Nobounce:function(t){return t<=18?this.b3Friction1(t):t>18&&t<=44?this.b3Friction2(t):this.b3Friction3(t)}}),o.extend(h,{fromOrigamiTensionAndFriction:function(t,e){return new h(f.tensionFromOrigamiValue(t),f.frictionFromOrigamiValue(e))},fromBouncinessAndSpeed:function(t,e){var n=new r.BouncyConversion(t,e);return this.fromOrigamiTensionAndFriction(n.bouncyTension,n.bouncyFriction)},coastingConfigWithOrigamiFriction:function(t){return new h(0,f.frictionFromOrigamiValue(t))}}),h.DEFAULT_ORIGAMI_SPRING_CONFIG=h.fromOrigamiTensionAndFriction(40,7),o.extend(h.prototype,{friction:0,tension:0});var v={};o.hexToRGB=function(t){if(v[t])return v[t];t=t.replace("#",""),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=t.match(/.{2}/g),n={r:parseInt(e[0],16),g:parseInt(e[1],16),b:parseInt(e[2],16)};return v[t]=n,n},o.rgbToHex=function(t,e,n){return t=t.toString(16),e=e.toString(16),n=n.toString(16),t=t.length<2?"0"+t:t,e=e.length<2?"0"+e:e,n=n.length<2?"0"+n:n,"#"+t+e+n};var b=r.MathUtil={mapValueInRange:function(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)},interpolateColor:function(t,e,n,i,r,s){i=void 0===i?0:i,r=void 0===r?1:r,e=o.hexToRGB(e),n=o.hexToRGB(n);var a=Math.floor(o.mapValueInRange(t,i,r,e.r,n.r)),u=Math.floor(o.mapValueInRange(t,i,r,e.g,n.g)),l=Math.floor(o.mapValueInRange(t,i,r,e.b,n.b));return s?"rgb("+a+","+u+","+l+")":o.rgbToHex(a,u,l)},degreesToRadians:function(t){return t*Math.PI/180},radiansToDegrees:function(t){return 180*t/Math.PI}};o.extend(o,b);var g;"undefined"!=typeof window&&(g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}),g||void 0===t||"node"!==t.title||(g=n),o.onFrame=function(t){return g(t)},o.extend(e,r)}()}).call(e,n(9),n(5).setImmediate)}]);