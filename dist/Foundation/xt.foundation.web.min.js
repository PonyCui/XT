!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.NS=e():t.NS=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),i=function(t){function e(e){var r=t.call(this)||this;return r.buffer=e,r}return n(e,t),e.prototype.retain=function(){return this},e.prototype.release=function(){return this},e.initWithString=function(t){for(var r=new ArrayBuffer(t.length),n=new Uint8Array(r),o=0,i=t.length;o<i;o++)n[o]=t.charCodeAt(o);return new e(r)},e.initWithBytes=function(t){return new e(t.buffer)},e.initWithData=function(t){return new e(t.buffer.slice(0))},e.initWithBase64EncodedString=function(t){for(var r=window.atob(t),n=r.length,o=new Uint8Array(n),i=0;i<n;i++)o[i]=r.charCodeAt(i);return new e(o.buffer)},e.initWithBase64EncodedData=function(t){return this.initWithBase64EncodedString(String.fromCharCode.apply(null,new Uint8Array(t.buffer)))},e.prototype.isEqualTo=function(t){var e=new Uint8Array(this.buffer),r=new Uint8Array(t.buffer);return e.length==r.length&&e.every(function(t,e){return t===r[e]})},e.prototype.length=function(){return this.buffer.byteLength},e.prototype.getBytes=function(){return Uint8Array.from(_XTFData.getBytes(this.objectRef))},e.prototype.base64EncodedString=function(){return window.btoa(String.fromCharCode.apply(null,new Uint8Array(this.buffer)))},e.prototype.base64EncodedData=function(){return e.initWithString(this.base64EncodedString())},e.prototype.utf8String=function(){return String.fromCharCode.apply(null,new Uint8Array(this.buffer))},e.prototype.md5=function(){return"undefined"==typeof SparkMD5?(console.error("Please add <script src='https://cdn.jsdelivr.net/npm/spark-md5@3.0.0/spark-md5.min.js'><\/script> to HTML"),""):SparkMD5.ArrayBuffer.hash(this.buffer).toUpperCase()},e.prototype.sha1=function(){return"undefined"==typeof sha1?(console.error("Please add <script src='https://cdn.jsdelivr.net/npm/js-sha1@0.6.0/build/sha1.min.js'><\/script> to HTML"),""):sha1(new Uint8Array(this.buffer)).toUpperCase()},e}(o.Data);e.Data=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=r(9),i=r(3),s=r(5),a=r(7);t.exports={Data:n.Data,FileManager:o.FileManager,Notification:i.Notification,NotificationCenter:i.NotificationCenter,UserDefaults:s.UserDefaults,WebSocket:a.WebSocket}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.retain=function(){throw new Error("Method not implemented.")},t.prototype.release=function(){throw new Error("Method not implemented.")},t.initWithString=function(t){throw Error("Not implemented.")},t.initWithBytes=function(t){throw Error("Not implemented.")},t.initWithData=function(t){throw Error("Not implemented.")},t.initWithBase64EncodedString=function(t){throw Error("Not implemented.")},t.initWithBase64EncodedData=function(t){throw Error("Not implemented.")},t.prototype.isEqualTo=function(t){throw Error("Not implemented.")},t.prototype.length=function(){throw Error("Not implemented.")},t.prototype.getBytes=function(){throw Error("Not implemented.")},t.prototype.base64EncodedString=function(){throw Error("Not implemented.")},t.prototype.base64EncodedData=function(){throw Error("Not implemented.")},t.prototype.utf8String=function(){throw Error("Not implemented.")},t.prototype.md5=function(){throw Error("Not implemented.")},t.prototype.sha1=function(){throw Error("Not implemented.")},t}();e.Data=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(o.Notification);e.Notification=i;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.observers=[],e}return n(e,t),e.prototype.addObserver=function(t,e){var r=performance.now().toString()+"-"+Math.random()+"-"+Math.random();return this.observers.push({name:t,handler:r,triggerBlock:e}),r},e.prototype.removeObserver=function(t){this.observers=this.observers.filter(function(e){return e.handler!==t})},e.prototype.postNotification=function(t,e,r){this.onNotification(t,e,r)},e.prototype.onNotification=function(t,e,r){var n=new i(t,e,r);this.observers.forEach(function(e){e.name===t&&e.triggerBlock(n)})},e.default=new e,e}(o.NotificationCenter);e.NotificationCenter=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,r){this.name=t,this.object=e,this.userInfo=r}return t}();e.Notification=n;var o=function(){function t(){}return t.prototype.addObserver=function(t,e){throw"Not implemented."},t.prototype.removeObserver=function(t){throw"Not implemented."},t.prototype.postNotification=function(t,e,r){throw"Not implemented."},t}();e.NotificationCenter=o},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),i=function(t){function e(e){void 0===e&&(e=void 0);var r=t.call(this,e)||this;return r.suite=e,r}return n(e,t),e.prototype.set=function(t,e){var r=JSON.stringify({forKey:e,suite:this.suite||"Default"});void 0===t?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify({value:t}))},e.prototype.get=function(t){var e=JSON.stringify({forKey:t,suite:this.suite||"Default"});try{return JSON.parse(localStorage.getItem(e)||"{}").value}catch(t){return}},e.standard=new e,e}(o.UserDefaults);e.UserDefaults=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){void 0===t&&(t=void 0)}return t.prototype.set=function(t,e){},t.prototype.get=function(t){},t}();e.UserDefaults=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(8),i=r(0),s=function(t){function e(e){var r=t.call(this,e)||this;return r.socket=new window.WebSocket(e),r.socket.addEventListener("open",function(){r.onOpen&&r.onOpen()}),r.socket.addEventListener("close",function(t,e){r.onClose&&r.onClose(e.code,e.reason)}),r.socket.addEventListener("error",function(t,e){r.onFail&&r.onFail(new Error(e.message))}),r.socket.addEventListener("message",function(t){t.data instanceof ArrayBuffer?r.onMessage&&r.onMessage(i.Data.initWithBytes(new Uint8Array(t.data))):"string"==typeof t.data&&r.onMessage&&r.onMessage(t.data)}),r}return n(e,t),e.prototype.sendData=function(t){this.socket.send(t.buffer)},e.prototype.sendString=function(t){this.socket.send(t)},e.prototype.close=function(){this.socket.close()},e.prototype.retain=function(){return this},e.prototype.release=function(){return this},e}(o.WebSocket);e.WebSocket=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){}return t.prototype.retain=function(){throw new Error("Method not implemented.")},t.prototype.release=function(){throw new Error("Method not implemented.")},t.prototype.sendData=function(t){},t.prototype.sendString=function(t){},t.prototype.close=function(){},t}();e.WebSocket=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),i=r(10),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.writeData=function(t,e){if("undefined"==typeof pako)return console.error("Please add <script src='https://cdn.jsdelivr.net/npm/pako@1.0.6/dist/pako.min.js'><\/script> to HTML"),!1;if(t.buffer.byteLength>102400)return console.error("Can not write data byteLength > 100K."),!1;if(3==this.location)return console.error("Not support sdcard FileManager."),!1;var r=this.buildURL(e);try{return this.storage.setItem(r,pako.deflate(new Uint8Array(t.buffer),{to:"string"})),!0}catch(t){return console.error(t),!1}},e.prototype.readData=function(t){if("undefined"==typeof pako)return void console.error("Please add <script src='https://cdn.jsdelivr.net/npm/pako@1.0.6/dist/pako.min.js'><\/script> to HTML");if(3==this.location)return void console.error("Not support sdcard FileManager.");var e=this.buildURL(t);try{var r=this.storage.getItem(e);return void 0!==r&&null!==r?o.Data.initWithBytes(pako.inflate(r)):void 0}catch(t){return}},e.prototype.isFileExist=function(t){if(3==this.location)return console.error("Not support sdcard FileManager."),!1;var e=this.buildURL(t),r=this.storage.getItem(e);return void 0!==r&&null!==r},e.prototype.deleteFile=function(t){return 3==this.location?(console.error("Not support sdcard FileManager."),!1):(this.storage.removeItem(this.buildURL(t)),!0)},e.prototype.list=function(t){for(var e=this.buildURL(t),r=[],n=0;n<this.storage.length;n++){var o=this.storage.key(n);"string"==typeof o&&0===o.indexOf(e)&&r.push(o.replace(e,""))}return r},Object.defineProperty(e.prototype,"storage",{get:function(){return 2===this.location||1===this.location?sessionStorage:localStorage},enumerable:!0,configurable:!0}),e.prototype.buildURL=function(t){return 0===t.indexOf("/")&&(t=t.substring(1)),0==this.location?"file:///document/"+t:1==this.location?"file:///cache/"+t:2==this.location?"file:///tmp/"+t:"file://404/"},e.document=new e(0),e.cache=new e(1),e.tmp=new e(2),e.sdcard=new e(3),e}(i.FileManager);e.FileManager=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.location=t}return t.prototype.writeData=function(t,e){return!1},t.prototype.readData=function(t){},t.prototype.isFileExist=function(t){return!1},t.prototype.deleteFile=function(t){return!1},t.prototype.list=function(t){return[]},t.document=new t(0),t.cache=new t(1),t.tmp=new t(2),t.sdcard=new t(3),t}();e.FileManager=n}])});