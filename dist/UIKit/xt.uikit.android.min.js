!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.UI=e():t.UI=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=30)}([function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(32),a=i(16),c=i(6),l=i(35),u=i(10),h=i(19),f=i(20);!function(t){t[t.Began=0]="Began",t[t.Changed=1]="Changed",t[t.Ended=2]="Ended",t[t.Cancelled=3]="Cancelled"}(o=e.InteractionState||(e.InteractionState={}));var p;!function(t){t[t.ToLeft=0]="ToLeft",t[t.ToRight=1]="ToRight",t[t.ToTop=2]="ToTop",t[t.ToBottom=3]="ToBottom"}(p=e.SwipeDirection||(e.SwipeDirection={}));var d=function(t){function e(e){void 0===e&&(e=void 0);for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=t.call(this,void 0,!1)||this;if(r._cachingSuperview=void 0,r.autoLayoutViewCache=void 0,r._constraints=[],r.gestureRecongnizers=[],r.multipleTouchEnabled=!1,r.touchManager=new s.TouchManager(r),r._longPressDuration=.5,r._existsSingleTap=!1,r._existsDoubleTap=!1,r._validDoubleTap=!1,r.touchTimestamp=0,"string"==typeof e){if(objectRefs[e])return objectRefs[e];r.objectRef=e}else if("function"==typeof e){for(var o=[],a=0;a<arguments.length;a++)a>0&&o.push(arguments[a]);r.objectRef=e.apply(r,o)}else r.objectRef="object"==typeof e&&null!==e?e.create():_XTUIView.create();return objectRefs[r.objectRef]=r,r}return n(e,t),e.prototype.toString=function(){return JSON.stringify(this.toObject())},e.prototype.toObject=function(){return{class:"UI.View",frame:this.frame,transform:this.transform,clipsToBounds:this.clipsToBounds,backgroundColor:this.backgroundColor,alpha:this.alpha,opaque:this.opaque,hidden:this.hidden,cornerRadius:this.cornerRadius,borderWidth:this.borderWidth,borderColor:this.borderColor,shadowColor:this.shadowColor,shadowOpacity:this.shadowOpacity,shadowOffset:this.shadowOffset,shadowRadius:this.shadowRadius,tag:this.tag,subviews:this.subviews.map(function(t){return t.toObject()}),userInteractionEnabled:this.userInteractionEnabled}},Object.defineProperty(e.prototype,"frame",{get:function(){return this._cachingFrame?r({},this._cachingFrame):_XTUIView.xtr_frame(this.objectRef)},set:function(t){this._cachingFrame&&this._cachingFrame.x==t.x&&this._cachingFrame.y==t.y&&this._cachingFrame.width==t.width&&this._cachingFrame.height==t.height||(this._cachingFrame=t,_XTUIView.xtr_setFrame(t,this.objectRef))},enumerable:!0,configurable:!0}),e.prototype.handleFrameChange=function(){this._cachingFrame=void 0},Object.defineProperty(e.prototype,"bounds",{get:function(){return this._cachingFrame?r({},this._cachingFrame,{x:0,y:0}):_XTUIView.xtr_bounds(this.objectRef)},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return{x:this.frame.x+this.frame.width/2,y:this.frame.y+this.frame.height/2}},set:function(t){var e=r({},this.frame);e.x=t.x-e.width/2,e.y=t.y-e.height/2,this.frame=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this._cachingTransform?this._cachingTransform:_XTUIView.xtr_transform(this.objectRef)},set:function(t){this._cachingTransform=t,_XTUIView.xtr_setTransform(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.handleTransformChange=function(){this._cachingTransform=void 0},Object.defineProperty(e.prototype,"clipsToBounds",{get:function(){return _XTUIView.xtr_clipsToBounds(this.objectRef)},set:function(t){_XTUIView.xtr_setClipsToBounds(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return _XTUIView.xtr_backgroundColor(this.objectRef)},set:function(t){_XTUIView.xtr_setBackgroundColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return _XTUIView.xtr_alpha(this.objectRef)},set:function(t){_XTUIView.xtr_setAlpha(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opaque",{get:function(){return _XTUIView.xtr_opaque(this.objectRef)},set:function(t){_XTUIView.xtr_setOpaque(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return _XTUIView.xtr_hidden(this.objectRef)},set:function(t){_XTUIView.xtr_setHidden(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintColor",{get:function(){return _XTUIView.xtr_tintColor(this.objectRef)},set:function(t){_XTUIView.xtr_setTintColor(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.tintColorDidChange=function(){},e.prototype.setNeedsDisplay=function(){},Object.defineProperty(e.prototype,"cornerRadius",{get:function(){return _XTUIView.xtr_cornerRadius(this.objectRef)},set:function(t){_XTUIView.xtr_setCornerRadius(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderWidth",{get:function(){return _XTUIView.xtr_borderWidth(this.objectRef)},set:function(t){_XTUIView.xtr_setBorderWidth(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return _XTUIView.xtr_borderColor(this.objectRef)},set:function(t){_XTUIView.xtr_setBorderColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return _XTUIView.xtr_shadowColor(this.objectRef)},set:function(t){_XTUIView.xtr_setShadowColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowOpacity",{get:function(){return _XTUIView.xtr_shadowOpacity(this.objectRef)},set:function(t){_XTUIView.xtr_setShadowOpacity(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowOffset",{get:function(){return _XTUIView.xtr_shadowOffset(this.objectRef)},set:function(t){_XTUIView.xtr_setShadowOffset(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowRadius",{get:function(){return _XTUIView.xtr_shadowRadius(this.objectRef)},set:function(t){_XTUIView.xtr_setShadowRadius(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return _XTUIView.xtr_tag(this.objectRef)},set:function(t){_XTUIView.xtr_setTag(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"superview",{get:function(){if(void 0!==this._cachingSuperview)return null===this._cachingSuperview?void 0:this._cachingSuperview;var t=_XTUIView.xtr_superview(this.objectRef);if("string"==typeof t)return this._cachingSuperview=new e(t),this._cachingSuperview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subviews",{get:function(){return(_XTUIView.xtr_subviews(this.objectRef)||[]).map(function(t){if("string"==typeof t)return new e(t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){var t=_XTUIView.xtr_window(this.objectRef);if("string"==typeof t)return new UI.Window(t)},enumerable:!0,configurable:!0}),e.prototype.removeFromSuperview=function(){_XTUIView.xtr_removeFromSuperview(this.objectRef)},e.prototype.insertSubviewAtIndex=function(t,e){_XTUIView.xtr_insertSubviewAtIndex(t.objectRef,e,this.objectRef)},e.prototype.exchangeSubviewAtIndex=function(t,e){_XTUIView.exchangeSubviewAtIndex(t,e,this.objectRef)},e.prototype.addSubview=function(t){_XTUIView.xtr_addSubview(t.objectRef,this.objectRef)},e.prototype.insertSubviewBelow=function(t,e){_XTUIView.xtr_insertSubviewBelow(t.objectRef,e.objectRef,this.objectRef)},e.prototype.insertSubviewAbove=function(t,e){_XTUIView.xtr_insertSubviewAbove(t.objectRef,e.objectRef,this.objectRef)},e.prototype.bringSubviewToFront=function(t){_XTUIView.xtr_bringSubviewToFront(t.objectRef,this.objectRef)},e.prototype.sendSubviewToBack=function(t){_XTUIView.xtr_sendSubviewToBack(t.objectRef,this.objectRef)},e.prototype._didAddSubview=function(t){this.didAddSubview(new e(t))},e.prototype._willRemoveSubview=function(t){this.willRemoveSubview(new e(t))},e.prototype._willMoveToSuperview=function(t){this.willMoveToSuperview(t?new e(t):void 0)},e.prototype._didMoveToSuperview=function(){this.didMoveToSuperview()},e.prototype._willMoveToWindow=function(t){this.willMoveToWindow(t?new e(t):void 0)},e.prototype._didMoveToWindow=function(){this.didMoveToWindow()},e.prototype.didAddSubview=function(t){},e.prototype.willRemoveSubview=function(t){},e.prototype.willMoveToSuperview=function(t){this._cachingSuperview=t},e.prototype.didMoveToSuperview=function(){},e.prototype.willMoveToWindow=function(t){},e.prototype.didMoveToWindow=function(){},e.prototype.isDescendantOfView=function(t){return _XTUIView.xtr_isDescendantOfView(t.objectRef,this.objectRef)},e.prototype.viewWithTag=function(t){var i=_XTUIView.xtr_viewWithTag(t,this.objectRef);if("string"==typeof i)return new e(i)},e.prototype.setNeedsLayout=function(){_XTUIView.xtr_setNeedsLayout(this.objectRef)},e.prototype.recursiveSetNeedLayout=function(){for(var t=this;t;)t.setNeedsLayout(),t=t.superview},e.prototype.layoutIfNeeded=function(){_XTUIView.xtr_layoutIfNeeded(this.objectRef)},e.prototype.layoutSubviews=function(){var t=this;if(this._constraints.length>0){var e={};this._constraints.forEach(function(t){void 0!==t.firstItem&&(e[t.firstItem.objectRef]=t.firstItem),void 0!==t.secondItem&&(e[t.secondItem.objectRef]=t.secondItem)});var i=this.autoLayoutViewCache||function(){var e=t._constraints.map(function(t){return t.toALObject()});return f.VisualFormat.parse("HV:|[_]|",{extended:!0}).forEach(function(t){return e.push(t)}),t.autoLayoutViewCache=new f.View({constraints:e}),t.autoLayoutViewCache}();i.setSize(this.bounds.width,this.bounds.height);for(var n in i.subViews){var r=i.subViews[n];if(void 0!==e[n]&&(0==r.width||0==r.height)){var o=e[n].intrinsicContentSize(0!=r.width?r.width:void 0);void 0!==o&&null!==o&&(r.intrinsicWidth=0!=r.width?void 0:o.width,r.intrinsicHeight=0!=r.height?void 0:o.height)}}for(var n in i.subViews){var r=i.subViews[n];if(void 0!==e[n]){if(e[n]==this)continue;e[n].frame={x:r.left,y:r.top,width:r.width,height:r.height}}}}},Object.defineProperty(e.prototype,"constraints",{get:function(){return this._constraints},enumerable:!0,configurable:!0}),e.prototype.intrinsicContentSize=function(t){return _XTUIView.xtr_intrinsicContentSize(t||1/0,this.objectRef)},e.prototype.addConstraint=function(t){this._constraints.push(t)},e.prototype.addConstraints=function(t){var e=this;t.forEach(function(t){return e._constraints.push(t)})},e.prototype.removeConstraint=function(t){var e=this._constraints.indexOf(t);e>=0&&this._constraints.splice(e,1)},e.prototype.removeAllConstraints=function(){this._constraints=[]},Object.defineProperty(e.prototype,"userInteractionEnabled",{get:function(){return _XTUIView.xtr_userInteractionEnabled(this.objectRef)},set:function(t){_XTUIView.xtr_setUserInteractionEnabled(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.hitTest=function(t){var i=void 0;if(!0!==this.hidden&&this.alpha>0&&1==this.userInteractionEnabled&&a.isPointInside(t,this)){i=this;for(var n=this.subviews,r=n.length-1;r>=0;r--){var o=n[r];if(o instanceof e){var s=o.hitTest(a.convertPointToChildView(t,this,o));if(s){i=s;break}}}}return i},e.prototype.handlePointerDown=function(t,e,i){this.touchManager.handlePointerDown(t,e,i.x,i.y)},e.prototype.handlePointersMove=function(t,e,i){this.touchManager.handlePointersMove(t,e,i)},e.prototype.handlePointerUp=function(t,e,i,n){this.touchManager.handlePointerUp(t,e,i.x,i.y,n.x,n.y)},e.prototype.touchesBegan=function(t,e){this.touchTimestamp=t[0].timestamp,c.GestureManager.onTouchesBegan(this,t,e)},e.prototype.touchesMoved=function(t,e){this.touchTimestamp=t[0].timestamp,c.GestureManager.onTouchesMoved(this,t,e)},e.prototype.touchesEnded=function(t,e){this.touchTimestamp=t[0].timestamp,c.GestureManager.onTouchesEnded(this,t,e)},e.prototype.touchesCancelled=function(t,e){this.touchTimestamp=t[0].timestamp,c.GestureManager.onTouchesCancelled(this,t,e)},Object.defineProperty(e.prototype,"longPressDuration",{get:function(){return this._longPressDuration},set:function(t){this._longPressDuration=t,this.gestureRecongnizers.forEach(function(e){e instanceof u.LongPressGestureRecognizer&&(e.minimumPressDuration=t)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTap",{set:function(t){var e=this;this._existsSingleTap=!0;var i=new l.TapGestureRecognizer;i.owner=this,i.fire=function(){e._existsDoubleTap?(e._validDoubleTap=!1,setTimeout(function(){e._validDoubleTap||t&&t()},400)):t&&t()},this.gestureRecongnizers.push(i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDoubleTap",{set:function(t){var e=this;this._existsDoubleTap=!0;var i=new l.TapGestureRecognizer;i.owner=this,i.tapsRequired=2,i.fire=function(){e._existsSingleTap&&(e._validDoubleTap=!0),t&&t()},this.gestureRecongnizers.push(i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLongPress",{set:function(t){var e=new u.LongPressGestureRecognizer;e.owner=this,e.minimumPressDuration=this._longPressDuration,e.fire=function(i,n){var r=o.Began;switch(i){case c.GestureRecognizerState.Began:r=o.Began;break;case c.GestureRecognizerState.Changed:r=o.Changed;break;case c.GestureRecognizerState.Ended:r=o.Ended;break;case c.GestureRecognizerState.Cancelled:r=o.Cancelled}t&&t(r,e.locationInView.bind(e),n)},this.gestureRecongnizers.push(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onPan",{set:function(t){var e=new h.PanGestureRecognizer;e.owner=this,e.fire=function(i,n){var r=o.Began;switch(i){case c.GestureRecognizerState.Began:r=o.Began;break;case c.GestureRecognizerState.Changed:r=o.Changed;break;case c.GestureRecognizerState.Ended:r=o.Ended;break;case c.GestureRecognizerState.Cancelled:r=o.Cancelled}t&&t(r,e.locationInView.bind(e),n,e.velocity,e.translation)},this.gestureRecongnizers.push(e)},enumerable:!0,configurable:!0}),e.animationWithDuration=function(t,e,i){_XTUIView.xtr_animationWithDuration(t,e,i||function(){})},e.animationWithBouncinessAndSpeed=function(t,e,i,n){_XTUIView.xtr_animationWithBouncinessAndSpeed(t,e,i,n||function(){})},e.InteractionState=o,e.SwipeDirection=p,e}(XT.BaseObject);e.View=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i,n){this.r=Math.min(1,Math.max(0,t)),this.g=Math.min(1,Math.max(0,e)),this.b=Math.min(1,Math.max(0,i)),this.a=void 0==n?1:Math.min(1,Math.max(0,n))}return t.prototype.rgbHexNumber=function(){var t=Math.ceil(255*this.r).toString(16),e=Math.ceil(255*this.g).toString(16),i=Math.ceil(255*this.b).toString(16);return parseInt("0x"+(t.length<2?"0"+t:t)+(e.length<2?"0"+e:e)+(i.length<2?"0"+i:i))},t.prototype.rgbHexString=function(){var t=Math.ceil(255*this.r).toString(16),e=Math.ceil(255*this.g).toString(16),i=Math.ceil(255*this.b).toString(16);return"#"+(t.length<2?"0"+t:t)+(e.length<2?"0"+e:e)+(i.length<2?"0"+i:i)},t.prototype.equals=function(e){return e instanceof t&&(this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a)},t.colorWithWhite=function(e,i){return new t(e,e,e,i)},t.colorWithHex=function(e){var i=e.replace("#","").trim();return 6==i.length?new t(parseInt("0x"+i.substring(0,2))/255,parseInt("0x"+i.substring(2,4))/255,parseInt("0x"+i.substring(4,6))/255,1):8==i.length?new t(parseInt("0x"+i.substring(2,4))/255,parseInt("0x"+i.substring(4,6))/255,parseInt("0x"+i.substring(6,8))/255,parseInt("0x"+i.substring(0,2))/255):t.clearColor},t.whiteColor=new t(1,1,1),t.blackColor=new t(0,0,0),t.clearColor=new t(0,0,0,0),t.redColor=new t(1,0,0),t.yellowColor=new t(1,1,0),t.greenColor=new t(0,1,0),t.blueColor=new t(0,0,1),t.brownColor=new t(.6,.4,.2),t.cyanColor=new t(0,1,1),t.darkGrayColor=new t(.33,.33,.33),t.grayColor=new t(.5,.5,.5),t.lightGrayColor=new t(.66,.66,.66),t.magentaColor=new t(1,0,1),t.orangeColor=new t(1,.5,0),t.purpleColor=new t(.5,0,.5),t}();e.Color=n},function(t,e,i){"use strict";function n(t,e){return{x:t,y:e}}function r(t,e){return t.x===e.x&&t.y===e.y}function o(t,e){return{width:t,height:e}}function s(t,e){return t.width===e.width&&t.height===e.height}function a(t,e,i,n){return{x:t,y:e,width:i,height:n}}function c(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function l(t,e){return e.x>t.x&&e.x+e.width<t.x+t.width&&e.y>t.y&&e.y+e.height<t.y+t.height}function u(t,e,i,n){return{top:t,left:e,bottom:i,right:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.PointMake=n,e.PointEqual=r,e.PointZero=n(0,0),e.SizeMake=o,e.SizeEqual=s,e.SizeZero=o(0,0),e.RectMake=a,e.RectZero=a(0,0,0,0),e.RectEqual=c,e.RectInside=l,e.InsetsMake=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r;!function(t){t[t.Began=0]="Began",t[t.Changed=1]="Changed",t[t.Ended=2]="Ended",t[t.Cancelled=3]="Cancelled"}(r=e.InteractionState||(e.InteractionState={}));var o;!function(t){t[t.ToLeft=0]="ToLeft",t[t.ToRight=1]="ToRight",t[t.ToTop=2]="ToTop",t[t.ToBottom=3]="ToBottom"}(o=e.SwipeDirection||(e.SwipeDirection={}));var s=function(t){function e(e){void 0===e&&(e=void 0);for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return t.call(this)||this}return n(e,t),e.prototype.tintColorDidChange=function(){},e.prototype.removeFromSuperview=function(){},e.prototype.insertSubviewAtIndex=function(t,e){},e.prototype.exchangeSubviewAtIndex=function(t,e){},e.prototype.addSubview=function(t){},e.prototype.insertSubviewBelow=function(t,e){},e.prototype.insertSubviewAbove=function(t,e){},e.prototype.bringSubviewToFront=function(t){},e.prototype.sendSubviewToBack=function(t){},e.prototype.didAddSubview=function(t){},e.prototype.willRemoveSubview=function(t){},e.prototype.willMoveToSuperview=function(t){},e.prototype.didMoveToSuperview=function(){},e.prototype.willMoveToWindow=function(t){},e.prototype.didMoveToWindow=function(){},e.prototype.isDescendantOfView=function(t){return!1},e.prototype.viewWithTag=function(t){},e.prototype.setNeedsLayout=function(){},e.prototype.layoutIfNeeded=function(){},e.prototype.layoutSubviews=function(){},e.prototype.setNeedsDisplay=function(){},e.prototype.addConstraint=function(t){},e.prototype.addConstraints=function(t){},e.prototype.removeConstraint=function(t){},e.prototype.removeAllConstraints=function(){},e.animationWithDuration=function(t,e,i){},e.animationWithTensionAndFriction=function(t,e,i,n){},e.animationWithBouncinessAndSpeed=function(t,e,i,n){},e.animationWithDurationDampingVelocity=function(t,e,i,n,r){},e.InteractionState=r,e.SwipeDirection=o,e}(XT.BaseObject);e.View=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,i,n,r){void 0===i&&(i="400"),void 0===n&&(n="normal");var o=t.call(this,void 0,!1)||this;if("string"==typeof e){if(objectRefs[e])return objectRefs[e];o.objectRef=e}else o.objectRef=_XTUIFont.create(e||14,i||"400",n||"normal",r||"");return objectRefs[o.objectRef]=o,o}return n(e,t),e.systemFontOfSize=function(t,i){return void 0===i&&(i="400"),new e(t,i)},e.boldSystemFontOfSize=function(t){return new e(t,"700")},e.italicSystemFontOfSize=function(t){return new e(t,"400","italic")},e.prototype.toObject=function(){return{class:"UI.Font",familyName:this.familyName,pointSize:this.pointSize,fontWeight:this.fontWeight,fontStyle:this.fontStyle}},Object.defineProperty(e.prototype,"familyName",{get:function(){return _XTUIFont.xtr_familyName(this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointSize",{get:function(){return _XTUIFont.xtr_pointSize(this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return _XTUIFont.xtr_fontWeight(this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return _XTUIFont.xtr_fontStyle(this.objectRef)},enumerable:!0,configurable:!0}),e}(XT.BaseObject);e.Font=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(0),a=i(1),c=i(11),l=i(9),u=i(21),h=i(8);!function(t){t[t.None=0]="None",t[t.Pan=1]="Pan"}(o=e.KeyboardAvoidingMode||(e.KeyboardAvoidingMode={}));!function(t){t[t.None=0]="None",t[t.AndroidLight=1]="AndroidLight",t[t.AndroidDark=2]="AndroidDark"}(e.ViewControllerLayoutOptions||(e.ViewControllerLayoutOptions={}));var f=function(t){function e(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=t.call(this,void 0,!1)||this;if(r._title="",r._navigationBar=void 0,r._supportOrientations=[c.DeviceOrientation.Portrait],"string"==typeof e){if(objectRefs[e])return objectRefs[e];r.objectRef=e}else if("function"==typeof e){for(var o=[],s=0;s<arguments.length;s++)s>0&&o.push(arguments[s]);r.objectRef=e.apply(r,o)}else r.objectRef="object"==typeof e?e.create():_XTUIViewController.create();return objectRefs[r.objectRef]=r,r.loadView(),r}return n(e,t),e.prototype.toObject=function(){return{class:"UI.ViewController",title:this.title,view:this.view,safeAreaInsets:this.safeAreaInsets,keyboardAvoidingMode:this.keyboardAvoidingMode,supportOrientations:this.supportOrientations}},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.navigationBar.title=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutOptions",{get:function(){return this._layoutOptions},set:function(t){this._layoutOptions=t,_XTUIViewController.xtr_setLayoutOptions(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return new s.View(_XTUIViewController.xtr_view(this.objectRef))},set:function(t){_XTUIViewController.xtr_setView(t.objectRef,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"safeAreaInsets",{get:function(){return _XTUIViewController.xtr_safeAreaInsets(this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.loadView=function(){var t=new s.View;t.backgroundColor=a.Color.whiteColor,t.userInteractionEnabled=!0,this.view=t},e.prototype.viewDidLoad=function(){},e.prototype.viewWillAppear=function(){this.childViewControllers.map(function(t){return t.viewWillAppear()})},e.prototype.viewDidAppear=function(){this.childViewControllers.map(function(t){return t.viewDidAppear()})},e.prototype.viewWillDisappear=function(){this.childViewControllers.map(function(t){return t.viewWillDisappear()})},e.prototype.viewDidDisappear=function(){this.childViewControllers.map(function(t){return t.viewDidDisappear()})},e.prototype.viewWillLayoutSubviews=function(){this.navigationBar.reload()},e.prototype.viewDidLayoutSubviews=function(){},Object.defineProperty(e.prototype,"parentViewController",{get:function(){var t=_XTUIViewController.xtr_parentViewController(this.objectRef);if("string"==typeof t)return new e(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childViewControllers",{get:function(){return _XTUIViewController.xtr_childViewControllers(this.objectRef).map(function(t){return new e(t)})},enumerable:!0,configurable:!0}),e.prototype.addChildViewController=function(t){_XTUIViewController.xtr_addChildViewController(t.objectRef,this.objectRef)},e.prototype.removeFromParentViewController=function(){_XTUIViewController.xtr_removeFromParentViewController(this.objectRef)},e.prototype._willMoveToParentViewController=function(t){this.willMoveToParentViewController("string"==typeof t?new e(t):void 0)},e.prototype.willMoveToParentViewController=function(t){},e.prototype._didMoveToParentViewController=function(t){this.didMoveToParentViewController("string"==typeof t?new e(t):void 0)},e.prototype.didMoveToParentViewController=function(t){t&&this.navigationBar.reload()},Object.defineProperty(e.prototype,"navigationController",{get:function(){var t=_XTUIViewController.xtr_navigationController(this.objectRef);if("string"==typeof t)return new UI.NavigationController(void 0,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"navigationBar",{get:function(){return this._navigationBar?this._navigationBar:(this._navigationBar=new u.NavigationBar,_XTUIViewController.xtr_setNavigationBar(this._navigationBar.objectRef,this.objectRef),this._navigationBar.delegate=this,this._navigationBar)},set:function(t){this._navigationBar=t},enumerable:!0,configurable:!0}),e.prototype.showNavigationBar=function(t){void 0===t&&(t=!1),void 0===this.navigationBar&&(this.navigationBar=new u.NavigationBar),this.reloadNavigationBar(),_XTUIViewController.xtr_showNavigationBar(t,this.objectRef)},e.prototype.hideNavigationBar=function(t){void 0===t&&(t=!1),_XTUIViewController.xtr_hideNavigationBar(t,this.objectRef)},e.prototype.onBack=function(){this.navigationController&&this.navigationController.popViewController(!0)},e.prototype.reloadNavigationBar=function(){this.navigationBar.reload()},e.prototype.shouldShowBackButton=function(){return!0===_XTUIViewController.xtr_showBackButton(this.objectRef)||!!(this.navigationController&&this.navigationController.childViewControllers.indexOf(this)>0)},e.prototype.keyboardAvoidingMode=function(){return o.None},e.prototype.presentViewController=function(t,e){void 0===e&&(e=!0),_XTUIViewController.xtr_presentViewController(t.objectRef,e,this.objectRef)},e.prototype.dismissViewController=function(t){void 0===t&&(t=!0),_XTUIViewController.xtr_dismissViewController(t,this.objectRef)},e.prototype.makeKeyboardAvoiding=function(t,e){var i=this;if(this.keyboardAvoidingMode()==o.Pan&&this.view.window){var n=this.view.window.firstResponder;if(n&&n.isDescendantOfView(this.view)){for(var a=void 0,c=n.frame,u=n.superview;u instanceof s.View;){if(c.x+=u.frame.x,c.y+=u.frame.y,u instanceof h.ScrollView){a=u;break}u=u.superview}if(a)s.View.animationWithDuration(e,function(){a&&a.scrollRectToVisible(r({},c,{height:c.height+t}),!1)});else{var f=this.view.window.bounds,p=Math.max(0,c.y+c.height-(f.height-t));s.View.animationWithDuration(e,function(){i.view.transform=new l.TransformMatrix(1,0,0,1,0,-p)})}}}},e.prototype.keyboardWillShow=function(t,e){this.childViewControllers.forEach(function(i){return i.keyboardWillShow(t,e)}),this.makeKeyboardAvoiding(t.height,e)},e.prototype.keyboardWillHide=function(t){this.childViewControllers.forEach(function(e){return e.keyboardWillHide(t)}),this.makeKeyboardAvoiding(0,t)},Object.defineProperty(e.prototype,"supportOrientations",{get:function(){return this._supportOrientations},set:function(t){this._supportOrientations=t,_XTUIViewController.xtr_setSupportOrientations(t,this.objectRef)},enumerable:!0,configurable:!0}),e}(XT.BaseObject);e.ViewController=f},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Possible=0]="Possible",t[t.Began=1]="Began",t[t.Changed=2]="Changed",t[t.Ended=3]="Ended",t[t.Cancelled=4]="Cancelled",t[t.Failed=5]="Failed",t[t.Recognized=3]="Recognized"}(e.GestureRecognizerState||(e.GestureRecognizerState={}));var i=function(){function e(){}return e.onTrigger=function(t){return!(this.activeGesture&&!this.activeGesture.cancellable)&&(this.activeGesture&&this.activeGesture.cancellable&&this.activeGesture.touchesCancelled(this.activeGesture.owner,[],{},void 0,void 0),this.activeGesture=t,!0)},e.onRelease=function(){var e=this;t(function(){e.activeGesture=void 0})},e.onTouchesBegan=function(t,e,i){if(void 0===this.activeGesture||this.activeGesture.cancellable)for(var n=0;n<t.gestureRecongnizers.length;n++){var r=t.gestureRecongnizers[n];if(r.enabled&&r.touchesBegan(t,e,i,this.onTrigger.bind(this))){this.activeGesture&&this.activeGesture.cancellable&&this.activeGesture.touchesCancelled(this.activeGesture.owner,[],{},void 0,void 0),this.activeGesture=r;break}}},e.onTouchesMoved=function(t,e,i){if(void 0===this.activeGesture||(this.isOwnerEqual(this.activeGesture.owner,t)&&this.activeGesture.touchesMoved(t,e,i,this.onTrigger.bind(this),this.onRelease.bind(this)),this.activeGesture.cancellable))for(var n=0;n<t.gestureRecongnizers.length;n++){var r=t.gestureRecongnizers[n];if(r.enabled&&r.touchesMoved(t,e,i,this.onTrigger.bind(this))){this.activeGesture&&this.activeGesture.cancellable&&this.activeGesture.touchesCancelled(this.activeGesture.owner,[],{},void 0,void 0),this.activeGesture=r;break}}},e.onTouchesEnded=function(t,i,n){var r=this;if(e.activeTimerHanders.forEach(function(t){return clearTimeout(t)}),e.activeTimerHanders=[],void 0!==this.activeGesture)return this.isOwnerEqual(this.activeGesture.owner,t)&&this.activeGesture.touchesEnded(t,i,n,this.onTrigger.bind(this),this.onRelease.bind(this)),void setTimeout(function(){r.activeGesture=void 0},0);for(var o=0;o<t.gestureRecongnizers.length;o++){var s=t.gestureRecongnizers[o];if(s.enabled&&s.touchesEnded(t,i,n,this.onTrigger.bind(this),this.onRelease.bind(this))){this.activeGesture=s;break}}},e.onTouchesCancelled=function(t,e,i){if(void 0!==this.activeGesture)return void(this.isOwnerEqual(this.activeGesture.owner,t)&&this.activeGesture.touchesCancelled(t,e,i,this.onTrigger.bind(this),this.onRelease.bind(this)));for(var n=0;n<t.gestureRecongnizers.length;n++){var r=t.gestureRecongnizers[n];r.enabled&&r.touchesCancelled(t,e,i,this.onTrigger.bind(this))}},e.isOwnerEqual=function(t,e){return t==e||"object"==typeof t&&"object"==typeof e&&"string"==typeof t.objectRef&&"string"==typeof e.objectRef&&t.objectRef===e.objectRef},e.activeTimerHanders=[],e.touchCalled=!1,e}();e.GestureManager=i}).call(e,i(17).setImmediate)},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o,s=i(0);!function(t){t[t.Automatic=0]="Automatic",t[t.Original=1]="Original",t[t.Template=2]="Template"}(o=e.ImageRenderingMode||(e.ImageRenderingMode={}));var a=function(t){function e(e){var i=t.call(this,void 0,!1)||this;return i.renderingMode=o.Original,i.objectRef=e,i}return n(e,t),e.fromURL=function(t,i,n){_XTUIImage.xtr_fromURL(t,function(t){"string"==typeof t&&i(new e(t))},function(){n&&n(new Error)})},e.fromBase64=function(t,i){var n=_XTUIImage.xtr_fromBase64(t,i);return"string"==typeof n?new e(n):void 0},e.prototype.toObject=function(){return{class:"UI.Image",size:this.size,renderingMode:this.renderingMode}},e.prototype.imageWithImageRenderingMode=function(t){var i=_XTUIImage.xtr_imageWithImageRenderingMode(this.objectRef,t);return"string"==typeof i?new e(i):this},e}(XT.BaseObject);e.Image=a;!function(t){t[t.ScaleToFill=0]="ScaleToFill",t[t.ScaleAspectFit=1]="ScaleAspectFit",t[t.ScaleAspectFill=2]="ScaleAspectFill"}(e.ContentMode||(e.ContentMode={}));var c=function(t){function e(e){return t.call(this,e||_XTUIImageView)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.ImageView",image:this.image})},Object.defineProperty(e.prototype,"image",{get:function(){var t=_XTUIImageView.xtr_image(this.objectRef);return"string"==typeof t?new a(t):void 0},set:function(t){_XTUIImageView.xtr_setImage(t?t.objectRef:"",this.objectRef),this.recursiveSetNeedLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentMode",{get:function(){return _XTUIImageView.xtr_contentMode(this.objectRef)},set:function(t){_XTUIImageView.xtr_setContentMode(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.intrinsicContentSize=function(e){return this.image?this.image.size:t.prototype.intrinsicContentSize.call(this,e)},e.prototype.loadImage=function(t,e){void 0===e&&(e=!0),_XTUIImageView.xtr_loadImage(t,e,this.objectRef)},e}(s.View);e.ImageView=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(2),a=i(1),c=i(19),l=i(36),u=function(t){function e(e){var i=t.call(this,e||_XTUIScrollView)||this;return i.previousAbsLocation={x:0,y:0},i.decelarating=!1,i._contentSize=s.SizeZero,i._contentInset=s.InsetsMake(0,0,0,0),i._isDirectionalLockEnabled=!0,i._isPagingEnabled=!1,i._isScrollEnabled=!0,i._bounces=!1,i._showsHorizontalScrollIndicator=!0,i._showsVerticalScrollIndicator=!0,i._alwaysBounceVertical=!1,i._alwaysBounceHorizontal=!1,i._tracking=!1,i._indicatorHidingTimer=0,i._restoreInteractiveChildrenTimer=0,i._indicatorShowed=!1,i.innerView=new o.View(_XTUIScrollView.xtr_innerView(i.objectRef)),i.horizontalScrollIndicator=new o.View(_XTUIScrollView.xtr_horizontalScrollIndicator(i.objectRef)),i.horizontalScrollIndicator.backgroundColor=new a.Color(143/255,143/255,144/255),i.horizontalScrollIndicator.cornerRadius=1,i.horizontalScrollIndicator.alpha=0,i.verticalScrollIndicator=new o.View(_XTUIScrollView.xtr_verticalScrollIndicator(i.objectRef)),i.verticalScrollIndicator.backgroundColor=new a.Color(143/255,143/255,144/255),i.verticalScrollIndicator.cornerRadius=1,i.verticalScrollIndicator.alpha=0,i.resetScroller(),i.setupTouches(),i}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.ScrollView",contentOffset:this.contentOffset,contentSize:this.contentSize,isDirectionalLockEnabled:this.isDirectionalLockEnabled,bounces:this.bounces,isPagingEnabled:this.isPagingEnabled,isScrollEnabled:this.isScrollEnabled,showsHorizontalScrollIndicator:this.showsHorizontalScrollIndicator,showsVerticalScrollIndicator:this.showsVerticalScrollIndicator,alwaysBounceVertical:this.alwaysBounceVertical,alwaysBounceHorizontal:this.alwaysBounceHorizontal})},e.prototype.setupTouches=function(){var t=this;this.onPan=function(e,i,n,s){if(n){var a={x:-(n.x-t.previousAbsLocation.x),y:-(n.y-t.previousAbsLocation.y)};t.previousAbsLocation=r({},n),e==o.InteractionState.Began?t.scroller._beginDragging():e==o.InteractionState.Changed?t.scroller._dragBy(a):e!=o.InteractionState.Ended&&e!=o.InteractionState.Cancelled||s&&t.scroller._endDraggingWithDecelerationVelocity({x:Math.abs(s.x)<160?0:-s.x,y:Math.abs(s.y)<160?0:-s.y})}}},Object.defineProperty(e.prototype,"contentSize",{get:function(){return this._contentSize},set:function(t){this._contentSize=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentInset",{get:function(){return this._contentInset},set:function(t){this._contentInset=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentOffset",{get:function(){return _XTUIScrollView.xtr_contentOffset(this.objectRef)},set:function(t){_XTUIScrollView.xtr_setContentOffset(t,this.objectRef),this.innerView._originOffset=t,this.scrollerDidScroll()},enumerable:!0,configurable:!0}),e.prototype.setContentOffset=function(t,e){var i=this;e?o.View.animationWithBouncinessAndSpeed(0,8,function(){i.contentOffset=t}):this.contentOffset=t},e.prototype.scrollRectToVisible=function(t,e){var i=r({},this.contentOffset);t.x<this.contentOffset.x?i.x=t.x:t.x+t.width>this.contentOffset.x+this.bounds.width&&(i.x=t.x+t.width-this.bounds.width),t.y<this.contentOffset.y?i.y=t.y:t.y+t.height>this.contentOffset.y+this.bounds.height&&(i.y=t.y+t.height-this.bounds.height),i.x=Math.max(0,Math.min(this.contentSize.width-this.bounds.width,i.x)),i.y=Math.max(0,Math.min(this.contentSize.height-this.bounds.height,i.y)),this.setContentOffset(i,e)},Object.defineProperty(e.prototype,"isDirectionalLockEnabled",{get:function(){return this._isDirectionalLockEnabled},set:function(t){this._isDirectionalLockEnabled=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPagingEnabled",{get:function(){return this._isPagingEnabled},set:function(t){this._isPagingEnabled=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isScrollEnabled",{get:function(){return this._isScrollEnabled},set:function(t){this._isScrollEnabled=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounces",{get:function(){return this._bounces},set:function(t){this._bounces=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showsHorizontalScrollIndicator",{get:function(){return this._showsHorizontalScrollIndicator},set:function(t){this._showsHorizontalScrollIndicator=t,this.horizontalScrollIndicator.hidden=!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showsVerticalScrollIndicator",{get:function(){return this._showsVerticalScrollIndicator},set:function(t){this._showsVerticalScrollIndicator=t,this.verticalScrollIndicator.hidden=!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysBounceVertical",{get:function(){return this._alwaysBounceVertical},set:function(t){this._alwaysBounceVertical=t,this.resetScroller()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alwaysBounceHorizontal",{get:function(){return this._alwaysBounceHorizontal},set:function(t){this._alwaysBounceHorizontal=t,this.resetScroller()},enumerable:!0,configurable:!0}),e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.innerView.frame=this.bounds,this.resetScroller()},e.prototype.resetScroller=function(){void 0===this.scroller&&(this.scroller=new l.Scroller(this)),this.scroller.contentSize=this.contentSize,this.scroller.contentInset=this.contentInset,this.scroller.bounds=this.bounds,this.scroller.directionalLockEnabled=this.isDirectionalLockEnabled,this.scroller.pagingEnabled=this.isPagingEnabled,this.scroller.scrollEnabled=this.isScrollEnabled},e.prototype.scrollerWillRefresh=function(t){},e.prototype.scrollerRefreshing=function(){},e.prototype.scrollerDidScroll=function(){this.resetIndicator()},e.prototype.scrollerDidZoom=function(){},e.prototype.scrollerWillBeginDragging=function(){var t=this;o.View.animationWithDuration(.15,function(){t.verticalScrollIndicator.alpha=1,t.horizontalScrollIndicator.alpha=1}),this.verticalScrollIndicator.alpha=1,this.horizontalScrollIndicator.alpha=1},e.prototype.scrollerWillEndDragging=function(){},e.prototype.scrollerDidEndDragging=function(t){var e=this;void 0===t&&o.View.animationWithDuration(.15,function(){e.verticalScrollIndicator.alpha=0,e.horizontalScrollIndicator.alpha=0})},e.prototype.scrollerWillBeginDecelerating=function(){this.decelarating=!0,this.innerView.userInteractionEnabled=!1,this.gestureRecongnizers.forEach(function(t){t instanceof c.PanGestureRecognizer&&(t.deceteMovement=-1)})},e.prototype.scrollerDidEndDecelerating=function(){var t=this;this.decelarating=!1,this.innerView.userInteractionEnabled=!0,this.gestureRecongnizers.forEach(function(t){t instanceof c.PanGestureRecognizer&&(t.deceteMovement=4)}),o.View.animationWithDuration(.15,function(){t.verticalScrollIndicator.alpha=0,t.horizontalScrollIndicator.alpha=0})},e.prototype.resetIndicator=function(){var t=this.contentOffset,e=this.contentSize,i=this.bounds;if(e.height>i.height){var n=t.y/(e.height-i.height),r=Math.max(36,i.height/(e.height/i.height));this.verticalScrollIndicator.frame={x:i.width-4,y:n*(i.height-r),width:2,height:r}}else this.verticalScrollIndicator.frame={x:i.width-4,y:0,width:2,height:0};if(e.width>i.width){var o=t.x/(e.width-i.width),s=Math.max(36,i.width/(e.width/i.width));this.horizontalScrollIndicator.frame={x:o*(i.width-s),y:i.height-4,width:s,height:2}}else this.horizontalScrollIndicator.frame={x:0,y:i.height-4,width:0,height:2}},Object.defineProperty(e.prototype,"subviews",{get:function(){return this.innerView.subviews},enumerable:!0,configurable:!0}),e.prototype.insertSubviewAtIndex=function(t,e){this.innerView.insertSubviewAtIndex(t,e)},e.prototype.exchangeSubviewAtIndex=function(t,e){this.innerView.exchangeSubviewAtIndex(t,e)},e.prototype._addSubview=function(e){t.prototype.addSubview.call(this,e)},e.prototype.addSubview=function(t){this.innerView.addSubview(t)},e.prototype.insertSubviewBelow=function(t,e){this.innerView.insertSubviewBelow(t,e)},e.prototype.insertSubviewAbove=function(t,e){this.innerView.insertSubviewAbove(t,e)},e.prototype.bringSubviewToFront=function(t){this.innerView.bringSubviewToFront(t)},e.prototype.sendSubviewToBack=function(t){this.innerView.sendSubviewToBack(t)},Object.defineProperty(e.prototype,"constraints",{get:function(){return this.innerView.constraints},enumerable:!0,configurable:!0}),e.prototype.addConstraint=function(t){this.innerView.addConstraint(t)},e.prototype.addConstraints=function(t){this.innerView.addConstraints(t)},e.prototype.removeConstraint=function(t){this.innerView.removeConstraint(t)},e.prototype.removeAllConstraints=function(){this.innerView.removeAllConstraints()},e}(o.View);e.ScrollView=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.props=[],this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1}return t.prototype.rotate=function(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)},t.prototype.rotateX=function(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1)},t.prototype.rotateY=function(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1)},t.prototype.rotateZ=function(t){if(0===t)return this;var e=Math.cos(t),i=Math.sin(t);return this._t(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1)},t.prototype.shear=function(t,e){return this._t(1,e,t,1,0,0)},t.prototype.skew=function(t,e){return this.shear(Math.tan(t),Math.tan(e))},t.prototype.skewFromAxis=function(t,e){var i=Math.cos(e),n=Math.sin(e);return this._t(i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1)},t.prototype.scale=function(t,e,i){return i=isNaN(i)?1:i,1==t&&1==e&&1==i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)},t.prototype.setTransform=function(t,e,i,n,r,o,s,a,c,l,u,h,f,p,d,g){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=o,this.props[6]=s,this.props[7]=a,this.props[8]=c,this.props[9]=l,this.props[10]=u,this.props[11]=h,this.props[12]=f,this.props[13]=p,this.props[14]=d,this.props[15]=g,this},t.prototype.translate=function(t,e,i){return i=isNaN(i)?0:i,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this},t.prototype._t=function(t,e,i,n,r,o,s,a,c,l,u,h,f,p,d,g){this.transform(t,e,i,n,r,o,s,a,c,l,u,h,f,p,d,g)},t.prototype.transform=function(t,e,i,n,r,o,s,a,c,l,u,h,f,p,d,g){if(1===t&&0===e&&0===i&&0===n&&0===r&&1===o&&0===s&&0===a&&0===c&&0===l&&1===u&&0===h)return 0===f&&0===p&&0===d||(this.props[12]=this.props[12]*t+this.props[13]*r+this.props[14]*c+this.props[15]*f,this.props[13]=this.props[12]*e+this.props[13]*o+this.props[14]*l+this.props[15]*p,this.props[14]=this.props[12]*i+this.props[13]*s+this.props[14]*u+this.props[15]*d,this.props[15]=this.props[12]*n+this.props[13]*a+this.props[14]*h+this.props[15]*g),this;var y=this.props[0],b=this.props[1],v=this.props[2],w=this.props[3],_=this.props[4],m=this.props[5],x=this.props[6],V=this.props[7],T=this.props[8],I=this.props[9],C=this.props[10],O=this.props[11],R=this.props[12],A=this.props[13],S=this.props[14],j=this.props[15];return this.props[0]=y*t+b*r+v*c+w*f,this.props[1]=y*e+b*o+v*l+w*p,this.props[2]=y*i+b*s+v*u+w*d,this.props[3]=y*n+b*a+v*h+w*g,this.props[4]=_*t+m*r+x*c+V*f,this.props[5]=_*e+m*o+x*l+V*p,this.props[6]=_*i+m*s+x*u+V*d,this.props[7]=_*n+m*a+x*h+V*g,this.props[8]=T*t+I*r+C*c+O*f,this.props[9]=T*e+I*o+C*l+O*p,this.props[10]=T*i+I*s+C*u+O*d,this.props[11]=T*n+I*a+C*h+O*g,this.props[12]=R*t+A*r+S*c+j*f,this.props[13]=R*e+A*o+S*l+j*p,this.props[14]=R*i+A*s+S*u+j*d,this.props[15]=R*n+A*a+S*h+j*g,this},t.prototype.clone=function(t){var e;for(e=0;e<16;e+=1)t.props[e]=this.props[e]},t.prototype.cloneFromProps=function(t){var e;for(e=0;e<16;e+=1)this.props[e]=t[e]},t.prototype.applyToPoint=function(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}},t.prototype.applyToX=function(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]},t.prototype.applyToY=function(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]},t.prototype.applyToZ=function(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]},t.prototype.applyToPointArray=function(t,e,i){return[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]]},t.prototype.applyToPointStringified=function(t,e){return Math.round(t*this.props[0]+e*this.props[4]+this.props[12])+","+Math.round(t*this.props[1]+e*this.props[5]+this.props[13])},t}();e.TransformMatrixAlgorithm=n;var r=function(){function t(t,e,i,n,r,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=o}return t.unmatrix=function(t){var e=t.a,i=t.b,n=t.c,r=t.d;if(e*r==i*n)return{scale:{x:1,y:1},degree:0,translate:{x:0,y:0}};var o=Math.sqrt(e*e+i*i);e/=o,i/=o;var s=e*n+i*r;n-=e*s,r-=i*s;var a=Math.sqrt(n*n+r*r);return n/=a,r/=a,s/=a,e*r<i*n&&(e=-e,i=-i,s=-s,o=-o),{scale:{x:o,y:a},degree:Math.atan2(i,e)/(Math.PI/180),translate:{x:t.tx,y:t.ty}}},t.isIdentity=function(t){return 1==t.a&&0==t.b&&0==t.c&&1==t.d&&0==t.tx&&0==t.ty},t.prototype.isIdentity=function(){return t.isIdentity(this)},t.setScale=function(e,i,r){var o=new n,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(i||s.scale.x,r||s.scale.y,1),o.translate(s.translate.x,s.translate.y,0),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.prototype.setScale=function(e,i){return t.setScale(this,e,i)},t.postScale=function(e,i,r){var o=new n,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(s.scale.x,s.scale.y,1),o.translate(s.translate.x,s.translate.y,0),o.scale(i||1,r||1,1),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.prototype.postScale=function(e,i){return t.postScale(this,e,i)},t.setTranslate=function(e,i,r){var o=new n,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(s.scale.x,s.scale.y,1),o.translate(i||s.translate.x,r||s.translate.y,0),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.prototype.setTranslate=function(e,i){return t.setTranslate(this,e,i)},t.postTranslate=function(e,i,r){var o=new n,s=this.unmatrix(e);return o.rotate(-s.degree*Math.PI/180),o.scale(s.scale.x,s.scale.y,1),o.translate(s.translate.x,s.translate.y,0),o.translate(i||0,r||0,0),new t(o.props[0],o.props[1],o.props[4],o.props[5],o.props[12],o.props[13])},t.prototype.postTranslate=function(e,i){return t.postTranslate(this,e,i)},t.setRotate=function(e,i){var r=new n,o=this.unmatrix(e);return r.rotate(-i||-o.degree*Math.PI/180),r.scale(o.scale.x,o.scale.y,1),r.translate(o.translate.x,o.translate.y,0),new t(r.props[0],r.props[1],r.props[4],r.props[5],r.props[12],r.props[13])},t.prototype.setRotate=function(e){return t.setRotate(this,e)},t.postRotate=function(e,i){var r=new n,o=this.unmatrix(e);return r.rotate(-o.degree*Math.PI/180),r.scale(o.scale.x,o.scale.y,1),r.translate(o.translate.x,o.translate.y,0),r.rotate(-i),new t(r.props[0],r.props[1],r.props[4],r.props[5],r.props[12],r.props[13])},t.prototype.postRotate=function(e){return t.postRotate(this,e)},t.concat=function(e,i){var r=new n;return r.props[0]=e.a,r.props[1]=e.b,r.props[4]=e.c,r.props[5]=e.d,r.props[12]=e.tx,r.props[13]=e.ty,r.transform(i.a,i.b,0,0,i.c,i.d,0,0,0,0,1,0,i.tx,i.ty,0,1),new t(r.props[0],r.props[1],r.props[4],r.props[5],r.props[12],r.props[13])},t.prototype.concat=function(e){return t.concat(this,e)},t}();e.TransformMatrix=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),r=function(){function t(){this.enabled=!0,this.cancellable=!1,this.state=n.GestureRecognizerState.Possible,this.minimumPressDuration=.5,this.allowableMovement=10,this.recognized=!1,this.lastZeroTouch=void 0}return t.prototype.touchesBegan=function(t,e,i,r,o){var s=this;return this.lastZeroTouch=e[0],this.touchStartPoint=e.map(function(t){return t.rawLocation}),this.recognized=!1,this.state=n.GestureRecognizerState.Possible,n.GestureManager.activeTimerHanders.push(setTimeout(function(){if(s.touchStartPoint){s.touchStartPoint.filter(function(t){return e.filter(function(e){return Math.abs(t.x-e.rawLocation.x)>s.allowableMovement||Math.abs(t.y-e.rawLocation.y)>s.allowableMovement}).length>0}).length>0?(s.state=n.GestureRecognizerState.Failed,s.touchStartPoint=void 0):r&&r(s)&&(s.recognized=!0,s.state=n.GestureRecognizerState.Began,s.fire&&s.fire(s.state,e[0].rawLocation))}},1e3*this.minimumPressDuration)),!1},t.prototype.touchesMoved=function(t,e,i,r,o){var s=this;if(this.lastZeroTouch=e[0],this.recognized)this.state=n.GestureRecognizerState.Changed,this.fire&&this.fire(this.state,e[0].rawLocation);else if(this.touchStartPoint){var a=this.touchStartPoint.filter(function(t){return e.filter(function(e){return Math.abs(t.x-e.rawLocation.x)>s.allowableMovement||Math.abs(t.y-e.rawLocation.y)>s.allowableMovement}).length>0});a.length>0&&(this.state=n.GestureRecognizerState.Failed,this.touchStartPoint=void 0)}return!1},t.prototype.touchesEnded=function(t,e,i,r,o){return this.lastZeroTouch=e[0],this.recognized?this.state!==n.GestureRecognizerState.Ended&&(this.state=n.GestureRecognizerState.Ended,this.fire&&this.fire(this.state,e[0].rawLocation),o&&o(),this.touchStartPoint=void 0):(this.state=n.GestureRecognizerState.Failed,this.touchStartPoint=void 0),!1},t.prototype.touchesCancelled=function(t,e,i,r,o){var s=e[0]||this.lastZeroTouch;return this.recognized=!1,this.lastZeroTouch=s,this.state=n.GestureRecognizerState.Cancelled,this.fire&&this.fire(this.state,s?s.rawLocation:{x:0,y:0}),this.touchStartPoint=void 0,!1},t.prototype.locationInView=function(){return this.lastZeroTouch?this.lastZeroTouch.locationInView(this.owner):{x:0,y:0}},t}();e.LongPressGestureRecognizer=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Unknown=0]="Unknown",t[t.Portrait=1]="Portrait",t[t.PortraitUpsideDown=2]="PortraitUpsideDown",t[t.LandscapeLeft=3]="LandscapeLeft",t[t.LandscapeRight=4]="LandscapeRight",t[t.FaceUp=5]="FaceUp",t[t.FaceDown=6]="FaceDown"}(e.DeviceOrientation||(e.DeviceOrientation={}));var n=function(){function t(){}return t}();e.Device=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(4);!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(e.TextAlignment||(e.TextAlignment={}));!function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(e.TextVerticalAlignment||(e.TextVerticalAlignment={}));!function(t){t[t.WordWrapping=0]="WordWrapping",t[t.TruncatingTail=4]="TruncatingTail"}(e.LineBreakMode||(e.LineBreakMode={}));var a=function(t){function e(e){return t.call(this,e||_XTUILabel)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.Label",text:this.text,font:this.font,textColor:this.textColor,textAlignment:this.textAlignment,numberOfLines:this.numberOfLines,lineBreakMode:this.lineBreakMode,lineSpace:this.lineSpace})},Object.defineProperty(e.prototype,"text",{get:function(){return _XTUILabel.xtr_text(this.objectRef)},set:function(t){_XTUILabel.xtr_setText(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return new s.Font(_XTUILabel.xtr_font(this.objectRef))},set:function(t){_XTUILabel.xtr_setFont(t.objectRef,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return _XTUILabel.xtr_textColor(this.objectRef)},set:function(t){_XTUILabel.xtr_setTextColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlignment",{get:function(){return _XTUILabel.xtr_textAlignment(this.objectRef)},set:function(t){_XTUILabel.xtr_setTextAlignment(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfLines",{get:function(){return _XTUILabel.xtr_numberOfLines(this.objectRef)},set:function(t){_XTUILabel.xtr_setNumberOfLines(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineBreakMode",{get:function(){return _XTUILabel.xtr_lineBreakMode(this.objectRef)},set:function(t){_XTUILabel.xtr_setLineBreakMode(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineSpace",{get:function(){return _XTUILabel.xtr_lineSpace(this.objectRef)},set:function(t){_XTUILabel.xtr_setLineSpace(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.textRectForBounds=function(t){return _XTUILabel.xtr_textRectForBounds(t,this.objectRef)},e}(o.View);e.Label=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(7),a=i(12),c=i(4),l=function(t){function e(e){var i=t.call(this,e||_XTUIButton)||this;return i.highlighted=!1,i.titleLabel=new a.Label(_XTUIButton.xtr_titleLabel(i.objectRef)),i.imageView=new s.ImageView(_XTUIButton.xtr_imageView(i.objectRef)),i.setupTouches(),i}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.Button",title:this.title,font:this.font,image:this.image,color:this.color,vertical:this.vertical,inset:this.inset})},e.prototype.setupTouches=function(){var t=this;this.userInteractionEnabled=!0,this.longPressDuration=.15,this.onTap=function(){t.handleTouchUpInside()},this.onLongPress=function(e,i){if(e==o.InteractionState.Began)t.handleHighlighted(!0),t.handleTouchDown();else if(e==o.InteractionState.Changed){var n=i(),r=!(n.x<-44||n.x>t.bounds.width+44||n.y<-44||n.y>t.bounds.height+44);t.highlighted!==r&&(t.handleHighlighted(r),r?t.handleTouchDragEnter():t.handleTouchDragExit()),r?t.handleTouchDragInside():t.handleTouchDragOutside()}else e!=o.InteractionState.Ended&&e!=o.InteractionState.Cancelled||(e==o.InteractionState.Ended&&t.highlighted?t.handleTouchUpInside():e==o.InteractionState.Ended?t.handleTouchUpOutside():t.handleTouchCancel(),t.handleHighlighted(!1))}},Object.defineProperty(e.prototype,"title",{get:function(){return _XTUIButton.xtr_title(this.objectRef)},set:function(t){_XTUIButton.xtr_setTitle(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return new c.Font(_XTUIButton.xtr_font(this.objectRef))},set:function(t){_XTUIButton.xtr_setFont(t.objectRef,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){var t=_XTUIButton.xtr_image(this.objectRef);return"string"==typeof t?new s.Image(t):void 0},set:function(t){_XTUIButton.xtr_setImage(t?t.objectRef:"",this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return _XTUIButton.xtr_color(this.objectRef)},set:function(t){_XTUIButton.xtr_setColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return _XTUIButton.xtr_vertical(this.objectRef)},set:function(t){_XTUIButton.xtr_setVertical(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inset",{get:function(){return _XTUIButton.xtr_inset(this.objectRef)},set:function(t){_XTUIButton.xtr_setInset(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.didMoveToSuperview=function(){this.tintColorDidChange()},e.prototype.handleTouchDown=function(){this.onTouchDown&&this.onTouchDown(this)},e.prototype.handleTouchDragInside=function(){this.onTouchDragInside&&this.onTouchDragInside(this)},e.prototype.handleTouchDragOutside=function(){this.onTouchDragOutside&&this.onTouchDragOutside(this)},e.prototype.handleTouchDragEnter=function(){this.onTouchDragEnter&&this.onTouchDragEnter(this)},e.prototype.handleTouchDragExit=function(){this.onTouchDragExit&&this.onTouchDragExit(this)},e.prototype.handleTouchUpInside=function(){this.onTouchUpInside&&this.onTouchUpInside(this)},e.prototype.handleTouchUpOutside=function(){this.onTouchUpOutside&&this.onTouchUpOutside(this)},e.prototype.handleTouchCancel=function(){this.onTouchCancel&&this.onTouchCancel(this)},e.prototype.handleHighlighted=function(t){var e=this;this.highlighted=t,this.onHighlighted?this.onHighlighted&&this.onHighlighted(this,t):o.View.animationWithDuration(.1,function(){e.imageView.alpha=t?.25:1,e.titleLabel.alpha=t?.25:1})},e}(o.View);e.Button=l},function(t,e,i){"use strict";function n(t,e,i){return t<=0?e:t>=1?i:t*i+(1-t)*e}function r(t,e,i){return t<=0?e:t>=1?i:n(2*t-t*t,e,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.LinearInterpolation=n,e.QuadraticEaseOut=r;var o=function(){function t(e){this.scroller=e,this.beginTime=t.currentTime()}return t.prototype.animate=function(){return!0},t.prototype.momentumScrollBy=function(t){},t.currentTime=function(){return"undefined"==typeof performance?(new Date).getTime():performance.now()},t}();e.Animation=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(){function t(){this._enabled=!0,this._color=n.Color.grayColor,this._isRefreshing=!1,this.endTimeLimit=0}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.listView&&(this.listView.scroller.refreshEnabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.listView&&this.listView.refreshAnimationView&&(this.listView.refreshAnimationView.color=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRefreshing",{get:function(){return this._isRefreshing},enumerable:!0,configurable:!0}),t.prototype.handleRefresh=function(){this._isRefreshing=!0,this.endTimeLimit=(new Date).getTime()+1e3,this.onRefresh&&this.onRefresh(this)},t.prototype.endRefreshing=function(){var t=this,e=this.endTimeLimit-(new Date).getTime();if(e>0)return void setTimeout(function(){t.endRefreshing()},e);this._isRefreshing=!1,this.listView&&this.listView.endRefreshing()},t}();e.RefreshControl=r},function(t,e,i){"use strict";function n(t,e){var i=e.frame;return t.x>=0&&t.x<=i.width&&t.y>=0&&t.y<=i.height}function r(t,e,i){for(var n=[i],r=i;r.superview&&(n.unshift(r.superview),(r=r.superview)!=e););if(n.indexOf(e)<0)return t;var s={x:t.x,y:t.y},a=n[0]._originOffset||{x:0,y:0};return n.shift(),n.forEach(function(e){var i=e.transform,n=e.frame;if(s.x+=a.x,s.y+=a.y,i&&!o.TransformMatrix.isIdentity(i))if(0==i.a||0==i.d){var r=o.TransformMatrix.unmatrix(i),c=o.TransformMatrix.postTranslate(new o.TransformMatrix,-n.width/2,-n.height/2);c=o.TransformMatrix.postRotate(c,r.degree*Math.PI/180),c=o.TransformMatrix.postScale(c,r.scale.x,r.scale.y),c=o.TransformMatrix.postTranslate(c,r.translate.x,r.translate.y),c=o.TransformMatrix.postTranslate(c,n.width/2,n.height/2);var l=t.x-n.x-c.tx,u=t.y-n.y-c.ty,h=-(c.d*u/c.c-l)/(c.a*c.d/c.c-c.b),f=-(u-c.a*l/c.b)/(c.c-c.d*c.a/c.b);s={x:h,y:f}}else{var r=o.TransformMatrix.unmatrix(i),c=o.TransformMatrix.postTranslate(new o.TransformMatrix,-n.width/2,-n.height/2);c=o.TransformMatrix.postRotate(c,r.degree*Math.PI/180),c=o.TransformMatrix.postScale(c,r.scale.x,r.scale.y),c=o.TransformMatrix.postTranslate(c,r.translate.x,r.translate.y),c=o.TransformMatrix.postTranslate(c,n.width/2,n.height/2);var l=t.x-n.x-c.tx,u=t.y-n.y-c.ty,h=(u-l*c.c/c.d)/(c.a-c.b*c.c/c.a),f=(l-u*c.b/c.a)/(c.d-c.c*c.b/c.d);s={x:h,y:f}}else s={x:s.x-n.x,y:s.y-n.y};a=e._originOffset||{x:0,y:0}}),s}Object.defineProperty(e,"__esModule",{value:!0});var o=i(9);e.isPointInside=n,e.convertPointToChildView=r},function(t,e,i){(function(t){function n(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(33),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,i(18))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),r=function(){function t(){this.enabled=!0,this.cancellable=!1,this.state=n.GestureRecognizerState.Possible,this.deceteMovement=4,this.velocity={x:0,y:0},this.translation={x:0,y:0},this.recognized=!1,this.lastZeroTouch=void 0,this.touchPreviousTimestamp=void 0}return t.prototype.setTranslation=function(t){this.touchPreviousPoint&&(this.touchTranslationOriginPoint={x:this.touchPreviousPoint.x-t.x,y:this.touchPreviousPoint.y-t.y})},t.prototype.touchesBegan=function(t,e,i,r,o){return this.lastZeroTouch=e[0],this.touchStartRawPoint=e[0].rawLocation,this.touchTranslationOriginPoint=e[0].rawLocation,this.velocity={x:0,y:0},this.translation={x:0,y:0},this.touchStartPoint=e.map(function(t){return t.rawLocation}),this.touchPreviousPoint={x:this.touchStartPoint[0].x,y:this.touchStartPoint[0].y},this.touchPreviousTimestamp=e[0].timestamp,this.recognized=!1,this.state=n.GestureRecognizerState.Possible,this.deceteMovement<0&&this.touchesMoved(t,e,i,r,o)},t.prototype.touchesMoved=function(t,e,i,r,o){var s=this;this.lastZeroTouch=e[0];var a=e[0].rawLocation;if(e[0].velocity?this.velocity=e[0].velocity:e[0].timestamp/1e3-(this.touchPreviousTimestamp||0)>0&&(this.velocity={x:(a.x-(this.touchPreviousPoint?this.touchPreviousPoint.x:0))/(e[0].timestamp/1e3-(this.touchPreviousTimestamp||0)),y:(a.y-(this.touchPreviousPoint?this.touchPreviousPoint.y:0))/(e[0].timestamp/1e3-(this.touchPreviousTimestamp||0))}),this.recognized)this.state=n.GestureRecognizerState.Changed,this.touchPreviousPoint={x:a.x,y:a.y},this.touchPreviousTimestamp=e[0].timestamp/1e3,this.touchTranslationOriginPoint&&(this.translation={x:e[0].rawLocation.x-this.touchTranslationOriginPoint.x,y:e[0].rawLocation.y-this.touchTranslationOriginPoint.y}),this.fire&&this.fire(this.state,e[0].rawLocation);else if(this.touchStartPoint){var c=this.touchStartPoint.filter(function(t){return e.filter(function(e){return Math.abs(t.x-e.rawLocation.x)>s.deceteMovement||Math.abs(t.y-e.rawLocation.y)>s.deceteMovement}).length>0});if(c.length>0)return this.recognized=!0,this.state=n.GestureRecognizerState.Began,this.fire&&this.fire(this.state,e[0].rawLocation),!0;this.touchPreviousPoint={x:a.x,y:a.y},this.touchPreviousTimestamp=e[0].timestamp/1e3}return!1},t.prototype.touchesEnded=function(t,e,i,r,o){return this.lastZeroTouch=e[0],this.recognized?this.state!==n.GestureRecognizerState.Ended&&(this.state=n.GestureRecognizerState.Ended,this.touchTranslationOriginPoint&&(this.translation={x:e[0].rawLocation.x-this.touchTranslationOriginPoint.x,y:e[0].rawLocation.y-this.touchTranslationOriginPoint.y}),e[0].velocity?this.velocity=e[0].velocity:e[0].timestamp/1e3-(this.touchPreviousTimestamp||0)>.1&&(this.velocity={x:0,y:0}),this.fire&&this.fire(this.state,e[0].rawLocation),o&&o(),this.touchStartPoint=void 0):(this.state=n.GestureRecognizerState.Failed,this.touchStartPoint=void 0),!1},t.prototype.touchesCancelled=function(t,e,i,r,o){var s=e[0]||this.lastZeroTouch;return this.lastZeroTouch=s,this.state=n.GestureRecognizerState.Cancelled,this.touchTranslationOriginPoint&&(this.translation={x:e[0].rawLocation.x-this.touchTranslationOriginPoint.x,y:e[0].rawLocation.y-this.touchTranslationOriginPoint.y}),e[0].velocity?this.velocity=e[0].velocity:e[0].timestamp/1e3-(this.touchPreviousTimestamp||0)>.1&&(this.velocity={x:0,y:0}),this.fire&&this.fire(this.state,s?s.rawLocation:{x:0,y:0}),this.touchStartPoint=void 0,!1},t.prototype.locationInView=function(){return this.lastZeroTouch?this.lastZeroTouch.locationInView(this.owner):{x:0,y:0}},t}();e.PanGestureRecognizer=r},function(t,e,i){var n,n;!function(e){t.exports=e()}(function(){return function t(e,i,r){function o(a,c){if(!i[a]){if(!e[a]){var l="function"==typeof n&&n;if(!c&&l)return n(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){var i=e[a][1][t];return o(i||t)},h,h.exports,t,e,i,r)}return i[a].exports}for(var s="function"==typeof n&&n,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){t.equalSpacerIndex=t.equalSpacerIndex||1;var i="_~"+t.lineIndex+":"+t.equalSpacerIndex+"~";t.equalSpacerIndex>1&&t.constraints.push({view1:"_~"+t.lineIndex+":1~",attr1:t.horizontal?y.WIDTH:y.HEIGHT,relation:t.relation.relation||b.EQU,view2:i,attr2:t.horizontal?y.WIDTH:y.HEIGHT,priority:t.relation.priority}),t.equalSpacerIndex++,t.relation.view||t.relation.multiplier&&1!==t.relation.multiplier?(t.constraints.push({view1:i,attr1:t.horizontal?y.WIDTH:y.HEIGHT,relation:t.relation.relation||b.EQU,view2:t.relation.view,attr2:t.horizontal?y.WIDTH:y.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0):t.relation.constant&&(t.constraints.push({view1:i,attr1:t.horizontal?y.WIDTH:y.HEIGHT,relation:b.EQU,view2:null,attr2:y.CONST,priority:t.relation.priority,constant:t.relation.constant}),t.relation.constant=void 0);for(var n=0;n<t.prevViews.length;n++){var r=t.prevViews[n];switch(t.orientation){case m.HORIZONTAL:t.prevAttr=r!==e?y.RIGHT:y.LEFT,t.curAttr=y.LEFT;break;case m.VERTICAL:t.prevAttr=r!==e?y.BOTTOM:y.TOP,t.curAttr=y.TOP;break;case m.ZINDEX:t.prevAttr=y.ZINDEX,t.curAttr=y.ZINDEX,t.relation.constant=r!==e?"default":0}t.constraints.push({view1:r,attr1:t.prevAttr,relation:t.relation.relation,view2:i,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[i]}function o(t,e){t.proportionalSpacerIndex=t.proportionalSpacerIndex||1;var i="_-"+t.lineIndex+":"+t.proportionalSpacerIndex+"-";t.proportionalSpacerIndex++,t.constraints.push({view1:i,attr1:t.horizontal?y.WIDTH:y.HEIGHT,relation:t.relation.relation||b.EQU,view2:t.relation.view,attr2:t.horizontal?y.WIDTH:y.HEIGHT,priority:t.relation.priority,multiplier:t.relation.multiplier}),t.relation.multiplier=void 0;for(var n=0;n<t.prevViews.length;n++){var r=t.prevViews[n];switch(t.orientation){case m.HORIZONTAL:t.prevAttr=r!==e?y.RIGHT:y.LEFT,t.curAttr=y.LEFT;break;case m.VERTICAL:t.prevAttr=r!==e?y.BOTTOM:y.TOP,t.curAttr=y.TOP;break;case m.ZINDEX:t.prevAttr=y.ZINDEX,t.curAttr=y.ZINDEX,t.relation.constant=r!==e?"default":0}t.constraints.push({view1:r,attr1:t.prevAttr,relation:t.relation.relation,view2:i,attr2:t.curAttr,priority:t.relation.priority})}t.prevViews=[i]}function s(t,e,i){for(var n=void 0,r=1;r<=4;r*=2)if(i.orientations&r&&i.stack.orientation!==r&&!(i.stack.processedOrientations&r)){i.stack.processedOrientations=i.stack.processedOrientations|r,n=n||{name:e,type:"stack"};for(var o=0,s=i.stack.subViews.length;o<s;o++)r===m.ZINDEX?t.constraints.push({view1:n,attr1:y.ZINDEX,relation:b.EQU,view2:i.stack.subViews[o],attr2:y.ZINDEX}):(t.constraints.push({view1:n,attr1:r===m.VERTICAL?y.HEIGHT:y.WIDTH,relation:b.EQU,view2:i.stack.subViews[o],attr2:r===m.VERTICAL?y.HEIGHT:y.WIDTH}),t.constraints.push({view1:n,attr1:r===m.VERTICAL?y.TOP:y.LEFT,relation:b.EQU,view2:i.stack.subViews[o],attr2:r===m.VERTICAL?y.TOP:y.LEFT}))}}function a(t,e){if(!0===e&&(e=t.match(/\.\.\d+$/))&&(t=t.substring(0,t.length-e[0].length),e=parseInt(e[0].substring(2))),!e)return[t];var i,n=t.match(/\d+$/),r=[];if(n)for(t=t.substring(0,t.length-n[0].length),i=parseInt(n);i<=e;i++)r.push(t+i);else for(r.push(t),i=2;i<=e;i++)r.push(t+i);return r}function c(t,e,i){var n=i?i.view:null,l=[],u=[],h=void 0;n&&(e.push({view:n}),u.push(n));for(var f=0;f<e.length;f++){var p=e[f];if(!Array.isArray(p)&&p.hasOwnProperty("view")||Array.isArray(p)&&p[0].view&&!p[0].relation)for(var d=Array.isArray(p)?p:[p],g=0;g<d.length;g++){p=d[g];for(var b=","===p?[]:p.view?a(p.view,p.range):[null],v=0;v<b.length;v++){var w=b[v];if(u.push(w),w!==n&&(l.push(w),h=t.subViews[w],h||(h={orientations:0},t.subViews[w]=h),h.orientations=h.orientations|t.orientation,h.stack&&s(t,w,h)),void 0!==t.prevViews&&void 0!==w&&t.relation&&"none"!==t.relation.relation)for(var _=0;_<t.prevViews.length;_++){var x=t.prevViews[_];switch(t.orientation){case m.HORIZONTAL:t.prevAttr=x!==n?y.RIGHT:y.LEFT,t.curAttr=w!==n?y.LEFT:y.RIGHT;break;case m.VERTICAL:t.prevAttr=x!==n?y.BOTTOM:y.TOP,t.curAttr=w!==n?y.TOP:y.BOTTOM;break;case m.ZINDEX:t.prevAttr=y.ZINDEX,t.curAttr=y.ZINDEX,t.relation.constant=x?t.relation.constant||"default":0}t.constraints.push({view1:x,attr1:t.prevAttr,relation:t.relation.relation,view2:w,attr2:t.curAttr,multiplier:t.relation.multiplier,constant:"default"!==t.relation.constant&&t.relation.constant?-t.relation.constant:t.relation.constant,priority:t.relation.priority})}var V=p.constraints;if(V)for(var T=0;T<V.length;T++)t.prevAttr=t.horizontal?y.WIDTH:y.HEIGHT,t.curAttr=V[T].view||V[T].multiplier?V[T].attribute||t.prevAttr:V[T].variable?y.VARIABLE:y.CONST,t.constraints.push({view1:w,attr1:t.prevAttr,relation:V[T].relation,view2:V[T].view,attr2:t.curAttr,multiplier:V[T].multiplier,constant:V[T].constant,priority:V[T].priority});p.cascade&&c(t,p.cascade,p)}}else","!==p&&(t.prevViews=u,u=[],t.relation=p[0],void 0!==t.prevViews&&(t.relation.equalSpacing&&r(t,n),t.relation.multiplier&&o(t,n)))}if(n){if(h=t.subViews[n]){if(h.stack){var I=new Error('A stack named "'+n+'" has already been created');throw I.column=i.$parserOffset+1,I}}else h={orientations:t.orientation},t.subViews[n]=h;h.stack={orientation:t.orientation,processedOrientations:t.orientation,subViews:l},s(t,n,h)}}function l(t,e){var i=new g.Variable({value:e});return this._solver.addConstraint(new g.StayConstraint(i,g.Strength.required,0)),i}function u(t){return t?t.name?(this._subViews[t.name]=this._subViews[t.name]||new T({name:t.name,solver:this._solver}),this._subViews[t.name]._type=this._subViews[t.name]._type||t.type,this._subViews[t.name]):(this._subViews[t]=this._subViews[t]||new T({name:t,solver:this._solver}),this._subViews[t]):this._parentSubView}function h(t){var e=4;if(t.view1||"left"!==t.attr1)if(t.view1||"top"!==t.attr1)if(t.view2||"right"!==t.attr2)if(t.view2||"bottom"!==t.attr2)switch(t.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":e=4;break;case"zIndex":e=6;break;default:e=5}else e=2;else e=1;else e=0;else e=3;return this._spacingVars=this._spacingVars||new Array(7),this._spacingExpr=this._spacingExpr||new Array(7),this._spacingVars[e]||(this._spacingVars[e]=new g.Variable,this._solver.addEditVar(this._spacingVars[e]),this._spacingExpr[e]=g.minus(0,this._spacingVars[e]),this._solver.suggestValue(this._spacingVars[e],this._spacing[e])),this._spacingExpr[e]}function f(t){var e=void 0,i=void 0!==t.multiplier?t.multiplier:1,n=void 0!==t.constant?t.constant:0;"default"===n&&(n=h.call(this,t));var r=u.call(this,t.view1)._getAttr(t.attr1),o=void 0;t.attr2===y.CONST?o=l.call(this,void 0,t.constant):(o=u.call(this,t.view2)._getAttr(t.attr2),1!==i&&n?o=g.plus(g.times(o,i),n):n?o=g.plus(o,n):1!==i&&(o=g.times(o,i)));var s=void 0!==t.priority&&t.priority<1e3?new g.Strength("priority",0,t.priority,1e3):I;switch(t.relation){case b.EQU:e=new g.Equation(r,o,s);break;case b.GEQ:e=new g.Inequality(r,g.GEQ,o,s);break;case b.LEQ:e=new g.Inequality(r,g.LEQ,o,s);break;default:throw"Invalid relation specified: "+t.relation}this._solver.addConstraint(e)}function p(t,e){if(t===e)return!0;if(!t||!e)return!1;for(var i=0;i<7;i++)if(t[i]!==e[i])return!1;return!0}var d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),g=t("cassowary/bin/c"),y={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY",ZINDEX:"zIndex"},b={LEQ:"leq",EQU:"equ",GEQ:"geq"},v={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250},w=function(){function t(t,e,i,n,r,o){this.message=t,this.expected=e,this.found=i,this.offset=n,this.line=r,this.column=o,this.name="SyntaxError"}function e(e){function i(){return jt}function n(t){return Et!==t&&(Et>t&&(Et=0,Pt={line:1,column:1,seenCR:!1}),function(t,i,n){var r,o;for(r=i;r<n;r++)o=e.charAt(r),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(Pt,Et,t),Et=t),Pt}function r(t){St<Mt||(St>Mt&&(Mt=St,Lt=[]),Lt.push(t))}function o(i,r,o){var s=n(o),a=o<e.length?e.charAt(o):null;return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==i?i:function(t,e){var i,n,r,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=t[r].description;return i=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+i+" but "+n+" found."}(r,a),r,a,o,s.line,s.column)}function s(){var t,i,n,o,s,h,f,p;if(t=St,i=St,n=a(),n!==T?(58===e.charCodeAt(St)?(o=A,St++):(o=T,0===Ut&&r(S)),o!==T?(n=[n,o],i=n):(St=i,i=O)):(St=i,i=O),i===T&&(i=R),i!==T)if(n=St,o=c(),o!==T?(s=u(),s!==T?(o=[o,s],n=o):(St=n,n=O)):(St=n,n=O),n===T&&(n=R),n!==T)if((o=l())!==T){for(s=[],h=St,f=u(),f!==T?(p=l(),p!==T?(f=[f,p],h=f):(St=h,h=O)):(St=h,h=O);h!==T;)s.push(h),h=St,f=u(),f!==T?(p=l(),p!==T?(f=[f,p],h=f):(St=h,h=O)):(St=h,h=O);s!==T?(h=St,f=u(),f!==T?(p=c(),p!==T?(f=[f,p],h=f):(St=h,h=O)):(St=h,h=O),h===T&&(h=R),h!==T?(jt=t,i=j(i,n,o,s,h),t=i):(St=t,t=O)):(St=t,t=O)}else St=t,t=O;else St=t,t=O;else St=t,t=O;return t}function a(){var t,i;return t=St,72===e.charCodeAt(St)?(i=E,St++):(i=T,0===Ut&&r(P)),i===T&&(86===e.charCodeAt(St)?(i=M,St++):(i=T,0===Ut&&r(L))),i!==T&&(jt=t,i=U(i)),t=i}function c(){var t,i;return t=St,124===e.charCodeAt(St)?(i=k,St++):(i=T,0===Ut&&r(z)),i!==T&&(jt=t,i=X()),t=i}function l(){var t,i,n,o,s;return t=St,91===e.charCodeAt(St)?(i=B,St++):(i=T,0===Ut&&r(D)),i!==T?(n=w(),n!==T?(o=p(),o===T&&(o=R),o!==T?(93===e.charCodeAt(St)?(s=F,St++):(s=T,0===Ut&&r(H)),s!==T?(jt=t,i=N(n,o),t=i):(St=t,t=O)):(St=t,t=O)):(St=t,t=O)):(St=t,t=O),t}function u(){var t,i,n,o;return t=St,45===e.charCodeAt(St)?(i=W,St++):(i=T,0===Ut&&r(G)),i!==T?(n=h(),n!==T?(45===e.charCodeAt(St)?(o=W,St++):(o=T,0===Ut&&r(G)),o!==T?(jt=t,i=q(n),t=i):(St=t,t=O)):(St=t,t=O)):(St=t,t=O),t===T&&(t=St,45===e.charCodeAt(St)?(i=W,St++):(i=T,0===Ut&&r(G)),i!==T&&(jt=t,i=Z()),(t=i)===T&&(t=St,i=K,i!==T&&(jt=t,i=Y()),t=i)),t}function h(){var t;return t=f(),t===T&&(t=p()),t}function f(){var t,e;return t=St,e=_(),e!==T&&(jt=t,e=Q(e)),t=e}function p(){var t,i,n,o,s,a,c;if(t=St,40===e.charCodeAt(St)?(i=J,St++):(i=T,0===Ut&&r($)),i!==T)if((n=d())!==T){for(o=[],s=St,44===e.charCodeAt(St)?(a=tt,St++):(a=T,0===Ut&&r(et)),a!==T?(c=d(),c!==T?(a=[a,c],s=a):(St=s,s=O)):(St=s,s=O);s!==T;)o.push(s),s=St,44===e.charCodeAt(St)?(a=tt,St++):(a=T,0===Ut&&r(et)),a!==T?(c=d(),c!==T?(a=[a,c],s=a):(St=s,s=O)):(St=s,s=O);o!==T?(41===e.charCodeAt(St)?(s=it,St++):(s=T,0===Ut&&r(nt)),s!==T?(jt=t,i=rt(n,o),t=i):(St=t,t=O)):(St=t,t=O)}else St=t,t=O;else St=t,t=O;return t}function d(){var t,i,n,o,s,a;return t=St,i=g(),i===T&&(i=R),i!==T?(n=y(),n!==T?(o=St,64===e.charCodeAt(St)?(s=ot,St++):(s=T,0===Ut&&r(st)),s!==T?(a=b(),a!==T?(s=[s,a],o=s):(St=o,o=O)):(St=o,o=O),o===T&&(o=R),o!==T?(jt=t,i=at(i,n,o),t=i):(St=t,t=O)):(St=t,t=O)):(St=t,t=O),t}function g(){var t,i;return t=St,e.substr(St,2)===ct?(i=ct,St+=2):(i=T,0===Ut&&r(lt)),i!==T&&(jt=t,i=ut()),t=i,t===T&&(t=St,e.substr(St,2)===ht?(i=ht,St+=2):(i=T,0===Ut&&r(ft)),i!==T&&(jt=t,i=pt()),(t=i)===T&&(t=St,e.substr(St,2)===dt?(i=dt,St+=2):(i=T,0===Ut&&r(gt)),i!==T&&(jt=t,i=yt()),t=i)),t}function y(){var t;return t=v(),t===T&&(t=w()),t}function b(){var t,i,n;if(t=St,i=[],bt.test(e.charAt(St))?(n=e.charAt(St),St++):(n=T,0===Ut&&r(vt)),n!==T)for(;n!==T;)i.push(n),bt.test(e.charAt(St))?(n=e.charAt(St),St++):(n=T,0===Ut&&r(vt));else i=O;return i!==T&&(jt=t,i=wt(i)),t=i}function v(){var t,e;return t=St,e=_(),e!==T&&(jt=t,e=_t(e)),t=e}function w(){var t,i,n,o,s;if(t=St,i=St,n=[],mt.test(e.charAt(St))?(o=e.charAt(St),St++):(o=T,0===Ut&&r(xt)),o!==T)for(;o!==T;)n.push(o),mt.test(e.charAt(St))?(o=e.charAt(St),St++):(o=T,0===Ut&&r(xt));else n=O;if(n!==T&&(n=e.substring(i,St)),(i=n)!==T){for(n=St,o=[],Vt.test(e.charAt(St))?(s=e.charAt(St),St++):(s=T,0===Ut&&r(Tt));s!==T;)o.push(s),Vt.test(e.charAt(St))?(s=e.charAt(St),St++):(s=T,0===Ut&&r(Tt));o!==T&&(o=e.substring(n,St)),n=o,n!==T?(jt=t,i=It(i,n),t=i):(St=t,t=O)}else St=t,t=O;return t}function _(){var t,i,n,o,s;if(t=St,i=[],bt.test(e.charAt(St))?(n=e.charAt(St),St++):(n=T,0===Ut&&r(vt)),n!==T)for(;n!==T;)i.push(n),bt.test(e.charAt(St))?(n=e.charAt(St),St++):(n=T,0===Ut&&r(vt));else i=O;if(i!==T)if(46===e.charCodeAt(St)?(n=Ct,St++):(n=T,0===Ut&&r(Ot)),n!==T){if(o=[],bt.test(e.charAt(St))?(s=e.charAt(St),St++):(s=T,0===Ut&&r(vt)),s!==T)for(;s!==T;)o.push(s),bt.test(e.charAt(St))?(s=e.charAt(St),St++):(s=T,0===Ut&&r(vt));else o=O;o!==T?(jt=t,i=Rt(i,o),t=i):(St=t,t=O)}else St=t,t=O;else St=t,t=O;if(t===T){if(t=St,i=[],bt.test(e.charAt(St))?(n=e.charAt(St),St++):(n=T,0===Ut&&r(vt)),n!==T)for(;n!==T;)i.push(n),bt.test(e.charAt(St))?(n=e.charAt(St),St++):(n=T,0===Ut&&r(vt));else i=O;i!==T&&(jt=t,i=At(i)),t=i}return t}function m(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])t[i]=arguments[e][i];return t}var x,V=arguments.length>1?arguments[1]:{},T={},I={visualFormatString:s},C=s,O=T,R=null,A=":",S={type:"literal",value:":",description:'":"'},j=function(t,e,i,n,r){return{orientation:t?t[0]:"horizontal",cascade:(e||[]).concat([i],[].concat.apply([],n),r||[])}},E="H",P={type:"literal",value:"H",description:'"H"'},M="V",L={type:"literal",value:"V",description:'"V"'},U=function(t){return"H"==t?"horizontal":"vertical"},k="|",z={type:"literal",value:"|",description:'"|"'},X=function(){return{view:null}},B="[",D={type:"literal",value:"[",description:'"["'},F="]",H={type:"literal",value:"]",description:'"]"'},N=function(t,e){return m(t,e?{constraints:e}:{})},W="-",G={type:"literal",value:"-",description:'"-"'},q=function(t){return t},Z=function(){return[{relation:"equ",constant:"default",$parserOffset:i()}]},K="",Y=function(){return[{relation:"equ",constant:0,$parserOffset:i()}]},Q=function(t){return[{relation:"equ",constant:t,$parserOffset:i()}]},J="(",$={type:"literal",value:"(",description:'"("'},tt=",",et={type:"literal",value:",",description:'","'},it=")",nt={type:"literal",value:")",description:'")"'},rt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},ot="@",st={type:"literal",value:"@",description:'"@"'},at=function(t,e,i){return m({relation:"equ"},t||{},e,i?i[1]:{})},ct="==",lt={type:"literal",value:"==",description:'"=="'},ut=function(){return{relation:"equ",$parserOffset:i()}},ht="<=",ft={type:"literal",value:"<=",description:'"<="'},pt=function(){return{relation:"leq",$parserOffset:i()}},dt=">=",gt={type:"literal",value:">=",description:'">="'},yt=function(){return{relation:"geq",$parserOffset:i()}},bt=/^[0-9]/,vt={type:"class",value:"[0-9]",description:"[0-9]"},wt=function(t){return{priority:parseInt(t.join(""),10)}},_t=function(t){return{constant:t}},mt=/^[a-zA-Z_]/,xt={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},Vt=/^[a-zA-Z0-9_]/,Tt={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},It=function(t,e){return{view:t+e}},Ct=".",Ot={type:"literal",value:".",description:'"."'},Rt=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},At=function(t){return parseInt(t.join(""),10)},St=0,jt=0,Et=0,Pt={line:1,column:1,seenCR:!1},Mt=0,Lt=[],Ut=0;if("startRule"in V){if(!(V.startRule in I))throw new Error("Can't start parsing from rule \""+V.startRule+'".');C=I[V.startRule]}if((x=C())!==T&&St===e.length)return x;throw x!==T&&St<e.length&&r({type:"end",description:"end of input"}),o(null,Lt,Mt)}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(t,Error),{SyntaxError:t,parse:e}}(),_=function(){function t(t,e,i,n,r,o){this.message=t,this.expected=e,this.found=i,this.offset=n,this.line=r,this.column=o,this.name="SyntaxError"}function e(e){function i(){return yi}function n(t){return bi!==t&&(bi>t&&(bi=0,vi={line:1,column:1,seenCR:!1}),function(t,i,n){var r,o;for(r=i;r<n;r++)o=e.charAt(r),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(vi,bi,t),bi=t),vi}function r(t){gi<wi||(gi>wi&&(wi=gi,_i=[]),_i.push(t))}function o(i,r,o){var s=n(o),a=o<e.length?e.charAt(o):null;return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new t(null!==i?i:function(t,e){var i,n,r,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=t[r].description;return i=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+i+" but "+n+" found."}(r,a),r,a,o,s.line,s.column)}function s(){var t;return t=l(),t===X&&(t=a()),t}function a(){var t,i,n,o,s,a;if(t=gi,e.substr(gi,2)===H?(i=H,gi+=2):(i=X,0===mi&&r(N)),i!==X)if((n=P())!==X)if((o=c())!==X){for(s=[],a=c();a!==X;)s.push(a),a=c();s!==X?(a=h(),a===X&&(a=W),a!==X?(yi=t,i=G(n,o,s,a),t=i):(gi=t,t=F)):(gi=t,t=F)}else gi=t,t=F;else gi=t,t=F;else gi=t,t=F;return t}function c(){var t,e,i;return t=gi,e=A(),e!==X?(i=w(),i!==X?(yi=t,e=q(e,i),t=e):(gi=t,t=F)):(gi=t,t=F),t}function l(){var t,i,n,o,s,a,c,l;if(t=gi,i=gi,n=u(),n!==X?(58===e.charCodeAt(gi)?(o=Z,gi++):(o=X,0===mi&&r(K)),o!==X?(n=[n,o],i=n):(gi=i,i=F)):(gi=i,i=F),i===X&&(i=W),i!==X)if(n=gi,o=f(),o!==X?(s=y(),s!==X?(o=[o,s],n=o):(gi=n,n=F)):(gi=n,n=F),n===X&&(n=W),n!==X)if((o=p())!==X){for(s=[],a=gi,c=y(),c!==X?(l=p(),l!==X?(c=[c,l],a=c):(gi=a,a=F)):(gi=a,a=F);a!==X;)s.push(a),a=gi,c=y(),c!==X?(l=p(),l!==X?(c=[c,l],a=c):(gi=a,a=F)):(gi=a,a=F);s!==X?(a=gi,c=y(),c!==X?(l=f(),l!==X?(c=[c,l],a=c):(gi=a,a=F)):(gi=a,a=F),a===X&&(a=W),a!==X?(c=h(),c===X&&(c=W),c!==X?(yi=t,i=Y(i,n,o,s,a,c),t=i):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F)}else gi=t,t=F;else gi=t,t=F;else gi=t,t=F;return t}function u(){var t,i;return t=gi,e.substr(gi,2)===Q?(i=Q,gi+=2):(i=X,0===mi&&r(J)),i!==X&&(yi=t,i=$()),t=i,t===X&&(t=gi,72===e.charCodeAt(gi)?(i=tt,gi++):(i=X,0===mi&&r(et)),i!==X&&(yi=t,i=it()),(t=i)===X&&(t=gi,86===e.charCodeAt(gi)?(i=nt,gi++):(i=X,0===mi&&r(rt)),i!==X&&(yi=t,i=ot()),(t=i)===X&&(t=gi,90===e.charCodeAt(gi)?(i=st,gi++):(i=X,0===mi&&r(at)),i!==X&&(yi=t,i=ct()),t=i))),t}function h(){var t,i,n,o,s;for(t=gi,i=[],32===e.charCodeAt(gi)?(n=lt,gi++):(n=X,0===mi&&r(ut));n!==X;)i.push(n),32===e.charCodeAt(gi)?(n=lt,gi++):(n=X,0===mi&&r(ut));if(i!==X)if(e.substr(gi,2)===ht?(n=ht,gi+=2):(n=X,0===mi&&r(ft)),n!==X){for(o=[],e.length>gi?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(pt));s!==X;)o.push(s),e.length>gi?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(pt));o!==X?(i=[i,n,o],t=i):(gi=t,t=F)}else gi=t,t=F;else gi=t,t=F;return t}function f(){var t,i;return t=gi,124===e.charCodeAt(gi)?(i=dt,gi++):(i=X,0===mi&&r(gt)),i!==X&&(yi=t,i=yt()),t=i}function p(){var t,i,n,o,s,a,c;if(t=gi,91===e.charCodeAt(gi)?(i=bt,gi++):(i=X,0===mi&&r(vt)),i!==X)if((n=d())!==X){for(o=[],s=gi,44===e.charCodeAt(gi)?(a=wt,gi++):(a=X,0===mi&&r(_t)),a!==X?(c=d(),c!==X?(a=[a,c],s=a):(gi=s,s=F)):(gi=s,s=F);s!==X;)o.push(s),s=gi,44===e.charCodeAt(gi)?(a=wt,gi++):(a=X,0===mi&&r(_t)),a!==X?(c=d(),c!==X?(a=[a,c],s=a):(gi=s,s=F)):(gi=s,s=F);o!==X?(93===e.charCodeAt(gi)?(s=mt,gi++):(s=X,0===mi&&r(xt)),s!==X?(yi=t,i=Vt(n,o),t=i):(gi=t,t=F)):(gi=t,t=F)}else gi=t,t=F;else gi=t,t=F;return t}function d(){var t,e,i,n;return t=gi,e=E(),e!==X?(i=w(),i===X&&(i=W),i!==X?(n=g(),n===X&&(n=W),n!==X?(yi=t,e=Tt(e,i,n),t=e):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F),t}function g(){var t,i,n,o,s,a;if(t=gi,58===e.charCodeAt(gi)?(i=Z,gi++):(i=X,0===mi&&r(K)),i!==X){if(n=[],o=gi,s=y(),s!==X?(a=p(),a!==X?(s=[s,a],o=s):(gi=o,o=F)):(gi=o,o=F),o!==X)for(;o!==X;)n.push(o),o=gi,s=y(),s!==X?(a=p(),a!==X?(s=[s,a],o=s):(gi=o,o=F)):(gi=o,o=F);else n=F;n!==X?(o=y(),o!==X?(yi=t,i=It(n,o),t=i):(gi=t,t=F)):(gi=t,t=F)}else gi=t,t=F;return t}function y(){var t,i,n,o;return t=gi,e.substr(gi,2)===Ct?(i=Ct,gi+=2):(i=X,0===mi&&r(Ot)),i!==X&&(yi=t,i=Rt()),t=i,t===X&&(t=gi,45===e.charCodeAt(gi)?(i=At,gi++):(i=X,0===mi&&r(St)),i!==X?(n=b(),n!==X?(45===e.charCodeAt(gi)?(o=At,gi++):(o=X,0===mi&&r(St)),o!==X?(yi=t,i=jt(n),t=i):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,45===e.charCodeAt(gi)?(i=At,gi++):(i=X,0===mi&&r(St)),i!==X&&(yi=t,i=Et()),(t=i)===X&&(t=gi,126===e.charCodeAt(gi)?(i=Pt,gi++):(i=X,0===mi&&r(Mt)),i!==X?(n=m(),n!==X?(126===e.charCodeAt(gi)?(o=Pt,gi++):(o=X,0===mi&&r(Mt)),o!==X?(yi=t,i=jt(n),t=i):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,126===e.charCodeAt(gi)?(i=Pt,gi++):(i=X,0===mi&&r(Mt)),i!==X&&(yi=t,i=Lt()),(t=i)===X&&(t=gi,i=Ut,i!==X&&(yi=t,i=kt()),t=i))))),t}function b(){var t;return t=v(),t===X&&(t=w()),t}function v(){var t,e;return t=gi,e=O(),e!==X&&(yi=t,e=zt(e)),t=e,t===X&&(t=gi,e=L(),e!==X&&(yi=t,e=Xt(e)),t=e),t}function w(){var t,i,n,o,s,a,c;if(t=gi,40===e.charCodeAt(gi)?(i=Bt,gi++):(i=X,0===mi&&r(Dt)),i!==X)if((n=_())!==X){for(o=[],s=gi,44===e.charCodeAt(gi)?(a=wt,gi++):(a=X,0===mi&&r(_t)),a!==X?(c=_(),c!==X?(a=[a,c],s=a):(gi=s,s=F)):(gi=s,s=F);s!==X;)o.push(s),s=gi,44===e.charCodeAt(gi)?(a=wt,gi++):(a=X,0===mi&&r(_t)),a!==X?(c=_(),c!==X?(a=[a,c],s=a):(gi=s,s=F)):(gi=s,s=F);o!==X?(41===e.charCodeAt(gi)?(s=Ft,gi++):(s=X,0===mi&&r(Ht)),s!==X?(yi=t,i=Nt(n,o),t=i):(gi=t,t=F)):(gi=t,t=F)}else gi=t,t=F;else gi=t,t=F;return t}function _(){var t,i,n,o,s,a;return t=gi,i=V(),i===X&&(i=W),i!==X?(n=T(),n!==X?(o=gi,64===e.charCodeAt(gi)?(s=Wt,gi++):(s=X,0===mi&&r(Gt)),s!==X?(a=I(),a!==X?(s=[s,a],o=s):(gi=o,o=F)):(gi=o,o=F),o===X&&(o=W),o!==X?(yi=t,i=qt(i,n,o),t=i):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F),t}function m(){var t,i,n,o,s,a,c;if(t=gi,40===e.charCodeAt(gi)?(i=Bt,gi++):(i=X,0===mi&&r(Dt)),i!==X)if((n=x())!==X){for(o=[],s=gi,44===e.charCodeAt(gi)?(a=wt,gi++):(a=X,0===mi&&r(_t)),a!==X?(c=x(),c!==X?(a=[a,c],s=a):(gi=s,s=F)):(gi=s,s=F);s!==X;)o.push(s),s=gi,44===e.charCodeAt(gi)?(a=wt,gi++):(a=X,0===mi&&r(_t)),a!==X?(c=x(),c!==X?(a=[a,c],s=a):(gi=s,s=F)):(gi=s,s=F);o!==X?(41===e.charCodeAt(gi)?(s=Ft,gi++):(s=X,0===mi&&r(Ht)),s!==X?(yi=t,i=Nt(n,o),t=i):(gi=t,t=F)):(gi=t,t=F)}else gi=t,t=F;else gi=t,t=F;return t}function x(){var t,i,n,o,s,a;return t=gi,i=V(),i===X&&(i=W),i!==X?(n=T(),n!==X?(o=gi,64===e.charCodeAt(gi)?(s=Wt,gi++):(s=X,0===mi&&r(Gt)),s!==X?(a=I(),a!==X?(s=[s,a],o=s):(gi=o,o=F)):(gi=o,o=F),o===X&&(o=W),o!==X?(yi=t,i=Zt(i,n,o),t=i):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F),t}function V(){var t,i;return t=gi,e.substr(gi,2)===Kt?(i=Kt,gi+=2):(i=X,0===mi&&r(Yt)),i!==X&&(yi=t,i=Qt()),t=i,t===X&&(t=gi,e.substr(gi,2)===Jt?(i=Jt,gi+=2):(i=X,0===mi&&r($t)),i!==X&&(yi=t,i=te()),(t=i)===X&&(t=gi,e.substr(gi,2)===ee?(i=ee,gi+=2):(i=X,0===mi&&r(ie)),i!==X&&(yi=t,i=ne()),t=i)),t}function T(){var t;return t=O(),t===X&&(t=C())===X&&(t=R()),t}function I(){var t,i,n;if(t=gi,i=[],re.test(e.charAt(gi))?(n=e.charAt(gi),gi++):(n=X,0===mi&&r(oe)),n!==X)for(;n!==X;)i.push(n),re.test(e.charAt(gi))?(n=e.charAt(gi),gi++):(n=X,0===mi&&r(oe));else i=F;return i!==X&&(yi=t,i=se(i)),t=i}function C(){var t,i,n;return t=gi,i=L(),i!==X&&(yi=t,i=ae(i)),t=i,t===X&&(t=gi,45===e.charCodeAt(gi)?(i=At,gi++):(i=X,0===mi&&r(St)),i!==X?(n=L(),n!==X?(yi=t,i=ce(n),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,43===e.charCodeAt(gi)?(i=le,gi++):(i=X,0===mi&&r(ue)),i!==X?(n=L(),n!==X?(yi=t,i=ae(n),t=i):(gi=t,t=F)):(gi=t,t=F))),t}function O(){var t,i,n,o;return t=gi,i=L(),i!==X?(37===e.charCodeAt(gi)?(n=he,gi++):(n=X,0===mi&&r(fe)),n!==X?(yi=t,i=pe(i),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,45===e.charCodeAt(gi)?(i=At,gi++):(i=X,0===mi&&r(St)),i!==X?(n=L(),n!==X?(37===e.charCodeAt(gi)?(o=he,gi++):(o=X,0===mi&&r(fe)),o!==X?(yi=t,i=de(n),t=i):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,43===e.charCodeAt(gi)?(i=le,gi++):(i=X,0===mi&&r(ue)),i!==X?(n=L(),n!==X?(37===e.charCodeAt(gi)?(o=he,gi++):(o=X,0===mi&&r(fe)),o!==X?(yi=t,i=pe(n),t=i):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F))),t}function R(){var t,e,i,n,r;return t=gi,e=P(),e!==X?(i=A(),i===X&&(i=W),i!==X?(n=S(),n===X&&(n=W),n!==X?(r=j(),r===X&&(r=W),r!==X?(yi=t,e=ge(e,i,n,r),t=e):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F)):(gi=t,t=F),t}function A(){var t,i;return t=gi,e.substr(gi,5)===ye?(i=ye,gi+=5):(i=X,0===mi&&r(be)),i!==X&&(yi=t,i=ve()),t=i,t===X&&(t=gi,e.substr(gi,6)===we?(i=we,gi+=6):(i=X,0===mi&&r(_e)),i!==X&&(yi=t,i=me()),(t=i)===X&&(t=gi,e.substr(gi,4)===xe?(i=xe,gi+=4):(i=X,0===mi&&r(Ve)),i!==X&&(yi=t,i=Te()),(t=i)===X&&(t=gi,e.substr(gi,7)===Ie?(i=Ie,gi+=7):(i=X,0===mi&&r(Ce)),i!==X&&(yi=t,i=Oe()),(t=i)===X&&(t=gi,e.substr(gi,6)===Re?(i=Re,gi+=6):(i=X,0===mi&&r(Ae)),i!==X&&(yi=t,i=Se()),(t=i)===X&&(t=gi,e.substr(gi,7)===je?(i=je,gi+=7):(i=X,0===mi&&r(Ee)),i!==X&&(yi=t,i=Pe()),(t=i)===X&&(t=gi,e.substr(gi,8)===Me?(i=Me,gi+=8):(i=X,0===mi&&r(Le)),i!==X&&(yi=t,i=Ue()),(t=i)===X&&(t=gi,e.substr(gi,8)===ke?(i=ke,gi+=8):(i=X,0===mi&&r(ze)),i!==X&&(yi=t,i=Xe()),t=i))))))),t}function S(){var t,i,n;return t=gi,47===e.charCodeAt(gi)?(i=Be,gi++):(i=X,0===mi&&r(De)),i!==X?(n=L(),n!==X?(yi=t,i=Fe(n),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,e.substr(gi,2)===He?(i=He,gi+=2):(i=X,0===mi&&r(Ne)),i!==X?(n=L(),n!==X?(yi=t,i=Fe(n),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,e.substr(gi,2)===We?(i=We,gi+=2):(i=X,0===mi&&r(Ge)),i!==X?(n=L(),n!==X?(yi=t,i=qe(n),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,42===e.charCodeAt(gi)?(i=Ze,gi++):(i=X,0===mi&&r(Ke)),i!==X?(n=L(),n!==X?(yi=t,i=Ye(n),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,e.substr(gi,2)===Qe?(i=Qe,gi+=2):(i=X,0===mi&&r(Je)),i!==X?(n=L(),n!==X?(yi=t,i=Ye(n),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,e.substr(gi,2)===$e?(i=$e,gi+=2):(i=X,0===mi&&r(ti)),i!==X?(n=L(),n!==X?(yi=t,i=ei(n),t=i):(gi=t,t=F)):(gi=t,t=F)))))),t}function j(){var t,i,n;return t=gi,45===e.charCodeAt(gi)?(i=At,gi++):(i=X,0===mi&&r(St)),i!==X?(n=L(),n!==X?(yi=t,i=ei(n),t=i):(gi=t,t=F)):(gi=t,t=F),t===X&&(t=gi,43===e.charCodeAt(gi)?(i=le,gi++):(i=X,0===mi&&r(ue)),i!==X?(n=L(),n!==X?(yi=t,i=Ye(n),t=i):(gi=t,t=F)):(gi=t,t=F)),t}function E(){var t,i,n,o,s;if(t=gi,i=gi,n=[],ii.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(ni)),o!==X)for(;o!==X;)n.push(o),ii.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(ni));else n=F;if(n!==X&&(n=e.substring(i,gi)),(i=n)!==X){for(n=gi,o=[],ri.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oi));s!==X;)o.push(s),ri.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oi));o!==X&&(o=e.substring(n,gi)),n=o,n!==X?(o=M(),o!==X?(yi=t,i=si(i,n,o),t=i):(gi=t,t=F)):(gi=t,t=F)}else gi=t,t=F;if(t===X){if(t=gi,i=gi,n=[],ii.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(ni)),o!==X)for(;o!==X;)n.push(o),ii.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(ni));else n=F;if(n!==X&&(n=e.substring(i,gi)),(i=n)!==X){for(n=gi,o=[],ri.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oi));s!==X;)o.push(s),ri.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oi));o!==X&&(o=e.substring(n,gi)),n=o,n!==X?(yi=t,i=ai(i,n),t=i):(gi=t,t=F)}else gi=t,t=F}return t}function P(){var t,i,n,o,s;if(t=gi,i=gi,n=[],ii.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(ni)),o!==X)for(;o!==X;)n.push(o),ii.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(ni));else n=F;if(n!==X&&(n=e.substring(i,gi)),(i=n)!==X){for(n=gi,o=[],ri.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oi));s!==X;)o.push(s),ri.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oi));o!==X&&(o=e.substring(n,gi)),n=o,n!==X?(yi=t,i=ai(i,n),t=i):(gi=t,t=F)}else gi=t,t=F;return t}function M(){var t,i,n,o;if(t=gi,e.substr(gi,2)===ci?(i=ci,gi+=2):(i=X,0===mi&&r(li)),i!==X){if(n=[],re.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(oe)),o!==X)for(;o!==X;)n.push(o),re.test(e.charAt(gi))?(o=e.charAt(gi),gi++):(o=X,0===mi&&r(oe));else n=F;n!==X?(yi=t,i=ui(n),t=i):(gi=t,t=F)}else gi=t,t=F;return t}function L(){var t,i,n,o,s;if(t=gi,i=[],re.test(e.charAt(gi))?(n=e.charAt(gi),gi++):(n=X,0===mi&&r(oe)),n!==X)for(;n!==X;)i.push(n),re.test(e.charAt(gi))?(n=e.charAt(gi),gi++):(n=X,0===mi&&r(oe));else i=F;if(i!==X)if(46===e.charCodeAt(gi)?(n=hi,gi++):(n=X,0===mi&&r(fi)),n!==X){if(o=[],re.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oe)),s!==X)for(;s!==X;)o.push(s),re.test(e.charAt(gi))?(s=e.charAt(gi),gi++):(s=X,0===mi&&r(oe));else o=F;o!==X?(yi=t,i=pi(i,o),t=i):(gi=t,t=F)}else gi=t,t=F;else gi=t,t=F;if(t===X){if(t=gi,i=[],re.test(e.charAt(gi))?(n=e.charAt(gi),gi++):(n=X,0===mi&&r(oe)),n!==X)for(;n!==X;)i.push(n),re.test(e.charAt(gi))?(n=e.charAt(gi),gi++):(n=X,0===mi&&r(oe));else i=F;i!==X&&(yi=t,i=di(i)),t=i}return t}function U(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])t[i]=arguments[e][i];return t}var k,z=arguments.length>1?arguments[1]:{},X={},B={visualFormatStringExt:s},D=s,F=X,H="C:",N={type:"literal",value:"C:",description:'"C:"'},W=null,G=function(t,e,i,n){return{type:"attribute",view:t.view,attributes:[e].concat(i)}},q=function(t,e){return{attr:t,predicates:e}},Z=":",K={type:"literal",value:":",description:'":"'},Y=function(t,e,i,n,r,o){return{type:"vfl",orientation:t?t[0]:"horizontal",cascade:(e||[]).concat(i,[].concat.apply([],n),r||[])}},Q="HV",J={type:"literal",value:"HV",description:'"HV"'},$=function(){return"horzvert"},tt="H",et={type:"literal",value:"H",description:'"H"'},it=function(){return"horizontal"},nt="V",rt={type:"literal",value:"V",description:'"V"'},ot=function(){return"vertical"},st="Z",at={type:"literal",value:"Z",description:'"Z"'},ct=function(){return"zIndex"},lt=" ",ut={type:"literal",value:" ",description:'" "'},ht="//",ft={type:"literal",value:"//",description:'"//"'},pt={type:"any",description:"any character"},dt="|",gt={type:"literal",value:"|",description:'"|"'},yt=function(){return{view:null}},bt="[",vt={type:"literal",value:"[",description:'"["'},wt=",",_t={type:"literal",value:",",description:'","'},mt="]",xt={type:"literal",value:"]",description:'"]"'},Vt=function(t,e){return e.length?[t].concat([].concat.apply([],e)):t},Tt=function(t,e,i){return U(U(t,e?{constraints:e}:{}),i?{cascade:i}:{})},It=function(t,e){return[].concat([].concat.apply([],t),[e])},Ct="->",Ot={type:"literal",value:"->",description:'"->"'},Rt=function(){return[{relation:"none"}]},At="-",St={type:"literal",value:"-",description:'"-"'},jt=function(t){return t},Et=function(){return[{relation:"equ",constant:"default"}]},Pt="~",Mt={type:"literal",value:"~",description:'"~"'},Lt=function(){return[{relation:"equ",equalSpacing:!0}]},Ut="",kt=function(){return[{relation:"equ",constant:0}]},zt=function(t){return[{relation:"equ",multiplier:t.multiplier}]},Xt=function(t){return[{relation:"equ",constant:t}]},Bt="(",Dt={type:"literal",value:"(",description:'"("'},Ft=")",Ht={type:"literal",value:")",description:'")"'},Nt=function(t,e){return[t].concat(e.map(function(t){return t[1]}))},Wt="@",Gt={type:"literal",value:"@",description:'"@"'},qt=function(t,e,i){return U({relation:"equ"},t||{},e,i?i[1]:{})},Zt=function(t,e,i){return U({relation:"equ",equalSpacing:!0},t||{},e,i?i[1]:{})},Kt="==",Yt={type:"literal",value:"==",description:'"=="'},Qt=function(){return{relation:"equ"}},Jt="<=",$t={type:"literal",value:"<=",description:'"<="'},te=function(){return{relation:"leq"}},ee=">=",ie={type:"literal",value:">=",description:'">="'},ne=function(){return{relation:"geq"}},re=/^[0-9]/,oe={type:"class",value:"[0-9]",description:"[0-9]"},se=function(t){return{priority:parseInt(t.join(""),10)}},ae=function(t){return{constant:t}},ce=function(t){return{constant:-t}},le="+",ue={type:"literal",value:"+",description:'"+"'},he="%",fe={type:"literal",value:"%",description:'"%"'},pe=function(t){return{view:null,multiplier:t/100}},de=function(t){return{view:null,multiplier:t/-100}},ge=function(t,e,i,n){return{view:t.view,attribute:e||void 0,multiplier:i||1,constant:n||void 0}},ye=".left",be={type:"literal",value:".left",description:'".left"'},ve=function(){return"left"},we=".right",_e={type:"literal",value:".right",description:'".right"'},me=function(){return"right"},xe=".top",Ve={type:"literal",value:".top",description:'".top"'},Te=function(){return"top"},Ie=".bottom",Ce={type:"literal",value:".bottom",description:'".bottom"'},Oe=function(){return"bottom"},Re=".width",Ae={type:"literal",value:".width",description:'".width"'},Se=function(){return"width"},je=".height",Ee={type:"literal",value:".height",description:'".height"'},Pe=function(){return"height"},Me=".centerX",Le={type:"literal",value:".centerX",description:'".centerX"'},Ue=function(){return"centerX"},ke=".centerY",ze={type:"literal",value:".centerY",description:'".centerY"'},Xe=function(){return"centerY"},Be="/",De={type:"literal",value:"/",description:'"/"'},Fe=function(t){return 1/t},He="/+",Ne={type:"literal",value:"/+",description:'"/+"'},We="/-",Ge={type:"literal",value:"/-",description:'"/-"'},qe=function(t){return-1/t},Ze="*",Ke={type:"literal",value:"*",description:'"*"'},Ye=function(t){return t},Qe="*+",Je={type:"literal",value:"*+",description:'"*+"'},$e="*-",ti={type:"literal",value:"*-",description:'"*-"'},ei=function(t){return-t},ii=/^[a-zA-Z_]/,ni={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},ri=/^[a-zA-Z0-9_]/,oi={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},si=function(t,e,n){return{view:t+e,range:n,$parserOffset:i()}},ai=function(t,e){return{view:t+e,$parserOffset:i()}},ci="..",li={type:"literal",value:"..",description:'".."'},ui=function(t){return parseInt(t)},hi=".",fi={type:"literal",value:".",description:'"."'},pi=function(t,e){return parseFloat(t.concat(".").concat(e).join(""),10)},di=function(t){return parseInt(t.join(""),10)},gi=0,yi=0,bi=0,vi={line:1,column:1,seenCR:!1},wi=0,_i=[],mi=0;if("startRule"in z){if(!(z.startRule in B))throw new Error("Can't start parsing from rule \""+z.startRule+'".');D=B[z.startRule]}if((k=D())!==X&&gi===e.length)return k;throw k!==X&&gi<e.length&&r({type:"end",description:"end of input"}),o(null,_i,wi)}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(t,Error),{SyntaxError:t,parse:e}}(),m={HORIZONTAL:1,VERTICAL:2,ZINDEX:4},x=["viewport","spacing","colors","shapes","widths","heights"],V=function(){function t(){n(this,t)}return d(t,null,[{key:"parseLine",value:function(t,e){if(0===t.length||e&&e.extended&&0===t.indexOf("//"))return[];var i=e&&e.extended?_.parse(t):w.parse(t);if(e&&"raw"===e.outFormat)return[i];var n={constraints:[],lineIndex:(e?e.lineIndex:void 0)||1,subViews:(e?e.subViews:void 0)||{}};if("attribute"===i.type)for(var r=0;r<i.attributes.length;r++)for(var o=i.attributes[r],s=0;s<o.predicates.length;s++){var a=o.predicates[s];n.constraints.push({view1:i.view,attr1:o.attr,relation:a.relation,view2:a.view,attr2:a.attribute||o.attr,multiplier:a.multiplier,constant:a.constant,priority:a.priority})}else switch(i.orientation){case"horizontal":n.orientation=m.HORIZONTAL,n.horizontal=!0,c(n,i.cascade,null);break;case"vertical":n.orientation=m.VERTICAL,c(n,i.cascade,null);break;case"horzvert":n.orientation=m.HORIZONTAL,n.horizontal=!0,c(n,i.cascade,null),n={constraints:n.constraints,lineIndex:n.lineIndex,subViews:n.subViews,orientation:m.VERTICAL},c(n,i.cascade,null);break;case"zIndex":n.orientation=m.ZINDEX,c(n,i.cascade,null)}return n.constraints}},{key:"parse",value:function(t,e){var i=e&&e.lineSeparator?e.lineSeparator:"\n";if(!Array.isArray(t)&&t.indexOf(i)<0)try{return this.parseLine(t,e)}catch(e){throw e.source=t,e}t=Array.isArray(t)?t:[t];var n=void 0,r=[],o=0,s=void 0,a={lineIndex:o,extended:e&&e.extended,strict:!e||void 0===e.strict||e.strict,outFormat:e?e.outFormat:void 0,subViews:{}};try{for(var c=0;c<t.length;c++){n=t[c].split(i);for(var l=0;l<n.length;l++)s=n[l],o++,a.lineIndex=o,a.strict||(s=s.trim()),(a.strict||s.length)&&(r=r.concat(this.parseLine(s,a)))}}catch(t){throw t.source=s,t.line=o,t}return r}},{key:"parseMetaInfo",value:function(t,e){var i=e&&e.lineSeparator?e.lineSeparator:"\n",n=e?e.prefix:void 0;t=Array.isArray(t)?t:[t];for(var r,o={},s=0;s<t.length;s++)for(var c=t[s].split(i),l=0;l<c.length;l++)for(var u=c[l],h=0;h<x.length;h++)for(var f=0;f<(n?2:1);f++){var p=x[h],d=(0===f?"":n)+p;if(0===u.indexOf("//"+d+" "))for(var g=u.substring(3+d.length).split(" "),y=0;y<g.length;y++){o[p]=o[p]||{};for(var b=g[y].split(":"),v=a(b[0],!0),w=0;w<v.length;w++)o[p][v[w]]=b.length>1?b[1]:""}else 0===u.indexOf("//"+d+":")&&(o[p]=u.substring(3+d.length))}if(o.viewport){var _=o.viewport,m=_["aspect-ratio"];m&&(m=m.split("/"),_["aspect-ratio"]=parseInt(m[0])/parseInt(m[1])),void 0!==_.height&&(_.height="intrinsic"===_.height||parseInt(_.height)),void 0!==_.width&&(_.width="intrinsic"===_.width||parseInt(_.width)),void 0!==_["max-height"]&&(_["max-height"]=parseInt(_["max-height"])),void 0!==_["max-width"]&&(_["max-width"]=parseInt(_["max-width"])),void 0!==_["min-height"]&&(_["min-height"]=parseInt(_["min-height"])),void 0!==_["min-width"]&&(_["min-width"]=parseInt(_["min-width"]))}if(o.widths)for(r in o.widths){var V="intrinsic"===o.widths[r]||parseInt(o.widths[r]);o.widths[r]=V,(void 0===V||isNaN(V))&&delete o.widths[r]}if(o.heights)for(r in o.heights){var T="intrinsic"===o.heights[r]||parseInt(o.heights[r]);o.heights[r]=T,(void 0===T||isNaN(T))&&delete o.heights[r]}if(o.spacing){var I=JSON.parse(o.spacing);if(o.spacing=I,Array.isArray(I)){for(var C=0,O=I.length;C<O;C++)if(isNaN(I[C])){delete o.spacing;break}}else(void 0===I||isNaN(I))&&delete o.spacing}return o}}]),t}(),T=function(){function t(e){n(this,t),this._name=e.name,this._type=e.type,this._solver=e.solver,this._attr={},e.name||(this._attr[y.LEFT]=new g.Variable,this._solver.addConstraint(new g.StayConstraint(this._attr[y.LEFT],g.Strength.required)),this._attr[y.TOP]=new g.Variable,this._solver.addConstraint(new g.StayConstraint(this._attr[y.TOP],g.Strength.required)),this._attr[y.ZINDEX]=new g.Variable,this._solver.addConstraint(new g.StayConstraint(this._attr[y.ZINDEX],g.Strength.required)))}return d(t,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"getValue",value:function(t){return this._attr[t]?this._attr[t].value():void 0}},{key:"_getAttr",value:function(t){if(this._attr[t])return this._attr[t];switch(this._attr[t]=new g.Variable,t){case y.RIGHT:this._getAttr(y.LEFT),this._getAttr(y.WIDTH),this._solver.addConstraint(new g.Equation(this._attr[t],g.plus(this._attr[y.LEFT],this._attr[y.WIDTH])));break;case y.BOTTOM:this._getAttr(y.TOP),this._getAttr(y.HEIGHT),this._solver.addConstraint(new g.Equation(this._attr[t],g.plus(this._attr[y.TOP],this._attr[y.HEIGHT])));break;case y.CENTERX:this._getAttr(y.LEFT),this._getAttr(y.WIDTH),this._solver.addConstraint(new g.Equation(this._attr[t],g.plus(this._attr[y.LEFT],g.divide(this._attr[y.WIDTH],2))));break;case y.CENTERY:this._getAttr(y.TOP),this._getAttr(y.HEIGHT),this._solver.addConstraint(new g.Equation(this._attr[t],g.plus(this._attr[y.TOP],g.divide(this._attr[y.HEIGHT],2))))}return this._attr[t]}},{key:"_getAttrValue",value:function(t){return this._getAttr(t).value}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttrValue(y.LEFT)}},{key:"right",get:function(){return this._getAttrValue(y.RIGHT)}},{key:"width",get:function(){return this._getAttrValue(y.WIDTH)}},{key:"height",get:function(){return this._getAttrValue(y.HEIGHT)}},{key:"intrinsicWidth",get:function(){return this._intrinsicWidth},set:function(t){if(void 0!==t&&t!==this._intrinsicWidth){var e=this._getAttr(y.WIDTH);void 0===this._intrinsicWidth&&this._solver.addEditVar(e,new g.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicWidth=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"intrinsicHeight",get:function(){return this._intrinsicHeight},set:function(t){if(void 0!==t&&t!==this._intrinsicHeight){var e=this._getAttr(y.HEIGHT);void 0===this._intrinsicHeight&&this._solver.addEditVar(e,new g.Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicHeight=t,this._solver.suggestValue(e,t),this._solver.resolve()}}},{key:"top",get:function(){return this._getAttrValue(y.TOP)}},{key:"bottom",get:function(){return this._getAttrValue(y.BOTTOM)}},{key:"centerX",get:function(){return this._getAttrValue(y.CENTERX)}},{key:"centerY",get:function(){return this._getAttrValue(y.CENTERY)}},{key:"zIndex",get:function(){return this._getAttrValue(y.ZINDEX)}},{key:"type",get:function(){return this._type}}]),t}(),I=new g.Strength("defaultPriority",0,1e3,1e3),C=function(){function t(e){n(this,t),this._solver=new g.SimplexSolver,this._subViews={},this._parentSubView=new T({solver:this._solver}),this.setSpacing(e&&void 0!==e.spacing?e.spacing:8),e&&(void 0===e.width&&void 0===e.height||this.setSize(e.width,e.height),e.constraints&&this.addConstraints(e.constraints))}return d(t,[{key:"setSize",value:function(t,e){return this._parentSubView.intrinsicWidth=t,this._parentSubView.intrinsicHeight=e,this}},{key:"setSpacing",value:function(t){switch(Array.isArray(t)?t.length:-1){case-1:t=[t,t,t,t,t,t,1];break;case 1:t=[t[0],t[0],t[0],t[0],t[0],t[0],1];break;case 2:t=[t[1],t[0],t[1],t[0],t[0],t[1],1];break;case 3:t=[t[1],t[0],t[1],t[0],t[0],t[1],t[2]];break;case 6:t=[t[0],t[1],t[2],t[3],t[4],t[5],1];break;case 7:break;default:throw"Invalid spacing syntax"}if(!p(this._spacing,t)&&(this._spacing=t,this._spacingVars)){for(var e=0;e<this._spacingVars.length;e++)this._spacingVars[e]&&this._solver.suggestValue(this._spacingVars[e],this._spacing[e]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(t){return f.call(this,t),this}},{key:"addConstraints",value:function(t){for(var e=0;e<t.length;e++)f.call(this,t[e]);return this}},{key:"width",get:function(){return this._parentSubView.intrinsicWidth}},{key:"height",get:function(){return this._parentSubView.intrinsicHeight}},{key:"fittingWidth",get:function(){return this._parentSubView.width}},{key:"fittingHeight",get:function(){return this._parentSubView.height}},{key:"subViews",get:function(){return this._subViews}}]),t}(),O={Attribute:y,Relation:b,Priority:v,VisualFormat:V,View:C,SubView:T};e.exports=O},{"cassowary/bin/c":2}],2:[function(t,e,i){(function(){(function(i){"use strict";try{(function(){}).bind(i)}catch(t){Object.defineProperty(Function.prototype,"bind",{value:function(t){var e=this;return function(){return e.apply(t,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var n=void 0!==i.HTMLElement,r=function(t){for(var e=null;t&&t!=Object.prototype;){if(t.tagName){e=t.tagName;break}t=t.prototype}return e||"div"},o=1e-8,s={},a=function(t,e){if(t&&e){if("function"==typeof t[e])return t[e];var i=t.prototype;if(i&&"function"==typeof i[e])return i[e];if(i!==Object.prototype&&i!==Function.prototype)return"function"==typeof t.__super__?a(t.__super__,e):void 0}},c=i.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(t){var e=null,o=null;t.extends&&(o=t.extends,delete t.extends),t.initialize&&(e=t.initialize,delete t.initialize);var a=e||function(){};Object.defineProperty(a,"__super__",{value:o||Object,enumerable:!1,configurable:!0,writable:!1}),t._t&&(s[t._t]=a);var c=a.prototype=Object.create(o?o.prototype:Object.prototype);if(this.extend(c,t),n&&o&&o.prototype instanceof i.HTMLElement){var l=a,u=r(c),h=function(t){return t.__proto__=c,l.apply(t,arguments),c.created&&t.created(),c.decorate&&t.decorate(),t};this.extend(c,{upgrade:h}),a=function(){return h(i.document.createElement(u))},a.prototype=c,this.extend(a,{ctor:l})}return a},extend:function(t,e){return this.own(e,function(i){var n=Object.getOwnPropertyDescriptor(e,i);try{"function"==typeof n.get||"function"==typeof n.set?Object.defineProperty(t,i,n):"function"==typeof n.value||"_"===i.charAt(0)?(n.writable=!0,n.configurable=!0,n.enumerable=!1,Object.defineProperty(t,i,n)):t[i]=e[i]}catch(t){}}),t},own:function(t,e,n){return Object.getOwnPropertyNames(t).forEach(e,n||i),t},traceprint:function(t){c.verbose&&console.log(t)},fnenterprint:function(t){console.log("* "+t)},fnexitprint:function(t){console.log("- "+t)},assert:function(t,e){if(!t)throw new c.InternalError("Assertion failed: "+e)},plus:function(t,e){return t instanceof c.Expression||(t=new c.Expression(t)),e instanceof c.Expression||(e=new c.Expression(e)),t.plus(e)},minus:function(t,e){return t instanceof c.Expression||(t=new c.Expression(t)),e instanceof c.Expression||(e=new c.Expression(e)),t.minus(e)},times:function(t,e){return("number"==typeof t||t instanceof c.Variable)&&(t=new c.Expression(t)),("number"==typeof e||e instanceof c.Variable)&&(e=new c.Expression(e)),t.times(e)},divide:function(t,e){return("number"==typeof t||t instanceof c.Variable)&&(t=new c.Expression(t)),("number"==typeof e||e instanceof c.Variable)&&(e=new c.Expression(e)),t.divide(e)},approx:function(t,e){if(t===e)return!0;var i,n;return i=t instanceof c.Variable?t.value:t,n=e instanceof c.Variable?e.value:e,0==i?o>Math.abs(n):0==n?o>Math.abs(i):Math.abs(i-n)<Math.abs(i)*o},_inc:function(t){return function(){return t++}}(0),parseJSON:function(t){return JSON.parse(t,function(t,e){if("object"!=typeof e||"string"!=typeof e._t)return e;var i=e._t,n=s[i];if(i&&n){var r=a(n,"fromJSON");if(r)return r(e,n)}return e})}};"function"==typeof t&&void 0!==e&&"undefined"==typeof load&&(i.exports=c)})(this),function(t){"use strict";var e=function(t){return t.hashCode?t.hashCode:""+t},i=function(t,e){Object.keys(t).forEach(function(i){e[i]=t[i]})},n={};t.HashTable=t.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(t,i){var n=e(t);this._store.hasOwnProperty(n)||this.size++,this._store[n]=i,this._keyStrMap[n]=t},get:function(t){return this.size?(t=e(t),void 0!==this._store[t]?this._store[t]:null):null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var t={};i(this._store,t),this._store=t},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},delete:function(t){t=e(t),this._store.hasOwnProperty(t)&&(this._deleted++,delete this._store[t],this.size>0&&this.size--)},each:function(t,e){if(this.size){this._perhapsCompact();var i=this._store,n=this._keyStrMap;Object.keys(this._store).forEach(function(r){t.call(e||null,n[r],i[r])},this)}},escapingEach:function(t,e){if(this.size){this._perhapsCompact();for(var i=this,r=this._store,o=this._keyStrMap,s=n,a=Object.keys(r),c=0;a.length>c;c++)if(function(n){i._store.hasOwnProperty(n)&&(s=t.call(e||null,o[n],r[n]))}(a[c]),s){if(void 0!==s.retval)return s;if(s.brk)break}}},clone:function(){var e=new t.HashTable;return this.size&&(e.size=this.size,i(this._store,e._store),i(this._keyStrMap,e._keyStrMap)),e},equals:function(e){if(e===this)return!0;if(!(e instanceof t.HashTable)||e._size!==this._size)return!1;for(var i=Object.keys(this._store),n=0;i.length>n;n++){var r=i[n];if(this._keyStrMap[r]!==e._keyStrMap[r]||this._store[r]!==e._store[r])return!1}return!0},toString:function(){var t="";return this.each(function(e,i){t+=e+" => "+i+"\n"}),t}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.HashSet=t.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(t){var e=this.storage;e.indexOf(t),-1==e.indexOf(t)&&e.push(t),this.size=this.storage.length},values:function(){return this.storage},has:function(t){return-1!=this.storage.indexOf(t)},delete:function(t){var e=this.storage.indexOf(t);return-1==e?null:(this.storage.splice(e,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(t,e){this.size&&this.storage.forEach(t,e)},escapingEach:function(t,e){this.size&&this.storage.forEach(t,e)},toString:function(){var t=this.size+" {",e=!0;return this.each(function(i){e?e=!1:t+=", ",t+=i}),t+="}\n"},toJSON:function(){var t=[];return this.each(function(e){t.push(e.toJSON())}),{_t:"c.HashSet",data:t}},fromJSON:function(e){var i=new t.HashSet;return e.data&&(i.size=e.data.length,i.storage=e.data),i}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Error=t.inherit({initialize:function(t){t&&(this._description=t)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(t){this._description=t},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var e=function(e,i){return t.inherit({extends:t.Error,initialize:function(){t.Error.apply(this,arguments)},_name:e||"",_description:i||""})};t.ConstraintNotFound=e("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),t.InternalError=e("c.InternalError"),t.NonExpression=e("c.NonExpression","The resulting expression would be non"),t.NotEnoughStays=e("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),t.RequiredFailure=e("c.RequiredFailure","A required constraint cannot be satisfied"),t.TooDifficult=e("c.TooDifficult","The constraints are too difficult to solve")}(this.c||e.parent.exports||{}),function(t){"use strict";t.SymbolicWeight=t.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var t=1,e=arguments.length-1;e>=0;--e)this.value+=arguments[e]*t,t*=1e3},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||e.parent.exports||{}),function(t){t.Strength=t.inherit({initialize:function(e,i,n,r){this.name=e,this.symbolicWeight=i instanceof t.SymbolicWeight?i:new t.SymbolicWeight(i,n,r)},get required(){return this===t.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),t.Strength.required=new t.Strength("<Required>",1e3,1e3,1e3),t.Strength.strong=new t.Strength("strong",1,0,0),t.Strength.medium=new t.Strength("medium",0,1,0),t.Strength.weak=new t.Strength("weak",0,0,1)}(this.c||(void 0!==e?e.parent.exports.c:{})),function(t){"use strict";t.AbstractVariable=t.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(e,i){this.hashCode=t._inc(),this.name=(i||"")+this.hashCode,e&&(void 0!==e.name&&(this.name=e.name),void 0!==e.value&&(this.value=e.value),void 0!==e.prefix&&(this._prefix=e.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var t={};return this._t&&(t._t=this._t),this.name&&(t.name=this.name),void 0!==this.value&&(t.value=this.value),this._prefix&&(t._prefix=this._prefix),this._t&&(t._t=this._t),t},fromJSON:function(e,i){var n=new i;return t.extend(n,e),n},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),t.Variable=t.inherit({_t:"c.Variable",extends:t.AbstractVariable,initialize:function(e){this._init(e,"v");var i=t.Variable._map;i&&(i[this.name]=this)},isExternal:!0}),t.DummyVariable=t.inherit({_t:"c.DummyVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),t.ObjectiveVariable=t.inherit({_t:"c.ObjectiveVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"o")},value:"obj"}),t.SlackVariable=t.inherit({_t:"c.SlackVariable",extends:t.AbstractVariable,initialize:function(t){this._init(t,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Point=t.inherit({initialize:function(e,i,n){if(e instanceof t.Variable)this._x=e;else{var r={value:e};n&&(r.name="x"+n),this._x=new t.Variable(r)}if(i instanceof t.Variable)this._y=i;else{var o={value:i};n&&(o.name="y"+n),this._y=new t.Variable(o)}},get x(){return this._x},set x(e){e instanceof t.Variable?this._x=e:this._x.value=e},get y(){return this._y},set y(e){e instanceof t.Variable?this._y=e:this._y.value=e},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Expression=t.inherit({initialize:function(e,i,n){t.GC&&console.log("new c.Expression"),this.constant="number"!=typeof n||isNaN(n)?0:n,this.terms=new t.HashTable,e instanceof t.AbstractVariable?this.setVariable(e,"number"==typeof i?i:1):"number"==typeof e&&(isNaN(e)?console.trace():this.constant=e)},initializeFromHash:function(e,i){return t.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),t.GC&&console.log("clone c.Expression"),this.constant=e,this.terms=i.clone(),this},multiplyMe:function(t){this.constant*=t;var e=this.terms;return e.each(function(i,n){e.set(i,n*t)}),this},clone:function(){t.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var e=new t.Expression;return e.initializeFromHash(this.constant,this.terms),e},times:function(e){if("number"==typeof e)return this.clone().multiplyMe(e);if(this.isConstant)return e.times(this.constant);if(e.isConstant)return this.times(e.constant);throw new t.NonExpression},plus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,1):e instanceof t.Variable?this.clone().addVariable(e,1):void 0},minus:function(e){return e instanceof t.Expression?this.clone().addExpression(e,-1):e instanceof t.Variable?this.clone().addVariable(e,-1):void 0},divide:function(e){if("number"==typeof e){if(t.approx(e,0))throw new t.NonExpression;return this.times(1/e)}if(e instanceof t.Expression){if(!e.isConstant)throw new t.NonExpression;return this.times(1/e.constant)}},addExpression:function(e,i,n,r){return e instanceof t.AbstractVariable&&(e=new t.Expression(e),t.trace&&console.log("addExpression: Had to cast a var to an expression")),i=i||1,this.constant+=i*e.constant,e.terms.each(function(t,e){this.addVariable(t,e*i,n,r)},this),this},addVariable:function(e,i,n,r){null==i&&(i=1),t.trace&&console.log("c.Expression::addVariable():",e,i);var o=this.terms.get(e);if(o){var s=o+i;0==s||t.approx(s,0)?(r&&r.noteRemovedVariable(e,n),this.terms.delete(e)):this.setVariable(e,s)}else t.approx(i,0)||(this.setVariable(e,i),r&&r.noteAddedVariable(e,n));return this},setVariable:function(t,e){return this.terms.set(t,e),this},anyPivotableVariable:function(){if(this.isConstant)throw new t.InternalError("anyPivotableVariable called on a constant");var e=this.terms.escapingEach(function(t){return t.isPivotable?{retval:t}:void 0});return e&&void 0!==e.retval?e.retval:null},substituteOut:function(e,i,n,r){t.trace&&(t.fnenterprint("CLE:substituteOut: "+e+", "+i+", "+n+", ..."),t.traceprint("this = "+this));var o=this.setVariable.bind(this),s=this.terms,a=s.get(e);s.delete(e),this.constant+=a*i.constant,i.terms.each(function(e,i){var c=s.get(e);if(c){var l=c+a*i;t.approx(l,0)?(r.noteRemovedVariable(e,n),s.delete(e)):o(e,l)}else o(e,a*i),r&&r.noteAddedVariable(e,n)}),t.trace&&t.traceprint("Now this is "+this)},changeSubject:function(t,e){this.setVariable(t,this.newSubject(e))},newSubject:function(e){t.trace&&t.fnenterprint("newSubject:"+e);var i=1/this.terms.get(e);return this.terms.delete(e),this.multiplyMe(-i),i},coefficientFor:function(t){return this.terms.get(t)||0},get isConstant(){return 0==this.terms.size},toString:function(){var e="",i=!1;if(!t.approx(this.constant,0)||this.isConstant){if(e+=this.constant,this.isConstant)return e;i=!0}return this.terms.each(function(t,n){i&&(e+=" + "),e+=n+"*"+t,i=!0}),e},equals:function(e){return e===this||e instanceof t.Expression&&e.constant===this.constant&&e.terms.equals(this.terms)},Plus:function(t,e){return t.plus(e)},Minus:function(t,e){return t.minus(e)},Times:function(t,e){return t.times(e)},Divide:function(t,e){return t.divide(e)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.AbstractConstraint=t.inherit({initialize:function(e,i){this.hashCode=t._inc(),this.strength=e||t.Strength.required,this.weight=i||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===t.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var e=t.AbstractConstraint.prototype.toString,i=function(e,i,n){t.AbstractConstraint.call(this,i||t.Strength.strong,n),this.variable=e,this.expression=new t.Expression(e,-1,e.value)};t.EditConstraint=t.inherit({extends:t.AbstractConstraint,initialize:function(){i.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+e.call(this)}}),t.StayConstraint=t.inherit({extends:t.AbstractConstraint,initialize:function(){i.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+e.call(this)}});var n=t.Constraint=t.inherit({extends:t.AbstractConstraint,initialize:function(e,i,n){t.AbstractConstraint.call(this,i,n),this.expression=e}});t.Inequality=t.inherit({extends:t.Constraint,_cloneOrNewCle:function(e){return e.clone?e.clone():new t.Expression(e)},initialize:function(e,i,r,o,s){var a=e instanceof t.Expression,c=r instanceof t.Expression,l=e instanceof t.AbstractVariable,u=r instanceof t.AbstractVariable,h="number"==typeof e,f="number"==typeof r;if((a||h)&&u){var p=e,d=i,g=r,y=o,b=s;if(n.call(this,this._cloneOrNewCle(p),y,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(g);else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(g,-1)}}else if(l&&(c||f)){var p=r,d=i,g=e,y=o,b=s;if(n.call(this,this._cloneOrNewCle(p),y,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(g);else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(g,-1)}}else{if(a&&f){var v=e,d=i,w=r,y=o,b=s;if(n.call(this,this._cloneOrNewCle(v),y,b),d==t.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(w));else{if(d!=t.GEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(w),-1)}return this}if(h&&c){var v=r,d=i,w=e,y=o,b=s;if(n.call(this,this._cloneOrNewCle(v),y,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(w));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(w),-1)}return this}if(a&&c){var v=e,d=i,w=r,y=o,b=s;if(n.call(this,this._cloneOrNewCle(w),y,b),d==t.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(v));else{if(d!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(v),-1)}}else{if(a)return n.call(this,e,i,r);if(i==t.GEQ)n.call(this,new t.Expression(r),o,s),this.expression.multiplyMe(-1),this.expression.addVariable(e);else{if(i!=t.LEQ)throw new t.InternalError("Invalid operator in c.Inequality constructor");n.call(this,new t.Expression(r),o,s),this.expression.addVariable(e,-1)}}}},isInequality:!0,toString:function(){return n.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),t.Equation=t.inherit({extends:t.Constraint,initialize:function(e,i,r,o){if(e instanceof t.Expression&&!i||i instanceof t.Strength)n.call(this,e,i,r);else if(e instanceof t.AbstractVariable&&i instanceof t.Expression){var s=e,a=i,c=r,l=o;n.call(this,a.clone(),c,l),this.expression.addVariable(s,-1)}else if(e instanceof t.AbstractVariable&&"number"==typeof i){var s=e,u=i,c=r,l=o;n.call(this,new t.Expression(u),c,l),this.expression.addVariable(s,-1)}else if(e instanceof t.Expression&&i instanceof t.AbstractVariable){var a=e,s=i,c=r,l=o;n.call(this,a.clone(),c,l),this.expression.addVariable(s,-1)}else{if(!(e instanceof t.Expression||e instanceof t.AbstractVariable||"number"==typeof e)||!(i instanceof t.Expression||i instanceof t.AbstractVariable||"number"==typeof i))throw"Bad initializer to c.Equation";e=e instanceof t.Expression?e.clone():new t.Expression(e),i=i instanceof t.Expression?i.clone():new t.Expression(i),n.call(this,e,r,o),this.expression.addExpression(i,-1)}t.assert(this.strength instanceof t.Strength,"_strength not set")},toString:function(){return n.prototype.toString.call(this)+" = 0)"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.EditInfo=t.inherit({initialize:function(t,e,i,n,r){this.constraint=t,this.editPlus=e,this.editMinus=i,this.prevEditConstant=n,this.index=r},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Tableau=t.inherit({initialize:function(){this.columns=new t.HashTable,this.rows=new t.HashTable,this._infeasibleRows=new t.HashSet,this._externalRows=new t.HashSet,this._externalParametricVars=new t.HashSet},noteRemovedVariable:function(e,i){t.trace&&console.log("c.Tableau::noteRemovedVariable: ",e,i);var n=this.columns.get(e);i&&n&&n.delete(i)},noteAddedVariable:function(t,e){e&&this.insertColVar(t,e)},getInternalInfo:function(){var t="Tableau Information:\n";return t+="Rows: "+this.rows.size,t+=" (= "+(this.rows.size-1)+" constraints)",t+="\nColumns: "+this.columns.size,t+="\nInfeasible Rows: "+this._infeasibleRows.size,t+="\nExternal basic variables: "+this._externalRows.size,t+="\nExternal parametric variables: ",t+=this._externalParametricVars.size,t+="\n"},toString:function(){var t="Tableau:\n";return this.rows.each(function(e,i){t+=e,t+=" <==> ",t+=i,t+="\n"}),t+="\nColumns:\n",t+=this.columns,t+="\nInfeasible rows: ",t+=this._infeasibleRows,t+="External basic variables: ",t+=this._externalRows,t+="External parametric variables: ",t+=this._externalParametricVars},insertColVar:function(e,i){var n=this.columns.get(e);n||(n=new t.HashSet,this.columns.set(e,n)),n.add(i)},addRow:function(e,i){t.trace&&t.fnenterprint("addRow: "+e+", "+i),this.rows.set(e,i),i.terms.each(function(t){this.insertColVar(t,e),t.isExternal&&this._externalParametricVars.add(t)},this),e.isExternal&&this._externalRows.add(e),t.trace&&t.traceprint(""+this)},removeColumn:function(e){t.trace&&t.fnenterprint("removeColumn:"+e);var i=this.columns.get(e);i?(this.columns.delete(e),i.each(function(t){this.rows.get(t).terms.delete(e)},this)):t.trace&&console.log("Could not find var",e,"in columns"),e.isExternal&&(this._externalRows.delete(e),this._externalParametricVars.delete(e))},removeRow:function(e){t.trace&&t.fnenterprint("removeRow:"+e);var i=this.rows.get(e);return t.assert(null!=i),i.terms.each(function(i){var n=this.columns.get(i);null!=n&&(t.trace&&console.log("removing from varset:",e),n.delete(e))},this),this._infeasibleRows.delete(e),e.isExternal&&this._externalRows.delete(e),this.rows.delete(e),t.trace&&t.fnexitprint("returning "+i),i},substituteOut:function(e,i){t.trace&&t.fnenterprint("substituteOut:"+e+", "+i),t.trace&&t.traceprint(""+this),this.columns.get(e).each(function(t){var n=this.rows.get(t);n.substituteOut(e,i,t,this),t.isRestricted&&0>n.constant&&this._infeasibleRows.add(t)},this),e.isExternal&&(this._externalRows.add(e),this._externalParametricVars.delete(e)),this.columns.delete(e)},columnsHasKey:function(t){return!!this.columns.get(t)}})}(this.c||e.parent.exports||{}),function(t){var e=t.Tableau,i=e.prototype,n=t.Strength.weak;t.SimplexSolver=t.inherit({extends:t.Tableau,initialize:function(){t.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new t.HashTable,this._markerVars=new t.HashTable,this._objective=new t.ObjectiveVariable({name:"Z"}),this._editVarMap=new t.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new t.Expression),this._stkCedcns=[0],t.trace&&t.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(e,i){var n=new t.Inequality(e,t.GEQ,new t.Expression(i));return this.addConstraint(n)},addUpperBound:function(e,i){var n=new t.Inequality(e,t.LEQ,new t.Expression(i));return this.addConstraint(n)},addBounds:function(t,e,i){return this.addLowerBound(t,e),this.addUpperBound(t,i),this},add:function(){for(var t=0;arguments.length>t;t++)this.addConstraint(arguments[t]);return this},addConstraint:function(e){t.trace&&t.fnenterprint("addConstraint: "+e);var i=Array(2),n=Array(1),r=this.newExpression(e,i,n);if(n=n[0],this.tryAddingDirectly(r)||this.addWithArtificialVariable(r),this._fNeedsSolving=!0,e.isEditConstraint){var o=this._editVarMap.size,s=i[0],a=i[1];!s instanceof t.SlackVariable&&console.warn("cvEplus not a slack variable =",s),!a instanceof t.SlackVariable&&console.warn("cvEminus not a slack variable =",a),t.debug&&console.log("new c.EditInfo("+e+", "+s+", "+a+", "+n+", "+o+")");var c=new t.EditInfo(e,s,a,n,o);this._editVarMap.set(e.variable,c),this._editVarList[o]={v:e.variable,info:c}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(e){t.trace&&t.fnenterprint("addConstraintNoException: "+e);try{return this.addConstraint(e),!0}catch(t){return!1}},addEditVar:function(e,i){return t.trace&&t.fnenterprint("addEditVar: "+e+" @ "+i),this.addConstraint(new t.EditConstraint(e,i||t.Strength.strong))},beginEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return t.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(e){try{for(var i=this._editVarList.length,n=e;i>n;n++)this._editVarList[n]&&this.removeConstraint(this._editVarMap.get(this._editVarList[n].v).constraint);return this._editVarList.length=e,t.assert(this._editVarMap.size==e,"_editVarMap.size == n"),this}catch(e){throw new t.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(e){return t.trace&&console.log("addPointStays",e),e.forEach(function(t,e){this.addStay(t.x,n,Math.pow(2,e)),this.addStay(t.y,n,Math.pow(2,e))},this),this},addStay:function(e,i,r){var o=new t.StayConstraint(e,i||n,r||1);return this.addConstraint(o)},removeConstraint:function(t){return this.removeConstraintInternal(t),this},removeConstraintInternal:function(e){t.trace&&t.fnenterprint("removeConstraintInternal: "+e),t.trace&&t.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var i=this.rows.get(this._objective),n=this._errorVars.get(e);t.trace&&t.traceprint("eVars == "+n),null!=n&&n.each(function(r){var o=this.rows.get(r);null==o?i.addVariable(r,-e.weight*e.strength.symbolicWeight.value,this._objective,this):i.addExpression(o,-e.weight*e.strength.symbolicWeight.value,this._objective,this),t.trace&&t.traceprint("now eVars == "+n)},this);var r=this._markerVars.get(e);if(this._markerVars.delete(e),null==r)throw new t.InternalError("Constraint not found in removeConstraintInternal");if(t.trace&&t.traceprint("Looking to remove var "+r),null==this.rows.get(r)){var o=this.columns.get(r);t.trace&&t.traceprint("Must pivot -- columns are "+o);var s=null,a=0;o.each(function(e){if(e.isRestricted){var i=this.rows.get(e),n=i.coefficientFor(r);if(t.trace&&t.traceprint("Marker "+r+"'s coefficient in "+i+" is "+n),0>n){var o=-i.constant/n;(null==s||a>o||t.approx(o,a)&&e.hashCode<s.hashCode)&&(a=o,s=e)}}},this),null==s&&(t.trace&&t.traceprint("exitVar is still null"),o.each(function(t){if(t.isRestricted){var e=this.rows.get(t),i=e.coefficientFor(r),n=e.constant/i;(null==s||a>n)&&(a=n,s=t)}},this)),null==s&&(0==o.size?this.removeColumn(r):o.escapingEach(function(t){return t!=this._objective?(s=t,{brk:!0}):void 0},this)),null!=s&&this.pivot(r,s)}if(null!=this.rows.get(r)&&this.removeRow(r),null!=n&&n.each(function(t){t!=r&&this.removeColumn(t)},this),e.isStayConstraint){if(null!=n)for(var c=0;this._stayPlusErrorVars.length>c;c++)n.delete(this._stayPlusErrorVars[c]),n.delete(this._stayMinusErrorVars[c])}else if(e.isEditConstraint){t.assert(null!=n,"eVars != null");var l=this._editVarMap.get(e.variable);this.removeColumn(l.editMinus),this._editVarMap.delete(e.variable)}return null!=n&&this._errorVars.delete(n),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw t.trace&&t.fnenterprint("reset"),new t.InternalError("reset not implemented")},resolveArray:function(e){t.trace&&t.fnenterprint("resolveArray"+e);var i=e.length;this._editVarMap.each(function(t,n){var r=n.index;i>r&&this.suggestValue(t,e[r])},this),this.resolve()},resolvePair:function(t,e){this.suggestValue(this._editVarList[0].v,t),this.suggestValue(this._editVarList[1].v,e),this.resolve()},resolve:function(){t.trace&&t.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(e,i){t.trace&&console.log("suggestValue("+e+", "+i+")");var n=this._editVarMap.get(e);if(!n)throw new t.Error("suggestValue for variable "+e+", but var is not an edit variable");var r=i-n.prevEditConstant;return n.prevEditConstant=i,this.deltaEditConstant(r,n.editPlus,n.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(e,i){if(!this.columnsHasKey(e)&&null==this.rows.get(e))return e.value=i,this;if(!t.approx(i,e.value)){this.addEditVar(e),this.beginEdit();try{this.suggestValue(e,i)}catch(e){throw new t.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(e){if(!this.columnsHasKey(e)&&null==this.rows.get(e)){try{this.addStay(e)}catch(e){throw new t.InternalError("Error in addVar -- required failure is impossible")}t.trace&&t.traceprint("added initial stay on "+e)}return this},getInternalInfo:function(){var t=i.getInternalInfo.call(this);return t+="\nSolver info:\n",t+="Stay Error Variables: ",t+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,t+=" ("+this._stayPlusErrorVars.length+" +, ",t+=this._stayMinusErrorVars.length+" -)\n",t+="Edit Variables: "+this._editVarMap.size,t+="\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var t=i.getInternalInfo.call(this);return t+="\n_stayPlusErrorVars: ",t+="["+this._stayPlusErrorVars+"]",t+="\n_stayMinusErrorVars: ",t+="["+this._stayMinusErrorVars+"]",t+="\n",t+="_editVarMap:\n"+this._editVarMap,t+="\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(e){t.trace&&t.fnenterprint("addWithArtificialVariable: "+e);var i=new t.SlackVariable({value:++this._artificialCounter,prefix:"a"}),n=new t.ObjectiveVariable({name:"az"}),r=e.clone();t.trace&&t.traceprint("before addRows:\n"+this),this.addRow(n,r),this.addRow(i,e),t.trace&&t.traceprint("after addRows:\n"+this),this.optimize(n);var o=this.rows.get(n);if(t.trace&&t.traceprint("azTableauRow.constant == "+o.constant),!t.approx(o.constant,0))throw this.removeRow(n),this.removeColumn(i),new t.RequiredFailure;var s=this.rows.get(i);if(null!=s){if(s.isConstant)return this.removeRow(i),void this.removeRow(n);var a=s.anyPivotableVariable();this.pivot(a,i)}t.assert(null==this.rows.get(i),"rowExpression(av) == null"),this.removeColumn(i),this.removeRow(n)},tryAddingDirectly:function(e){t.trace&&t.fnenterprint("tryAddingDirectly: "+e);var i=this.chooseSubject(e);return null==i?(t.trace&&t.fnexitprint("returning false"),!1):(e.newSubject(i),this.columnsHasKey(i)&&this.substituteOut(i,e),this.addRow(i,e),t.trace&&t.fnexitprint("returning true"),!0)},chooseSubject:function(e){t.trace&&t.fnenterprint("chooseSubject: "+e);var i=null,n=!1,r=!1,o=e.terms,s=o.escapingEach(function(t,e){if(n){if(!t.isRestricted&&!this.columnsHasKey(t))return{retval:t}}else if(t.isRestricted){if(!r&&!t.isDummy&&0>e){var o=this.columns.get(t);(null==o||1==o.size&&this.columnsHasKey(this._objective))&&(i=t,r=!0)}}else i=t,n=!0},this);if(s&&void 0!==s.retval)return s.retval;if(null!=i)return i;var a=0,s=o.escapingEach(function(t,e){return t.isDummy?void(this.columnsHasKey(t)||(i=t,a=e)):{retval:null}},this);if(s&&void 0!==s.retval)return s.retval;if(!t.approx(e.constant,0))throw new t.RequiredFailure;return a>0&&e.multiplyMe(-1),i},deltaEditConstant:function(e,i,n){t.trace&&t.fnenterprint("deltaEditConstant :"+e+", "+i+", "+n);var r=this.rows.get(i);if(null!=r)return r.constant+=e,void(0>r.constant&&this._infeasibleRows.add(i));var o=this.rows.get(n);if(null!=o)return o.constant+=-e,void(0>o.constant&&this._infeasibleRows.add(n));var s=this.columns.get(n);s||console.log("columnVars is null -- tableau is:\n"+this),s.each(function(t){var i=this.rows.get(t),r=i.coefficientFor(n);i.constant+=r*e,t.isRestricted&&0>i.constant&&this._infeasibleRows.add(t)},this)},dualOptimize:function(){t.trace&&t.fnenterprint("dualOptimize:");for(var e=this.rows.get(this._objective);this._infeasibleRows.size;){var i=this._infeasibleRows.values()[0];this._infeasibleRows.delete(i);var n=null,r=this.rows.get(i);if(r&&0>r.constant){var o,s=Number.MAX_VALUE;if(r.terms.each(function(i,r){if(r>0&&i.isPivotable){var a=e.coefficientFor(i);o=a/r,(s>o||t.approx(o,s)&&i.hashCode<n.hashCode)&&(n=i,s=o)}}),s==Number.MAX_VALUE)throw new t.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(n,i)}}},newExpression:function(e,i,n){t.trace&&(t.fnenterprint("newExpression: "+e),t.traceprint("cn.isInequality == "+e.isInequality),t.traceprint("cn.required == "+e.required));var r=e.expression,o=new t.Expression(r.constant),s=new t.SlackVariable,a=new t.DummyVariable,c=new t.SlackVariable,l=new t.SlackVariable;if(r.terms.each(function(t,e){var i=this.rows.get(t);i?o.addExpression(i,e):o.addVariable(t,e)},this),e.isInequality){if(t.trace&&t.traceprint("Inequality, adding slack"),++this._slackCounter,s=new t.SlackVariable({value:this._slackCounter,prefix:"s"}),o.setVariable(s,-1),this._markerVars.set(e,s),!e.required){++this._slackCounter,c=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),o.setVariable(c,1);var u=this.rows.get(this._objective);u.setVariable(c,e.strength.symbolicWeight.value*e.weight),this.insertErrorVar(e,c),this.noteAddedVariable(c,this._objective)}}else if(e.required)t.trace&&t.traceprint("Equality, required"),++this._dummyCounter,a=new t.DummyVariable({value:this._dummyCounter,prefix:"d"}),o.setVariable(a,1),this._markerVars.set(e,a),t.trace&&t.traceprint("Adding dummyVar == d"+this._dummyCounter);else{t.trace&&t.traceprint("Equality, not required"),++this._slackCounter,l=new t.SlackVariable({value:this._slackCounter,prefix:"ep"}),c=new t.SlackVariable({value:this._slackCounter,prefix:"em"}),o.setVariable(l,-1),o.setVariable(c,1),this._markerVars.set(e,l);var u=this.rows.get(this._objective);t.trace&&console.log(u);var h=e.strength.symbolicWeight.value*e.weight;0==h&&(t.trace&&t.traceprint("cn == "+e),t.trace&&t.traceprint("adding "+l+" and "+c+" with swCoeff == "+h)),u.setVariable(l,h),this.noteAddedVariable(l,this._objective),u.setVariable(c,h),this.noteAddedVariable(c,this._objective),this.insertErrorVar(e,c),this.insertErrorVar(e,l),e.isStayConstraint?(this._stayPlusErrorVars.push(l),this._stayMinusErrorVars.push(c)):e.isEditConstraint&&(i[0]=l,i[1]=c,n[0]=r.constant)}return 0>o.constant&&o.multiplyMe(-1),t.trace&&t.fnexitprint("returning "+o),o},optimize:function(e){t.trace&&t.fnenterprint("optimize: "+e),t.trace&&t.traceprint(""+this),this._optimizeCount++;var i=this.rows.get(e);t.assert(null!=i,"zRow != null");for(var n,r,o=null,s=null;;){if(n=0,r=i.terms,r.escapingEach(function(t,e){return t.isPivotable&&n>e?(n=e,o=t,{brk:1}):void 0},this),n>=-1e-8)return;t.trace&&console.log("entryVar:",o,"objectiveCoeff:",n);var a=Number.MAX_VALUE,c=this.columns.get(o),l=0;if(c.each(function(e){if(t.trace&&t.traceprint("Checking "+e),e.isPivotable){var i=this.rows.get(e),n=i.coefficientFor(o);t.trace&&t.traceprint("pivotable, coeff = "+n),0>n&&(l=-i.constant/n,(a>l||t.approx(l,a)&&e.hashCode<s.hashCode)&&(a=l,s=e))}},this),a==Number.MAX_VALUE)throw new t.InternalError("Objective function is unbounded in optimize");this.pivot(o,s),t.trace&&t.traceprint(""+this)}},pivot:function(e,i){t.trace&&console.log("pivot: ",e,i);null==e&&console.warn("pivot: entryVar == null"),null==i&&console.warn("pivot: exitVar == null");var n=this.removeRow(i);n.changeSubject(i,e),this.substituteOut(e,n),this.addRow(e,n)},_resetStayConstants:function(){t.trace&&console.log("_resetStayConstants");for(var e=0;this._stayPlusErrorVars.length>e;e++){var i=this.rows.get(this._stayPlusErrorVars[e]);null==i&&(i=this.rows.get(this._stayMinusErrorVars[e])),null!=i&&(i.constant=0)}},_setExternalVariables:function(){t.trace&&t.fnenterprint("_setExternalVariables:"),t.trace&&t.traceprint(""+this),this._externalParametricVars.each(function(e){null!=this.rows.get(e)?t.trace&&console.log("Error: variable"+e+" in _externalParametricVars is basic"):e.value=0},this),this._externalRows.each(function(t){var e=this.rows.get(t);t.value!=e.constant&&(t.value=e.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(e,i){t.trace&&t.fnenterprint("insertErrorVar:"+e+", "+i);var n=this._errorVars.get(i);n||(n=new t.HashSet,this._errorVars.set(e,n)),n.add(i)}})}(this.c||e.parent.exports||{}),function(t){"use strict";t.Timer=t.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||e.parent.exports||{}),__cassowary_parser=function(){function t(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(e,i){function n(t){z>U||(U>z&&(z=U,X=[]),X.push(t))}function r(){var t,e,i,n,r;if(n=U,r=U,null!==(t=v())){if(null!==(i=o()))for(e=[];null!==i;)e.push(i),i=o();else e=null;null!==e?(i=v(),null!==i?t=[t,e,i]:(t=null,U=r)):(t=null,U=r)}else t=null,U=r;return null!==t&&(t=function(t,e){return e}(0,t[1])),null===t&&(U=n),t}function o(){var t,e,i,n;return i=U,n=U,t=M(),null!==t?(e=h(),null!==e?t=[t,e]:(t=null,U=n)):(t=null,U=n),null!==t&&(t=function(t,e){return e}(0,t[0])),null===t&&(U=i),t}function s(){var t;return e.length>U?(t=e.charAt(U),U++):(t=null,0===k&&n("any character")),t}function a(){var t;return/^[a-zA-Z]/.test(e.charAt(U))?(t=e.charAt(U),U++):(t=null,0===k&&n("[a-zA-Z]")),null===t&&(36===e.charCodeAt(U)?(t="$",U++):(t=null,0===k&&n('"$"')),null===t&&(95===e.charCodeAt(U)?(t="_",U++):(t=null,0===k&&n('"_"')))),t}function c(){var t;return k++,/^[\t\x0B\f \xA0\uFEFF]/.test(e.charAt(U))?(t=e.charAt(U),U++):(t=null,0===k&&n("[\\t\\x0B\\f \\xA0\\uFEFF]")),k--,0===k&&null===t&&n("whitespace"),t}function l(){var t;return/^[\n\r\u2028\u2029]/.test(e.charAt(U))?(t=e.charAt(U),U++):(t=null,0===k&&n("[\\n\\r\\u2028\\u2029]")),t}function u(){var t;return k++,10===e.charCodeAt(U)?(t="\n",U++):(t=null,0===k&&n('"\\n"')),null===t&&("\r\n"===e.substr(U,2)?(t="\r\n",U+=2):(t=null,0===k&&n('"\\r\\n"')),null===t&&(13===e.charCodeAt(U)?(t="\r",U++):(t=null,0===k&&n('"\\r"')),null===t&&(8232===e.charCodeAt(U)?(t="\u2028",U++):(t=null,0===k&&n('"\\u2028"')),null===t&&(8233===e.charCodeAt(U)?(t="\u2029",U++):(t=null,0===k&&n('"\\u2029"')))))),k--,0===k&&null===t&&n("end of line"),t}function h(){var t,i,r;return r=U,t=v(),null!==t?(59===e.charCodeAt(U)?(i=";",U++):(i=null,0===k&&n('";"')),null!==i?t=[t,i]:(t=null,U=r)):(t=null,U=r),null===t&&(r=U,t=b(),null!==t?(i=u(),null!==i?t=[t,i]:(t=null,U=r)):(t=null,U=r),null===t&&(r=U,t=v(),null!==t?(i=f(),null!==i?t=[t,i]:(t=null,U=r)):(t=null,U=r))),t}function f(){var t,i;return i=U,k++,e.length>U?(t=e.charAt(U),U++):(t=null,0===k&&n("any character")),k--,null===t?t="":(t=null,U=i),t}function p(){var t;return k++,t=d(),null===t&&(t=y()),k--,0===k&&null===t&&n("comment"),t}function d(){var t,i,r,o,a,c,l;if(a=U,"/*"===e.substr(U,2)?(t="/*",U+=2):(t=null,0===k&&n('"/*"')),null!==t){for(i=[],c=U,l=U,k++,"*/"===e.substr(U,2)?(r="*/",U+=2):(r=null,0===k&&n('"*/"')),k--,null===r?r="":(r=null,U=l),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,U=c)):(r=null,U=c);null!==r;)i.push(r),c=U,l=U,k++,"*/"===e.substr(U,2)?(r="*/",U+=2):(r=null,0===k&&n('"*/"')),k--,null===r?r="":(r=null,U=l),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,U=c)):(r=null,U=c);null!==i?("*/"===e.substr(U,2)?(r="*/",U+=2):(r=null,0===k&&n('"*/"')),null!==r?t=[t,i,r]:(t=null,U=a)):(t=null,U=a)}else t=null,U=a;return t}function g(){var t,i,r,o,a,c,u;if(a=U,"/*"===e.substr(U,2)?(t="/*",U+=2):(t=null,0===k&&n('"/*"')),null!==t){for(i=[],c=U,u=U,k++,"*/"===e.substr(U,2)?(r="*/",U+=2):(r=null,0===k&&n('"*/"')),null===r&&(r=l()),k--,null===r?r="":(r=null,U=u),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,U=c)):(r=null,U=c);null!==r;)i.push(r),c=U,u=U,k++,"*/"===e.substr(U,2)?(r="*/",U+=2):(r=null,0===k&&n('"*/"')),null===r&&(r=l()),k--,null===r?r="":(r=null,U=u),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,U=c)):(r=null,U=c);null!==i?("*/"===e.substr(U,2)?(r="*/",U+=2):(r=null,0===k&&n('"*/"')),null!==r?t=[t,i,r]:(t=null,U=a)):(t=null,U=a)}else t=null,U=a;return t}function y(){var t,i,r,o,a,c,u;if(a=U,"//"===e.substr(U,2)?(t="//",U+=2):(t=null,0===k&&n('"//"')),null!==t){for(i=[],c=U,u=U,k++,r=l(),k--,null===r?r="":(r=null,U=u),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,U=c)):(r=null,U=c);null!==r;)i.push(r),c=U,u=U,k++,r=l(),k--,null===r?r="":(r=null,U=u),null!==r?(o=s(),null!==o?r=[r,o]:(r=null,U=c)):(r=null,U=c);null!==i?t=[t,i]:(t=null,U=a)}else t=null,U=a;return t}function b(){var t,e;for(t=[],null===(e=c())&&null===(e=g())&&(e=y());null!==e;)t.push(e),null===(e=c())&&null===(e=g())&&(e=y());return t}function v(){var t,e;for(t=[],null===(e=c())&&null===(e=u())&&(e=p());null!==e;)t.push(e),null===(e=c())&&null===(e=u())&&(e=p());return t}function w(){var t,e;return e=U,t=m(),null===t&&(t=_()),null!==t&&(t=function(t,e){return{type:"NumericLiteral",value:e}}(0,t)),null===t&&(U=e),t}function _(){var t,i,r;if(r=U,/^[0-9]/.test(e.charAt(U))?(i=e.charAt(U),U++):(i=null,0===k&&n("[0-9]")),null!==i)for(t=[];null!==i;)t.push(i),/^[0-9]/.test(e.charAt(U))?(i=e.charAt(U),U++):(i=null,0===k&&n("[0-9]"));else t=null;return null!==t&&(t=function(t,e){return parseInt(e.join(""))}(0,t)),null===t&&(U=r),t}function m(){var t,i,r,o,s;return o=U,s=U,t=_(),null!==t?(46===e.charCodeAt(U)?(i=".",U++):(i=null,0===k&&n('"."')),null!==i?(r=_(),null!==r?t=[t,i,r]:(t=null,U=s)):(t=null,U=s)):(t=null,U=s),null!==t&&(t=function(t,e){return parseFloat(e.join(""))}(0,t)),null===t&&(U=o),t}function x(){var t,i,r,o;if(o=U,/^[\-+]/.test(e.charAt(U))?(t=e.charAt(U),U++):(t=null,0===k&&n("[\\-+]")),null!==(t=null!==t?t:"")){if(/^[0-9]/.test(e.charAt(U))?(r=e.charAt(U),U++):(r=null,0===k&&n("[0-9]")),null!==r)for(i=[];null!==r;)i.push(r),/^[0-9]/.test(e.charAt(U))?(r=e.charAt(U),U++):(r=null,0===k&&n("[0-9]"));else i=null;null!==i?t=[t,i]:(t=null,U=o)}else t=null,U=o;return t}function V(){var t,e;return k++,e=U,t=T(),null!==t&&(t=function(t,e){return e}(0,t)),null===t&&(U=e),k--,0===k&&null===t&&n("identifier"),t}function T(){var t,e,i,r,o;if(k++,r=U,o=U,null!==(t=a())){for(e=[],i=a();null!==i;)e.push(i),i=a();null!==e?t=[t,e]:(t=null,U=o)}else t=null,U=o;return null!==t&&(t=function(t,e,i){return e+i.join("")}(0,t[0],t[1])),null===t&&(U=r),k--,0===k&&null===t&&n("identifier"),t}function I(){var t,i,r,o,s,a,c;return a=U,t=V(),null!==t&&(t=function(t,e){return{type:"Variable",name:e}}(0,t)),null===t&&(U=a),null===t&&null===(t=w())&&(a=U,c=U,40===e.charCodeAt(U)?(t="(",U++):(t=null,0===k&&n('"("')),null!==t?(i=v(),null!==i?(r=M(),null!==r?(o=v(),null!==o?(41===e.charCodeAt(U)?(s=")",U++):(s=null,0===k&&n('")"')),null!==s?t=[t,i,r,o,s]:(t=null,U=c)):(t=null,U=c)):(t=null,U=c)):(t=null,U=c)):(t=null,U=c),null!==t&&(t=function(t,e){return e}(0,t[2])),null===t&&(U=a)),t}function C(){var t,e,i,n,r;return t=I(),null===t&&(n=U,r=U,t=O(),null!==t?(e=v(),null!==e?(i=C(),null!==i?t=[t,e,i]:(t=null,U=r)):(t=null,U=r)):(t=null,U=r),null!==t&&(t=function(t,e,i){return{type:"UnaryExpression",operator:e,expression:i}}(0,t[0],t[2])),null===t&&(U=n)),t}function O(){var t;return 43===e.charCodeAt(U)?(t="+",U++):(t=null,0===k&&n('"+"')),null===t&&(45===e.charCodeAt(U)?(t="-",U++):(t=null,0===k&&n('"-"')),null===t&&(33===e.charCodeAt(U)?(t="!",U++):(t=null,0===k&&n('"!"')))),t}function R(){var t,e,i,n,r,o,s,a,c;if(s=U,a=U,null!==(t=C())){for(e=[],c=U,i=v(),null!==i?(n=A(),null!==n?(r=v(),null!==r?(o=C(),null!==o?i=[i,n,r,o]:(i=null,U=c)):(i=null,U=c)):(i=null,U=c)):(i=null,U=c);null!==i;)e.push(i),c=U,i=v(),null!==i?(n=A(),null!==n?(r=v(),null!==r?(o=C(),null!==o?i=[i,n,r,o]:(i=null,U=c)):(i=null,U=c)):(i=null,U=c)):(i=null,U=c);null!==e?t=[t,e]:(t=null,U=a)}else t=null,U=a;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"MultiplicativeExpression",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(U=s),t}function A(){var t;return 42===e.charCodeAt(U)?(t="*",U++):(t=null,0===k&&n('"*"')),null===t&&(47===e.charCodeAt(U)?(t="/",U++):(t=null,0===k&&n('"/"'))),t}function S(){var t,e,i,n,r,o,s,a,c;if(s=U,a=U,null!==(t=R())){for(e=[],c=U,i=v(),null!==i?(n=j(),null!==n?(r=v(),null!==r?(o=R(),null!==o?i=[i,n,r,o]:(i=null,U=c)):(i=null,U=c)):(i=null,U=c)):(i=null,U=c);null!==i;)e.push(i),c=U,i=v(),null!==i?(n=j(),null!==n?(r=v(),null!==r?(o=R(),null!==o?i=[i,n,r,o]:(i=null,U=c)):(i=null,U=c)):(i=null,U=c)):(i=null,U=c);null!==e?t=[t,e]:(t=null,U=a)}else t=null,U=a;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"AdditiveExpression",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(U=s),t}function j(){var t;return 43===e.charCodeAt(U)?(t="+",U++):(t=null,0===k&&n('"+"')),null===t&&(45===e.charCodeAt(U)?(t="-",U++):(t=null,0===k&&n('"-"'))),t}function E(){var t,e,i,n,r,o,s,a,c;if(s=U,a=U,null!==(t=S())){for(e=[],c=U,i=v(),null!==i?(n=P(),null!==n?(r=v(),null!==r?(o=S(),null!==o?i=[i,n,r,o]:(i=null,U=c)):(i=null,U=c)):(i=null,U=c)):(i=null,U=c);null!==i;)e.push(i),c=U,i=v(),null!==i?(n=P(),null!==n?(r=v(),null!==r?(o=S(),null!==o?i=[i,n,r,o]:(i=null,U=c)):(i=null,U=c)):(i=null,U=c)):(i=null,U=c);null!==e?t=[t,e]:(t=null,U=a)}else t=null,U=a;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"Inequality",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(U=s),t}function P(){var t;return"<="===e.substr(U,2)?(t="<=",U+=2):(t=null,0===k&&n('"<="')),null===t&&(">="===e.substr(U,2)?(t=">=",U+=2):(t=null,0===k&&n('">="')),null===t&&(60===e.charCodeAt(U)?(t="<",U++):(t=null,0===k&&n('"<"')),null===t&&(62===e.charCodeAt(U)?(t=">",U++):(t=null,0===k&&n('">"'))))),t}function M(){var t,i,r,o,s,a,c,l,u;if(c=U,l=U,null!==(t=E())){for(i=[],u=U,r=v(),null!==r?("=="===e.substr(U,2)?(o="==",U+=2):(o=null,0===k&&n('"=="')),null!==o?(s=v(),null!==s?(a=E(),null!==a?r=[r,o,s,a]:(r=null,U=u)):(r=null,U=u)):(r=null,U=u)):(r=null,U=u);null!==r;)i.push(r),u=U,r=v(),null!==r?("=="===e.substr(U,2)?(o="==",U+=2):(o=null,0===k&&n('"=="')),null!==o?(s=v(),null!==s?(a=E(),null!==a?r=[r,o,s,a]:(r=null,U=u)):(r=null,U=u)):(r=null,U=u)):(r=null,U=u);null!==i?t=[t,i]:(t=null,U=l)}else t=null,U=l;return null!==t&&(t=function(t,e,i){for(var n=e,r=0;i.length>r;r++)n={type:"Equality",operator:i[r][1],left:n,right:i[r][3]};return n}(0,t[0],t[1])),null===t&&(U=c),t}var L={start:r,Statement:o,SourceCharacter:s,IdentifierStart:a,WhiteSpace:c,LineTerminator:l,LineTerminatorSequence:u,EOS:h,EOF:f,Comment:p,MultiLineComment:d,MultiLineCommentNoLineTerminator:g,SingleLineComment:y,_:b,__:v,Literal:w,Integer:_,Real:m,SignedInteger:x,Identifier:V,IdentifierName:T,PrimaryExpression:I,UnaryExpression:C,UnaryOperator:O,MultiplicativeExpression:R,MultiplicativeOperator:A,AdditiveExpression:S,AdditiveOperator:j,InequalityExpression:E,InequalityOperator:P,LinearExpression:M};if(void 0!==i){if(void 0===L[i])throw Error("Invalid rule name: "+t(i)+".")}else i="start";var U=0,k=0,z=0,X=[],B=L[i]();if(null===B||U!==e.length){var D=Math.max(U,z),F=e.length>D?e.charAt(D):null,H=function(){for(var t=1,i=1,n=!1,r=0;Math.max(U,z)>r;r++){var o=e.charAt(r);"\n"===o?(n||t++,i=1,n=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t++,i=1,n=!0):(i++,n=!1)}return{line:t,column:i}}();throw new this.SyntaxError(function(t){t.sort();for(var e=null,i=[],n=0;t.length>n;n++)t[n]!==e&&(i.push(t[n]),e=t[n]);return i}(X),F,D,H.line,H.column)}return B},toSource:function(){return this._source}};return e.SyntaxError=function(e,i,n,r,o){this.name="SyntaxError",this.expected=e,this.found=i,this.message=function(e,i){var n,r;switch(e.length){case 0:n="end of input";break;case 1:n=e[0];break;default:n=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return r=i?t(i):"end of input","Expected "+n+" but "+r+" found."}(e,i),this.offset=n,this.line=r,this.column=o},e.SyntaxError.prototype=Error.prototype,e}()}).call(void 0!==e?e.compiled=e:this)},{}]},{},[1])(1)})},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(4),a=i(7),c=i(12),l=i(1),u=i(13),h=i(2),f=function(){function t(){var t=this;this.customView=(new u.Button).retain(),this.customView.frame=h.RectMake(0,0,44,44),this.customView.onTouchUpInside=function(){t.onTouchUpInside&&t.onTouchUpInside()}}return Object.defineProperty(t.prototype,"image",{get:function(){return this._image},set:function(t){this._image=t,this.customView instanceof u.Button&&(this.customView.image=t)},enumerable:!0,configurable:!0}),t}();e.NavigationBarButtonItem=f;var p=function(t){function e(e){var i=t.call(this,e||_XTUINavigationBar)||this;return i._leftItems=[],i._rightItems=[],i._lightContent=!1,void 0===e&&(i.setupContents(),i.tintColor=l.Color.blackColor),i}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.NavigationBar",title:this.title,lightContent:this.lightContent})},e.prototype.reload=function(){var t=this;this.delegate&&(this.contentView.subviews.forEach(function(t){t.removeFromSuperview()}),this._leftItems=(this.leftButtonItems||[]).map(function(t){return t.customView}),this._rightItems=(this.rightButtonItems||[]).map(function(t){return t.customView}),this.delegate.shouldShowBackButton()&&0==this._leftItems.length&&this._leftItems.push(this.backButton),this._leftItems.forEach(function(e){t.contentView.addSubview(e)}),this._rightItems.forEach(function(e){t.contentView.addSubview(e)}),this.contentView.addSubview(this.titleView),this.layoutSubviews())},e.prototype.setupContents=function(){this.contentView=new o.View,this.setupBackButton(),this.setupTitleView(),this.addSubview(this.contentView),this.reload()},e.prototype.setupBackButton=function(){var t=this;this.backButton=new u.Button,this.backButton.frame=h.RectMake(0,0,44,48),this.backButton.image=a.Image.fromBase64("iVBORw0KGgoAAAANSUhEUgAAADkAAAA8CAMAAADrC+IEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABOUExURUdwTP///////////////////////////////////////////////////////////////////////////////////////////////////4il91oAAAAZdFJOUwD+ZRPxOKUhoAPR0BY3pxSZmAIOMyhEh7SA0BQ9AAAAfElEQVRIx+3VSQqAMBAF0XaIGudZ+/4XVaMLCQjxo4LQtX/rIrpO14qgdMShAiFD1ECEHnClPQg5CwQ+D1OBAv8Cq68hz4ljnQXdy1FoZMOoLEJUYtRIiO7yRKfYsZYs6vl3z6WEChUq1JGOKC01YRSAO4XgRkFINKDwrRZIeEfaMx4tYAAAAABJRU5ErkJggg==",3),this.backButton.image&&(this.backButton.image=this.backButton.image.imageWithImageRenderingMode(a.ImageRenderingMode.Template)),this.backButton.onTouchUpInside=function(){t.delegate&&t.delegate.onBack()}},e.prototype.setupTitleView=function(){this.titleView=new c.Label,this.titleView.numberOfLines=1,this.titleView.font=s.Font.boldSystemFontOfSize(17),this.titleView.textColor=l.Color.blackColor},e.prototype.layoutSubviews=function(){var e=this;t.prototype.layoutSubviews.call(this),this.contentView.frame=h.RectMake(0,this.bounds.height-48,this.bounds.width,48);var i=this._leftItems.length>0?4:15,n=this.contentView.bounds.width-i;this._leftItems.forEach(function(t){t.frame=h.RectMake(i,(e.contentView.bounds.height-t.frame.height)/2,t.frame.width,t.frame.height),i+=t.frame.width+4});var r=this.contentView.bounds.width-4;this._rightItems.forEach(function(t){t.frame=h.RectMake(r-t.frame.width,(e.contentView.bounds.height-t.frame.height)/2,t.frame.width,t.frame.height),r-=t.frame.width+4}),n=r-i,this.titleView.frame=h.RectMake(i,0,n,this.contentView.bounds.height)},e.prototype.tintColorDidChange=function(){this.contentView.tintColor=this.tintColor,this.titleView.textColor=this.tintColor},Object.defineProperty(e.prototype,"title",{get:function(){return this.titleView.text},set:function(t){this.titleView.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lightContent",{get:function(){return this._lightContent},set:function(t){this._lightContent=t,this.tintColor=l.Color.whiteColor,_XTUINavigationBar.xtr_setLightContent(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.setLeftBarButtonItem=function(t){t?this.setLeftBarButtonItems([t]):this.setLeftBarButtonItems([])},e.prototype.setLeftBarButtonItems=function(t){this.leftButtonItems=t,this.reload()},e.prototype.setRightBarButtonItem=function(t){t?this.setRightBarButtonItems([t]):this.setRightBarButtonItems([])},e.prototype.setRightBarButtonItems=function(t){this.rightButtonItems=t,this.reload()},e}(o.View);e.NavigationBar=p},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(5),a=function(t){function e(e){return t.call(this,e||_XTUIWindow)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.Window",rootViewController:this.rootViewController,firstResponder:this.firstResponder})},Object.defineProperty(e.prototype,"bounds",{get:function(){return _XTUIWindow.xtr_bounds(this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootViewController",{get:function(){var t=_XTUIWindow.xtr_rootViewController(this.objectRef);if("string"==typeof t)return new s.ViewController(t)},set:function(t){t&&_XTUIWindow.xtr_setRootViewController(t.objectRef,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.makeKeyAndVisible=function(){_XTUIWindow.xtr_makeKeyAndVisible(this.objectRef)},e.prototype.endEditing=function(){_XTUIWindow.xtr_endEditing(this.objectRef)},Object.defineProperty(e.prototype,"firstResponder",{get:function(){var t=_XTUIWindow.xtr_firstResponder(this.objectRef);if("string"==typeof t)return new o.View(t)},enumerable:!0,configurable:!0}),e}(o.View);e.Window=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(3),s=i(1),a=i(2);!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(r=e.TextAlignment||(e.TextAlignment={}));!function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(e.TextVerticalAlignment||(e.TextVerticalAlignment={}));var c;!function(t){t[t.WordWrapping=0]="WordWrapping",t[t.TruncatingTail=4]="TruncatingTail"}(c=e.LineBreakMode||(e.LineBreakMode={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textColor=new s.Color(0,0,0),e.textAlignment=r.Left,e.numberOfLines=1,e.lineBreakMode=c.WordWrapping,e.letterSpace=0,e.lineSpace=12,e}return n(e,t),e.prototype.textRectForBounds=function(t){return a.RectZero},e}(o.View);e.Label=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){t[t.Const=0]="Const",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Top=3]="Top",t[t.Bottom=4]="Bottom",t[t.Width=7]="Width",t[t.Height=8]="Height",t[t.CenterX=9]="CenterX",t[t.CenterY=10]="CenterY"}(e.LayoutAttribute||(e.LayoutAttribute={}));var n;!function(t){t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater"}(n=e.LayoutRelation||(e.LayoutRelation={}));var r=function(){function t(t,e,i,r,o,s,a){void 0===s&&(s=0),void 0===a&&(a=1),this.relation=n.Equal,this.constant=0,this.multiplier=1,this.priority=750,this.firstItem=t,this.firstAttr=e,this.relation=i||n.Equal,this.secondItem=r,this.secondAttr=o,this.constant=s,this.multiplier=a}return t.constraintsWithVisualFormat=function(t,e){return[]},t}();e.LayoutConstraint=r},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(26),o=i(3),s=i(2),a=function(){function t(){this.reuseIdentifier="Cell",this.rowHeight=function(){return 44}}return t}();e.ListEntity=a;var c;!function(t){t[t.None=0]="None",t[t.Gray=1]="Gray"}(c=e.ListSelectionStyle||(e.ListSelectionStyle={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selectionStyle=c.Gray,e.bottomVisible=!0,e.bottomLineInsets=s.InsetsMake(0,0,0,0),e}return n(e,t),e.prototype.didHighlighted=function(t){},e.prototype.didSelected=function(){},e.prototype.didRender=function(){},e}(o.View);e.ListCell=l;var u=function(){function t(){this.items=[]}return t}();e.ListSection=u;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.register=function(t,e,i){void 0===i&&(i=void 0)},e.prototype.reloadData=function(){},e}(r.ScrollView);e.ListView=h},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPagingEnabled=!1,e.isDirectionalLockEnabled=!0,e.bounces=!0,e.isScrollEnabled=!0,e.showsHorizontalScrollIndicator=!0,e.showsVerticalScrollIndicator=!0,e.alwaysBounceVertical=!1,e.alwaysBounceHorizontal=!1,e}return n(e,t),e.prototype.setContentOffset=function(t,e){},e.prototype.scrollRectToVisible=function(t,e){},e}(r.View);e.ScrollView=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),s=i(0),a=i(25),c=i(1),l=i(2),u=i(3),h=i(10),f=i(28),p=i(15),d=function(t){function e(){var e=t.call(this,void 0,!1)||this;return e.reuseIdentifier="",e.selectionStyle=a.ListSelectionStyle.Gray,e.selectionView=new s.View,e.contentView=new s.View,e.bottomLine=new f.HRView,e._isBusy=!1,e._bottomVisible=!0,e._isLastCell=!1,e._bottomLineInsets=l.InsetsMake(0,0,0,0),e.selectionView.backgroundColor=new c.Color(208/255,208/255,208/255),e.selectionView.alpha=0,e.selectionView.hidden=!0,e.addSubview(e.selectionView),e.contentView.userInteractionEnabled=!0,e.addSubview(e.contentView),e.bottomLine.color=new c.Color(218/255,218/255,218/255),e.addSubview(e.bottomLine),e.userInteractionEnabled=!0,e.longPressDuration=.05,e.onTap=function(){e.highligted=!0,e.selectionView.hidden=!1,e.didSelected(),setTimeout(function(){s.View.animationWithDuration(.15,function(){e.highligted=!1},function(){e.selectionView.hidden=!0})},250)},e.onLongPress=function(t){t==u.InteractionState.Began?(e.highligted=!0,e.selectionView.hidden=!1):t==u.InteractionState.Ended?(e.didSelected(),s.View.animationWithDuration(.15,function(){e.highligted=!1},function(){e.selectionView.hidden=!0})):t==u.InteractionState.Cancelled&&(e.highligted=!1,e.selectionView.hidden=!0)},e.gestureRecongnizers.forEach(function(t){t instanceof h.LongPressGestureRecognizer&&(t.cancellable=!0)}),e}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.ListCell",reuseIdentifier:this.reuseIdentifier,currentItem:this.currentItem,contentView:this.contentView,selectionStyle:this.selectionStyle})},e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.selectionView.frame=this.bounds,this.contentView.frame=this.bounds,this.resetBottomLine()},Object.defineProperty(e.prototype,"highligted",{set:function(t){this.didHighlighted(t),this.selectionStyle!=a.ListSelectionStyle.None&&(this.selectionView.alpha=t?1:0)},enumerable:!0,configurable:!0}),e.prototype.didHighlighted=function(t){},e.prototype.didSelected=function(){},e.prototype.didRender=function(){},Object.defineProperty(e.prototype,"bottomVisible",{get:function(){return this._bottomVisible},set:function(t){this._bottomVisible=t,this.resetBottomLine()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastCell",{get:function(){return this._isLastCell},set:function(t){this._isLastCell!==t&&(this._isLastCell=t,this.resetBottomLine())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLineInsets",{get:function(){return this._bottomLineInsets},set:function(t){this._bottomLineInsets=t,this.resetBottomLine()},enumerable:!0,configurable:!0}),e.prototype.resetBottomLine=function(){this.bottomLine.hidden=!this.bottomVisible||this.isLastCell,this.bottomLine.frame=UI.RectMake(this.bottomLineInsets.left,this.bounds.height-1,this.bounds.width-this.bottomLineInsets.left-this.bottomLineInsets.right,1)},e}(s.View);e.ListCell=d;var g=function(){function t(){this.items=[]}return t}();e.ListSection=g;var y=function(t){function e(){var e=t.call(this,void 0,!1)||this;return e.leftDot=new s.View,e.midDot=new s.View,e.rightDot=new s.View,e.currentIdx=0,e._color=c.Color.grayColor,e.leftDot.alpha=.5,e.leftDot.cornerRadius=4,e.midDot.alpha=.5,e.midDot.cornerRadius=4,e.rightDot.alpha=.5,e.rightDot.cornerRadius=4,e.addSubview(e.leftDot),e.addSubview(e.midDot),e.addSubview(e.rightDot),e}return n(e,t),e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.leftDot.frame=l.RectMake(this.bounds.width/2-4-28,this.bounds.height/2-4,8,8),this.midDot.frame=l.RectMake(this.bounds.width/2-4,this.bounds.height/2-4,8,8),this.rightDot.frame=l.RectMake(this.bounds.width/2+4+20,this.bounds.height/2-4,8,8)},e.prototype.startAnimation=function(){this.stopAnimation(),this.currentIdx=0,this.doAnimation()},e.prototype.doAnimation=function(){this.leftDot.alpha=0==this.currentIdx?1:.5,this.midDot.alpha=1==this.currentIdx?1:.5,this.rightDot.alpha=2==this.currentIdx?1:.5,this.currentIdx++,this.currentIdx>2&&(this.currentIdx=0),this.timerHandler=setTimeout(this.doAnimation.bind(this),320)},e.prototype.stopAnimation=function(){this.leftDot.alpha=.5,this.midDot.alpha=.5,this.rightDot.alpha=.5,clearTimeout(this.timerHandler)},Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.leftDot.backgroundColor=t,this.midDot.backgroundColor=t,this.rightDot.backgroundColor=t},enumerable:!0,configurable:!0}),e}(s.View);e.RefreshAnimationView=y;var b=function(t){function e(){var e=t.call(this)||this;return e.reuseMapping={},e.reuseContexts={},e._listHeaderView=void 0,e._listFooterView=void 0,e.items=[],e._cacheRows=[],e._lastRows={},e._reusingCells=[],e._refreshControl=void 0,e.refreshing=!1,e._loadMoreControl=void 0,e.alwaysBounceVertical=!0,e}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.ListView",items:this.items,subviews:void 0})},e.prototype.register=function(t,e,i){this.reuseMapping[e]=t,this.reuseContexts[e]=i},Object.defineProperty(e.prototype,"listHeaderView",{get:function(){return this._listHeaderView},set:function(t){this._listHeaderView&&this._listHeaderView.removeFromSuperview(),this._listHeaderView=t,this._listHeaderView&&this.addSubview(this._listHeaderView),this.reloadData()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"listFooterView",{get:function(){return this._listFooterView},set:function(t){this._listFooterView&&this._listFooterView.removeFromSuperview(),this._listFooterView=t,this._listFooterView&&this.addSubview(this._listFooterView),this.reloadData()},enumerable:!0,configurable:!0}),e.prototype.reloadData=function(){var t=this;this.subviews.forEach(function(t){!0===t.__is__header__&&t.removeFromSuperview(),!0===t.__is__footer__&&t.removeFromSuperview()});var e=0;this._cacheRows=[],this._lastRows={},this.listHeaderView&&(this.listHeaderView.frame=UI.RectMake(0,0,this.bounds.width,this.listHeaderView.frame.height),e+=this.listHeaderView.frame.height),this.items.forEach(function(i){if(i instanceof g)t._lastRows[e]=!0,i.headerView&&(i.headerView.__is__header__=!0,t.addSubview(i.headerView),i.headerView.frame=UI.RectMake(0,e,t.bounds.width,i.headerView.frame.height),e+=i.headerView.frame.height),i.items.forEach(function(i){var n=e,r=n+i.rowHeight(t.bounds.width);e=r,t._cacheRows.push({minY:n,maxY:r,item:i})}),t._lastRows[e]=!0,i.footerView&&(i.footerView.__is__footer__=!0,t.addSubview(i.footerView),i.footerView.frame=UI.RectMake(0,e,t.bounds.width,i.footerView.frame.height),e+=i.footerView.frame.height);else{var n=e,r=n+i.rowHeight(t.bounds.width);e=r,t._cacheRows.push({minY:n,maxY:r,item:i})}}),this._lastRows[e]=!0,this.listFooterView&&(this.listFooterView.frame=UI.RectMake(0,e,this.bounds.width,this.listFooterView.frame.height),e+=this.listFooterView.frame.height),this.contentSize={width:0,height:e},this.reloadVisibleRows()},e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.reloadData(),this.refreshAnimationView&&(this.refreshAnimationView.frame=l.RectMake(0,0,this.bounds.width,44))},e.prototype.scrollerDidScroll=function(){t.prototype.scrollerDidScroll.call(this),void 0!==this._reusingCells&&this.reloadVisibleRows(),this.contentOffset.y+this.bounds.height>this.contentSize.height-200&&this.listViewWillTriggerLoadMoreControl()},e.prototype.reloadVisibleRows=function(){var t=this,e=r({},this.contentOffset),i=this.contentSize,n=this.bounds;e.y=Math.max(0,Math.min(i.height-n.height,e.y)),this.markInvisibleCellNoBusy(e,n);for(var o=[],s=0,a=0,c=this._cacheRows.length-1;;){if(Math.abs(c-a)<=1){s=a;break}var l=Math.ceil((c+a)/2);if(this._cacheRows[l].minY<=e.y&&this._cacheRows[l].maxY>=e.y){s=l;break}this._cacheRows[l].maxY<e.y?a=l:this._cacheRows[l].minY>e.y&&(c=l)}for(var u=s;u<this._cacheRows.length;u++){var h=this._cacheRows[u];if(h.maxY>e.y&&h.minY<e.y+n.height)o.push(h);else if(h.minY>e.y+n.height)break}var f=[];o.forEach(function(e){var i=!1;if(void 0!==e._cell&&e._cell.currentItem===e.item&&(e._cell.frame={x:0,y:e.minY,width:n.width,height:e.maxY-e.minY},i=!0),!i)for(var r=0;r<t._reusingCells.length;r++){var o=t._reusingCells[r];if(o.currentItem===e.item){o.frame={x:0,y:e.minY,width:n.width,height:e.maxY-e.minY},i=!0;break}}i||f.push(e)}),f.map(function(e){var i=t._reusingCells.filter(function(t){return!t._isBusy&&t.reuseIdentifier===e.item.reuseIdentifier})[0]||(void 0!==t.reuseMapping[e.item.reuseIdentifier]?new t.reuseMapping[e.item.reuseIdentifier]:void 0)||new d;return i.reuseIdentifier=e.item.reuseIdentifier,e._cell=i,i.context=t.reuseContexts[e.item.reuseIdentifier],i.frame={x:0,y:e.minY,width:n.width,height:e.maxY-e.minY},i._isBusy=!0,i.currentItem=e.item,i.isLastCell=!0===t._lastRows[e.maxY],i.didRender(),t._reusingCells.indexOf(i)<0&&t._reusingCells.push(i),i}).forEach(function(e){void 0===e.superview&&t.addSubview(e)})},e.prototype.markInvisibleCellNoBusy=function(t,e){var i=this.contentSize;t.y<0||t.y>i.height-e.height||this._reusingCells.filter(function(i){if(i._isBusy){var n=i.frame;return n.y+n.height<t.y||n.y>t.y+e.height}return!1}).forEach(function(t){t._isBusy=!1})},Object.defineProperty(e.prototype,"refreshControl",{get:function(){return this._refreshControl},set:function(t){this._refreshControl=t,this.scroller.refreshEnabled=t instanceof p.RefreshControl&&t.enabled,this.refreshAnimationView&&this.refreshAnimationView.removeFromSuperview(),t&&(t.listView=this,this.refreshAnimationView=new y,this.refreshAnimationView.color=t.color,this._addSubview(this.refreshAnimationView),this.refreshAnimationView.frame=l.RectMake(0,0,this.bounds.width,44),this.refreshAnimationView.alpha=0)},enumerable:!0,configurable:!0}),e.prototype.scrollerWillRefresh=function(e){t.prototype.scrollerWillRefresh.call(this,e),this.refreshControl&&this.refreshAnimationView&&(this.refreshAnimationView.alpha=e)},e.prototype.scrollerRefreshing=function(){t.prototype.scrollerRefreshing.call(this),this.refreshing=!0},e.prototype.scrollerWillBeginDecelerating=function(){t.prototype.scrollerWillBeginDecelerating.call(this),this.refreshControl&&this.refreshAnimationView&&(this.refreshing||(this.refreshAnimationView.alpha=0))},e.prototype.scrollerDidEndDecelerating=function(){t.prototype.scrollerDidEndDecelerating.call(this),this.refreshControl&&this.refreshAnimationView&&(this.refreshing?(this.refreshControl.handleRefresh(),this.refreshAnimationView.startAnimation()):this.refreshAnimationView.alpha=0)},e.prototype.endRefreshing=function(){this.refreshing=!1,this.refreshAnimationView&&(this.refreshAnimationView.stopAnimation(),this.refreshAnimationView.alpha=0,this.scroller.endRefreshing())},Object.defineProperty(e.prototype,"loadMoreControl",{get:function(){return this._loadMoreControl},set:function(t){this._loadMoreControl=t,this.loadMoreAnimationView&&this.loadMoreAnimationView.removeFromSuperview(),t&&(t.listView=this,this.loadMoreAnimationView=new y,this.loadMoreAnimationView.color=t.color,this.loadMoreAnimationView.alpha=0,this.loadMoreAnimationView.retain(this))},enumerable:!0,configurable:!0}),e.prototype.listViewWillTriggerLoadMoreControl=function(){this.loadMoreControl&&this.loadMoreControl.enabled&&!this.loadMoreControl.isLoading&&this.loadMoreAnimationView&&(this.loadMoreControl.handleLoading(),this.loadMoreAnimationView.removeFromSuperview(),this.addSubview(this.loadMoreAnimationView),this.loadMoreAnimationView.frame=l.RectMake(0,this.contentSize.height,this.bounds.width,44),this.contentInset=r({},this.contentInset,{bottom:this.contentInset.bottom+44}),this.loadMoreAnimationView.startAnimation(),this.loadMoreAnimationView.alpha=1)},e.prototype.endMoreLoading=function(){this.loadMoreAnimationView&&(this.loadMoreAnimationView.stopAnimation(),this.loadMoreAnimationView.alpha=0,this.loadMoreAnimationView.removeFromSuperview(),this.contentInset=r({},this.contentInset,{bottom:this.contentInset.bottom-44}))},e}(o.ScrollView);e.ListView=b},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0);!function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left",t[t.VMiddle=4]="VMiddle",t[t.Right=5]="Right"}(e.HRViewPosition||(e.HRViewPosition={}));var s=function(t){function e(e){return t.call(this,e||_XTUIHRView)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.HRView",position:this.position,color:this.color})},Object.defineProperty(e.prototype,"position",{get:function(){return _XTUIHRView.xtr_position(this.objectRef)},set:function(t){_XTUIHRView.xtr_setPosition(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return _XTUIHRView.xtr_color(this.objectRef)},set:function(t){_XTUIHRView.xtr_setColor(t,this.objectRef)},enumerable:!0,configurable:!0}),e}(o.View);e.HRView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(26),o=i(2),s=i(3),a=function(){function t(){this.reuseIdentifier="Cell",this.itemSize=function(){return o.SizeMake(44,44)}}return t}();e.CollectionEntity=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.didHighlighted=function(t){},e.prototype.didSelected=function(){},e.prototype.didRender=function(){},e}(s.View);e.CollectionCell=c;var l=function(){function t(){this.items=[]}return t}();e.CollectionSection=l;!function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(e.CollectionViewScrollDirection||(e.CollectionViewScrollDirection={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sectionInsets=o.InsetsMake(0,0,0,0),e.lineSpacing=0,e.itemSpacing=0,e}return n(e,t),e.prototype.register=function(t,e,i){void 0===i&&(i=void 0)},e.prototype.reloadData=function(){},e}(r.ScrollView);e.CollectionView=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(31);e.Context=n.Context;var r=i(39);e.ApplicationDelegate=r.ApplicationDelegate,e.Application=r.Application;var o=i(13);e.Button=o.Button;var s=i(1);e.Color=s.Color;var a=i(4);e.Font=a.Font;var c=i(40),l=i(7);e.ImageRenderingMode=c.ImageRenderingMode,e.Image=l.Image,e.ContentMode=c.ContentMode,e.ImageView=l.ImageView;var u=i(23),h=i(12);e.TextAlignment=u.TextAlignment,e.TextVerticalAlignment=u.TextVerticalAlignment,e.LineBreakMode=u.LineBreakMode,e.Label=h.Label;var f=i(24),p=i(41);e.LayoutAttribute=f.LayoutAttribute,e.LayoutRelation=f.LayoutRelation,e.LayoutConstraint=p.LayoutConstraint;var d=i(15);e.RefreshControl=d.RefreshControl;var g=i(42);e.LoadMoreControl=g.LoadMoreControl;var y=i(25),b=i(27);e.ListSelectionStyle=y.ListSelectionStyle,e.ListEntity=y.ListEntity,e.ListCell=b.ListCell,e.ListView=b.ListView,e.ListSection=b.ListSection;var v=i(2);e.PointMake=v.PointMake,e.PointEqual=v.PointEqual,e.PointZero=v.PointZero,e.SizeMake=v.SizeMake,e.SizeEqual=v.SizeEqual,e.SizeZero=v.SizeZero,e.RectMake=v.RectMake,e.RectZero=v.RectZero,e.RectEqual=v.RectEqual,e.RectInside=v.RectInside,e.InsetsMake=v.InsetsMake;var w=i(43);e.Screen=w.Screen;var _=i(8);e.ScrollView=_.ScrollView;var m=i(9);e.TransformMatrix=m.TransformMatrix;var x=i(3),V=i(0);e.View=V.View,e.InteractionState=x.InteractionState,e.SwipeDirection=x.SwipeDirection;var T=i(22);e.Window=T.Window;var I=i(44),C=i(5);e.ViewController=C.ViewController,e.KeyboardAvoidingMode=I.KeyboardAvoidingMode,e.ViewControllerLayoutOptions=C.ViewControllerLayoutOptions;var O=i(21);e.NavigationBar=O.NavigationBar,e.NavigationBarButtonItem=O.NavigationBarButtonItem;var R=i(45);e.NavigationController=R.NavigationController;var A=i(46),S=i(47);e.TextField=S.TextField,e.TextFieldViewMode=A.TextFieldViewMode,e.ReturnKeyType=A.ReturnKeyType,e.KeyboardType=A.KeyboardType;var j=i(48);e.TextView=j.TextView;var E=i(49);e.CanvasView=E.CanvasView;var P=i(11),M=i(50);e.DeviceOrientation=P.DeviceOrientation,e.Device=M.Device;var L=i(51);e.TextMeasurer=L.TextMeasurer;var U=i(28);e.HRView=U.HRView;var k=i(52);e.Alert=k.Alert,e.Confirm=k.Confirm,e.Prompt=k.Prompt;var z=i(53);e.WebView=z.WebView;var X=i(54);e.Switch=X.Switch;var B=i(55);e.Slider=B.Slider;var D=i(56),F=i(57);e.ActivityIndicatorViewStyle=D.ActivityIndicatorViewStyle,e.ActivityIndicatorView=F.ActivityIndicatorView;var H=i(58);e.ExtView=H.ExtView;var N=i(29),W=i(59);e.CollectionEntity=N.CollectionEntity,e.CollectionCell=W.CollectionCell,e.CollectionView=W.CollectionView,e.CollectionViewScrollDirection=W.CollectionViewScrollDirection,e.CollectionSection=N.CollectionSection},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(5),o=function(t){function e(e){var i=t.call(this,void 0,!1)||this;if("string"==typeof e){if(objectRefs[e])return objectRefs[e];i.objectRef=e,objectRefs[i.objectRef]=i}return i}return n(e,t),e.startWithNamed=function(t,i,n){return new e(_XTUIContext.xtr_startWithNamed(t,i,function(t){"string"==typeof t&&n(new r.ViewController(t))}))},e.startWithURL=function(t,i,n,o){return new e(_XTUIContext.xtr_startWithURL(t,i,function(t){"string"==typeof t&&n(new r.ViewController(t))},function(t){o(new Error(t))}))},e}(XT.BaseObject);e.Context=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(16);!function(t){t[t.Began=0]="Began",t[t.Moved=1]="Moved",t[t.Stationary=2]="Stationary",t[t.Ended=3]="Ended",t[t.Cancelled=4]="Cancelled"}(n=e.TouchPhase||(e.TouchPhase={}));var o=[],s=function(){function t(t){this.touches={},this.root=t}return t.prototype.handlePointerDown=function(t,e,i,o){var s=this,a=this.target||this.root.hitTest({x:i,y:o});a&&(this.target=a,this.touches[t]={_maybeTap:!0,_startPoint:{x:i,y:o},touchID:t,timestamp:e,phase:n.Began,tapCount:1,rawLocation:{x:i,y:o},locationInView:function(t){return r.convertPointToChildView({x:i,y:o},s.root,t)}},this.invokeTouchesBeganRecursive(a,[this.touches[t]],{}))},t.prototype.invokeTouchesBeganRecursive=function(t,e,i){t.touchesBegan(t.multipleTouchEnabled?e:[e[0]],{}),t.superview&&this.invokeTouchesBeganRecursive(t.superview,e,i)},t.prototype.handlePointersMove=function(t,e,i){var o=this;if(void 0===i&&(i=void 0),this.target){var s=this;for(var a in e)!function(a){s.touches[a]={_maybeTap:s.touches[a]&&!0===s.touches[a]._maybeTap&&(Math.abs(s.touches[a]._startPoint.x-e[a].x)<8||Math.abs(s.touches[a]._startPoint.y-e[a].y)<8),_startPoint:s.touches[a]._startPoint,touchID:a,timestamp:t,phase:n.Moved,tapCount:1,rawLocation:{x:e[a].x,y:e[a].y},velocity:i?i[a]:void 0,locationInView:function(t){return r.convertPointToChildView({x:e[a].x,y:e[a].y},o.root,t)}}}(a);this.invokeTouchesMovedRecursive(this.target,Object.keys(this.touches).map(function(t){return o.touches[t]}),{})}},t.prototype.invokeTouchesMovedRecursive=function(t,e,i){t.touchesMoved(t.multipleTouchEnabled?e:[e[0]],{}),t.superview&&this.invokeTouchesMovedRecursive(t.superview,e,i)},t.prototype.handlePointerUp=function(t,e,i,s,a,c){var l=this;void 0===a&&(a=void 0),void 0===c&&(c=void 0),this.target&&(this.touches[t]&&this.touches[t]._maybeTap&&(o=o.filter(function(t){return e-t.timestamp<350}),o.push({timestamp:e,x:i,y:s})),this.touches[t]={_maybeTap:this.touches[t]&&this.touches[t]._maybeTap,_startPoint:this.touches[t]?this.touches[t]._startPoint:{x:0,y:0},touchID:t,timestamp:e,phase:n.Ended,tapCount:o.filter(function(t){return Math.abs(t.x-i)<44&&Math.abs(t.y-s)<44}).length,rawLocation:{x:i,y:s},velocity:void 0!==a&&void 0!==c?{x:a,y:c}:void 0,locationInView:function(t){return r.convertPointToChildView({x:i,y:s},l.root,t)}},this.invokeTouchesEndedRecursive(this.target,[this.touches[t]],{})),delete this.touches[t],0==Object.keys(this.touches).length&&(this.target=void 0)},t.prototype.invokeTouchesEndedRecursive=function(t,e,i){t.touchesEnded(t.multipleTouchEnabled?e:[e[0]],{}),t.superview&&this.invokeTouchesEndedRecursive(t.superview,e,i)},t.prototype.handlePointerCancelEvent=function(t){var e=[];for(var i in this.touches)this.touches[i].phase=n.Cancelled,this.touches[i].timestamp=t,e.push(this.touches[i]);this.target&&(this.invokeTouchesCancelledRecursive(this.target,e,{}),this.target=void 0,this.touches={})},t.prototype.invokeTouchesCancelledRecursive=function(t,e,i){t.touchesCancelled(t.multipleTouchEnabled?e:[e[0]],{}),t.superview&&this.invokeTouchesCancelledRecursive(t.superview,e,i)},t}();e.TouchManager=s},function(t,e,i){(function(t,e){!function(t,i){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return l[c]=n,a(c),c++}function r(t){delete l[t]}function o(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}function s(t){if(u)setTimeout(s,0,t);else{var e=l[t];if(e){u=!0;try{o(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var a,c=1,l={},u=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?function(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&s(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),a=function(i){t.postMessage(e+i,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;a=function(e){var i=h.createElement("script");i.onreadystatechange=function(){s(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}():function(){a=function(t){setTimeout(s,0,t)}}(),f.setImmediate=n,f.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,i(18),i(34))},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===i||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&p&&(g=!1,p.length?d=p.concat(d):y=-1,d.length&&a())}function a(){if(!g){var t=r(s);g=!0;for(var e=d.length;e;){for(p=d,d=[];++y<e;)p&&p[y].run();y=-1,e=d.length}p=null,g=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,h,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:i}catch(t){u=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,d=[],g=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new c(t,e)),1!==d.length||g||r(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),r=function(){function e(){this.enabled=!0,this.cancellable=!1,this.state=n.GestureRecognizerState.Possible,this.tapsRequired=1,this.lastZeroTouch=void 0}return e.prototype.touchesBegan=function(t,e,i,r,o){return this.lastZeroTouch=e[0],this.touchStartPoint=e.map(function(t){return t.rawLocation}),this.state=n.GestureRecognizerState.Possible,!1},e.prototype.touchesMoved=function(t,e,i,r,o){if(this.lastZeroTouch=e[0],this.touchStartPoint){this.touchStartPoint.filter(function(t){return e.filter(function(e){return Math.abs(t.x-e.rawLocation.x)>8||Math.abs(t.y-e.rawLocation.y)>8}).length>0}).length>0&&(this.touchStartPoint=void 0),this.state=n.GestureRecognizerState.Failed}return!1},e.prototype.touchesEnded=function(e,i,r,o,s){if(this.lastZeroTouch=i[0],this.touchStartPoint){if(0==this.touchStartPoint.filter(function(t){return i.filter(function(e){return Math.abs(t.x-e.rawLocation.x)>8||Math.abs(t.y-e.rawLocation.y)>8}).length>0}).length&&i[0].tapCount==this.tapsRequired)return this.state=n.GestureRecognizerState.Recognized,this.fire&&this.fire(this.state),this.touchStartPoint=void 0,s&&t(function(){s()}),!0;this.state=n.GestureRecognizerState.Failed,this.touchStartPoint=void 0}return!1},e.prototype.touchesCancelled=function(t,e,i,r,o){return this.lastZeroTouch=e[0],this.state=n.GestureRecognizerState.Cancelled,this.fire&&this.fire(this.state,{x:0,y:0}),this.touchStartPoint=void 0,!1},e.prototype.locationInView=function(){return this.lastZeroTouch?this.lastZeroTouch.locationInView(this.owner):{x:0,y:0}},e}();e.TapGestureRecognizer=r}).call(e,i(17).setImmediate)},function(t,e,i){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var r=i(14),o=i(37),s=i(38),a=window.cancelAnimationFrame||clearAnimationFrame,c=function(){function t(t){this.delegate=t,this.contentSize={width:0,height:0},this.contentInset={top:0,left:0,bottom:0,right:0},this.bounds={width:0,height:0},this.directionalLockEnabled=!1,this.pagingEnabled=!1,this.scrollEnabled=!0,this.refreshEnabled=!1,this.refreshing=!1,this.decelerationRate=.997,this.accelerationRate=.985,this._tracking=!1,this._dragging=!1,this._decelerating=!1,this.scrollTimer=void 0,this.scrollAnimation=void 0,this.dragStartContentOffset={x:0,y:0}}return t.prototype.endRefreshing=function(){this.refreshing=!1,this.delegate.contentOffset.y<-this.contentInset.top&&this._endDraggingWithDecelerationVelocity({x:0,y:0})},Object.defineProperty(t.prototype,"tracking",{get:function(){return this._tracking},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragging",{get:function(){return this._dragging},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decelerating",{get:function(){return this._decelerating},enumerable:!0,configurable:!0}),t.prototype._beginDragging=function(){this.scrollEnabled&&(this._dragging||(this.dragStartContentOffset=n({},this.delegate.contentOffset),this._dragging=!0,this._cancelScrollAnimation(),this.delegate.scrollerWillBeginDragging()))},t.prototype._dragBy=function(t){if(this.scrollEnabled&&!(Math.abs(t.x)<.1&&Math.abs(t.y)<.1)&&this._dragging){var e=this.delegate.contentOffset,i=n({},e);if(this.refreshEnabled&&i.y+t.y<-this.contentInset.top){this.delegate.contentOffset={x:Math.min(Math.max(-this.contentInset.left,this.contentSize.width+this.contentInset.right-this.bounds.width),Math.max(-this.contentInset.left,i.x+t.x)),y:i.y+t.y/3};var r=-this.contentInset.top-(i.y+t.y/3),o=Math.min(1,r/79.2);this.delegate.scrollerWillRefresh(o),1==o&&(this.refreshing=!0)}else this.delegate.contentOffset={x:Math.min(Math.max(-this.contentInset.left,this.contentSize.width+this.contentInset.right-this.bounds.width),Math.max(-this.contentInset.left,i.x+t.x)),y:Math.min(Math.max(-this.contentInset.top,this.contentSize.height+this.contentInset.bottom-this.bounds.height),Math.max(-this.contentInset.top,i.y+t.y))}}},t.prototype._endDraggingWithDecelerationVelocity=function(t){if(this.delegate.contentOffset.x<-this.contentInset.left&&(t.x=0),this.delegate.contentOffset.y<-this.contentInset.top&&(t.y=0),this.scrollEnabled)if(this._dragging){this.refreshing&&this.delegate.scrollerRefreshing(),this._dragging=!1,this.delegate.scrollerWillEndDragging();var e=this._pagingAnimationWithVelocity(t)||this._decelerationAnimationWithVelocity(t);this.delegate.scrollerDidEndDragging(e),e instanceof r.Animation&&(this._setScrollAnimation(e),this._decelerating=!0,this.delegate.scrollerWillBeginDecelerating())}else{var e=this._decelerationAnimationWithVelocity(t);e instanceof r.Animation&&this._setScrollAnimation(e)}},t.prototype._pagingAnimationWithVelocity=function(t){if(this.pagingEnabled){var e=this.delegate.contentOffset,i={x:e.x-this.dragStartContentOffset.x,y:e.y-this.dragStartContentOffset.y},n=0;n=i.x/this.bounds.width>.25||t.x/1e3>.1?(Math.floor((this.dragStartContentOffset.x+i.x)/this.bounds.width)+1)*this.bounds.width:i.x/this.bounds.width<-.25||t.x/1e3<-.1?Math.floor((this.dragStartContentOffset.x+i.x)/this.bounds.width)*this.bounds.width:(Math.floor(this.dragStartContentOffset.x/this.bounds.width)+0)*this.bounds.width,n=Math.max(0,Math.min(this.contentSize.width-this.bounds.width,n));var r=0;return r=i.y/this.bounds.height>.25||t.y/1e3>.1?(Math.floor((this.dragStartContentOffset.y+i.y)/this.bounds.height)+1)*this.bounds.height:i.y/this.bounds.height<-.25||t.y/1e3<-.1?Math.floor((this.dragStartContentOffset.y+i.y)/this.bounds.height)*this.bounds.height:(Math.floor(this.dragStartContentOffset.y/this.bounds.height)+0)*this.bounds.height,r=Math.max(0,Math.min(this.contentSize.height-this.bounds.height,r)),new s.Paging(this,{x:n,y:r},{x:t.x/1e3,y:t.y/1e3})}},t.prototype._decelerationAnimationWithVelocity=function(t){return this.contentSize.width<=this.bounds.width&&(t.x=0),this.contentSize.height<=this.bounds.height&&(t.y=0),new o.AnimationDeceleration(this,{x:t.x/1e3,y:t.y/1e3})},t.prototype._setScrollAnimation=function(t){this._cancelScrollAnimation(),this.scrollAnimation=t,this.scrollTimer=requestAnimationFrame(this._updateScrollAnimation.bind(this))},t.prototype._updateScrollAnimation=function(){if(this.scrollAnimation){this.scrollAnimation.animate()?this._cancelScrollAnimation():requestAnimationFrame(this._updateScrollAnimation.bind(this))}},t.prototype._cancelScrollAnimation=function(){a(this.scrollTimer),this.scrollTimer=void 0,this.scrollAnimation=void 0,this._decelerating&&(this._decelerating=!1,this.delegate.scrollerDidEndDecelerating())},t}();e.Scroller=c},function(t,e,i){"use strict";function n(t,e,i){return t<e?e:t>i?i:t}function r(t){return n(t,-200,200)}function o(t,e,i){if(e.bounced&&e.bouncedReturnTime>0){if(e.position<e.bounceLeft){var n=0+-e.velocity/(1-t.accelerationRate)*(1-Math.exp(-(1-t.accelerationRate)*(i-e.bouncedReturnTime)));return e.position=Math.min(e.bounceLeft,e.bouncedReturnPosition+n/5),e.position>=e.bounceLeft}if(e.position>e.bounceRight){var n=0+-e.velocity/(1-t.accelerationRate)*(1-Math.exp(-(1-t.accelerationRate)*(i-e.bouncedReturnTime)));return e.position=Math.max(e.bounceRight,e.bouncedReturnPosition+n/5),e.position<=e.bounceRight}return!0}if(e.bounced&&e.bouncedStartTime>0){var r=e.position<e.bounceLeft?e.bounceLeft:e.bounceRight,n=0+e.velocity/(1-t.accelerationRate)*(1-Math.exp(-(1-t.accelerationRate)*(i-e.bouncedStartTime)));return Math.abs(e.position-(r+e.bouncedStartPosition+n/5))<1?s(t,e,i):e.position=r+e.bouncedStartPosition+n/5,!1}if(e.position=e.from+e.velocity/(1-t.decelerationRate)*(1-Math.exp(-(1-t.decelerationRate)*i)),e.position<e.bounceLeft||e.position>e.bounceRight){if(!e.bounce)return e.position=e.position<e.bounceLeft?e.bounceLeft:Math.max(0,e.bounceRight),!0;e.bounced=!0,e.bouncedStartTime=i}return Math.abs(e.position-(e.from+e.velocity/(1-t.decelerationRate)*(1-Math.exp(-(1-t.decelerationRate)*(1/0)))))<1}function s(t,e,i){e.bounced=!0,e.bouncedReturnTime=i,e.bouncedReturnPosition=e.position;for(var n=1;;)if(e.position<e.bounceLeft){if(n/(1-t.accelerationRate)*(1-Math.exp(-(1-t.accelerationRate)*(1/0)))/5>e.bounceLeft-e.position)break;n*=1.1}else if(e.position>e.bounceRight){if(n/(1-t.accelerationRate)*(1-Math.exp(-(1-t.accelerationRate)*(1/0)))/5>e.position-e.bounceRight)break;n*=1.1}e.velocity=e.position<e.bounceLeft?-n:n}var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var c=i(14),l=function(){function t(){this.from=0,this.position=0,this.velocity=0,this.bounced=!1,this.bouncedStartTime=0,this.bouncedStartPosition=0,this.bouncedReturnTime=0,this.bouncedReturnPosition=0,this.bounce=!1,this.bounceLeft=0,this.bounceRight=0}return t}();e.AnimationDecelerationComponent=l;var u=function(t){function e(e,i){var n=t.call(this,e)||this;return n.scroller=e,n.x=new l,n.y=new l,n.lastMomentumTime=n.beginTime,n.x.from=e.delegate.contentOffset.x,n.x.velocity=r(i.x),n.x.position=e.delegate.contentOffset.x,n.x.bounced=!1,n.x.bounceLeft=-n.scroller.contentInset.left,n.x.bounceRight=Math.max(-n.scroller.contentInset.left,e.contentSize.width+n.scroller.contentInset.right-e.bounds.width),n.x.position<n.x.bounceLeft?n.x.velocity<-.1?(n.x.bounced=!0,n.x.bouncedStartPosition=n.x.position,n.x.bouncedStartTime=0):s(e,n.x,.001):n.x.position>n.x.bounceRight&&(n.x.velocity>.1?(n.x.bounced=!0,n.x.bouncedStartPosition=n.x.position-n.x.bounceRight,n.x.bouncedStartTime=0):s(e,n.x,.001)),n.y.from=e.delegate.contentOffset.y,n.y.velocity=r(i.y),n.y.position=e.delegate.contentOffset.y,n.y.bounced=!1,n.y.bounce=!1,n.y.bounceLeft=-n.scroller.contentInset.top,n.scroller.refreshing&&(n.y.bounceLeft=-n.scroller.contentInset.top-44),n.y.bounceRight=Math.max(-n.scroller.contentInset.top,e.contentSize.height+n.scroller.contentInset.bottom-e.bounds.height),n.y.position<n.y.bounceLeft?n.y.velocity<-.1?(n.y.bounced=!0,n.y.bouncedStartPosition=n.y.position,n.y.bouncedStartTime=0):s(e,n.y,.001):n.y.position>n.y.bounceRight&&(n.y.velocity>.1?(n.y.bounced=!0,n.y.bouncedStartPosition=n.y.position-n.y.bounceRight,n.y.bouncedStartTime=0):s(e,n.y,.001)),n}return a(e,t),e.prototype.animate=function(){var t=c.Animation.currentTime(),e=o(this.scroller,this.y,t-this.beginTime),i=o(this.scroller,this.x,t-this.beginTime);return this.scroller.delegate.contentOffset={x:this.x.position,y:this.y.position},e&&i},e.prototype.momentumScrollBy=function(t){},e}(c.Animation);e.AnimationDeceleration=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(14),s=function(t){function e(e,i,n){var o=t.call(this,e)||this;o.toOffset=i,o.velocity=n,o.fromOffset=r({},e.delegate.contentOffset);var s=i.x>o.fromOffset.x?Math.max(1,n.x):Math.min(-1,n.x);if(i.x==o.fromOffset.x)s=0;else for(;i.x>o.fromOffset.x&&o.fromOffset.x+s/(1-e.accelerationRate)*(1-Math.exp(-(1-e.accelerationRate)*(1/0)))<i.x||i.x<o.fromOffset.x&&o.fromOffset.x+s/(1-e.accelerationRate)*(1-Math.exp(-(1-e.accelerationRate)*(1/0)))>i.x;)s*=1.1;var a=i.y>o.fromOffset.y?Math.max(1,n.y):Math.min(-1,n.y);if(i.y==o.fromOffset.y)a=0;else for(;i.y>o.fromOffset.y&&o.fromOffset.y+a/(1-e.accelerationRate)*(1-Math.exp(-(1-e.accelerationRate)*(1/0)))<i.y||i.y<o.fromOffset.y&&o.fromOffset.y+a/(1-e.accelerationRate)*(1-Math.exp(-(1-e.accelerationRate)*(1/0)))>i.y;)a*=1.1;return o.velocity={x:s,y:a},o}return n(e,t),e.prototype.animate=function(){var t=o.Animation.currentTime()-this.beginTime,e=this.scroller.delegate.contentOffset,i={x:this.fromOffset.x+this.velocity.x/(1-this.scroller.accelerationRate)*(1-Math.exp(-(1-this.scroller.accelerationRate)*t)),y:this.fromOffset.y+this.velocity.y/(1-this.scroller.accelerationRate)*(1-Math.exp(-(1-this.scroller.accelerationRate)*t))};return this.toOffset.x>this.fromOffset.x&&i.x>this.toOffset.x?i.x=this.toOffset.x:this.toOffset.x<this.fromOffset.x&&i.x<this.toOffset.x&&(i.x=this.toOffset.x),this.toOffset.y>this.fromOffset.y&&i.y>this.toOffset.y?i.y=this.toOffset.y:this.toOffset.y<this.fromOffset.y&&i.y<this.toOffset.y&&(i.y=this.toOffset.y),this.scroller.delegate.contentOffset=i,Math.abs(i.x-e.x)<.1&&Math.abs(i.y-e.y)<.1},e}(o.Animation);e.Paging=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(22),o=void 0,s=function(t){function e(){var e=t.call(this,void 0,!1)||this;return e.objectRef=_XTUIApplicationDelegate.create(),objectRefs[e.objectRef]=e,e}return n(e,t),Object.defineProperty(e.prototype,"window",{get:function(){var t=_XTUIApplicationDelegate.xtr_window(this.objectRef);if("string"==typeof t)return new r.Window(t)},set:function(t){t&&_XTUIApplicationDelegate.xtr_setWindow(t.objectRef,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.applicationDidFinishLaunchingWithOptions=function(t,e){},e.prototype.handleApplicationDidFinishLaunchingWithOptions=function(t,e){this.applicationDidFinishLaunchingWithOptions(objectRefs[t],e)},e}(XT.BaseObject);e.ApplicationDelegate=s;var a=function(t){function e(e,i){var n=t.call(this,void 0,!1)||this;return void 0===o&&(o=n),n.objectRef=_XTUIApplication.create(i.objectRef),objectRefs[n.objectRef]=n,n.delegate=i,n}return n(e,t),Object.defineProperty(e.prototype,"keyWindow",{get:function(){},enumerable:!0,configurable:!0}),e.sharedApplication=function(){return o},e}(XT.BaseObject);e.Application=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(3);!function(t){t[t.Automatic=0]="Automatic",t[t.Original=1]="Original",t[t.Template=2]="Template"}(r=e.ImageRenderingMode||(e.ImageRenderingMode={}));var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderingMode=r.Original,e}return n(e,t),e.fromURL=function(t,e,i){},e.fromBase64=function(t,e){},e.prototype.imageWithImageRenderingMode=function(t){throw"Not Implemented."},e}(XT.BaseObject);e.Image=s;var a;!function(t){t[t.ScaleToFill=0]="ScaleToFill",t[t.ScaleAspectFit=1]="ScaleAspectFit",t[t.ScaleAspectFill=2]="ScaleAspectFill"}(a=e.ContentMode||(e.ContentMode={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentMode=a.ScaleToFill,e}return n(e,t),e.prototype.loadImage=function(t,e){void 0===e&&(e=!0)},e}(o.View);e.ImageView=c},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(24),o=i(20),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.fromALObject=function(t,i){var n=function(t){return"const"==t?r.LayoutAttribute.Const:"left"==t?r.LayoutAttribute.Left:"right"==t?r.LayoutAttribute.Right:"top"==t?r.LayoutAttribute.Top:"bottom"==t?r.LayoutAttribute.Bottom:"width"==t?r.LayoutAttribute.Width:"height"==t?r.LayoutAttribute.Height:"centerX"==t?r.LayoutAttribute.CenterX:"centerY"==t?r.LayoutAttribute.CenterY:void 0},o="default"==t.constant?8:parseInt(t.constant),s=new e(i[t.view1],n(t.attr1),function(t){return"leq"==t?r.LayoutRelation.Less:"geq"==t?r.LayoutRelation.Greater:r.LayoutRelation.Equal}(t.relation),i[t.view2],n(t.attr2),o,t.multiplier);return s.priority=t.priority||750,s},e.constraintsWithVisualFormat=function(t,i){try{return o.VisualFormat.parse(t,{extended:!0}).map(function(t){return e.fromALObject(t,i)})}catch(t){return console.error(t),[]}},e.prototype.toALObject=function(){var t=function(t){return t==r.LayoutAttribute.Const?"const":t==r.LayoutAttribute.Left?"left":t==r.LayoutAttribute.Right?"right":t==r.LayoutAttribute.Top?"top":t==r.LayoutAttribute.Bottom?"bottom":t==r.LayoutAttribute.Width?"width":t==r.LayoutAttribute.Height?"height":t==r.LayoutAttribute.CenterX?"centerX":t==r.LayoutAttribute.CenterY?"centerY":void 0};return{view1:void 0!==this.firstItem?this.firstItem.objectRef:void 0,attr1:t(this.firstAttr),relation:function(t){return t==r.LayoutRelation.Equal?"equ":t==r.LayoutRelation.Less?"leq":t==r.LayoutRelation.Greater?"geq":"equ"}(this.relation),view2:void 0!==this.secondItem?this.secondItem.objectRef:void 0,attr2:t(this.secondAttr),multiplier:this.multiplier,constant:this.constant,priority:this.priority}},e}(r.LayoutConstraint);e.LayoutConstraint=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=i(0),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._enabled=!0,e._color=r.Color.grayColor,e._isLoading=!1,e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.listView&&this.listView.loadMoreAnimationView&&(this.listView.loadMoreAnimationView.color=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!0,configurable:!0}),e.prototype.handleLoading=function(){this._isLoading=!0,this.onLoad&&this.onLoad(this)},e.prototype.endLoading=function(){this._isLoading=!1,this.listView&&this.listView.endMoreLoading()},e}(o.View);e.LoadMoreControl=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.width=t,this.height=e,this.scale=i}return Object.defineProperty(t,"mainScreen",{get:function(){void 0===t.screenInfo&&(t.screenInfo=_XTUIScreen.xtr_mainScreen()||{width:0,height:0,scale:1});var e=t.screenInfo;return new t(e.width,e.height,e.scale)},enumerable:!0,configurable:!0}),t.prototype.bounds=function(){return{x:0,y:0,width:this.width,height:this.height}},t.withScale=function(e){return e*t.mainScreen.scale},t.outScale=function(e){return e/t.mainScreen.scale},t.screenInfo=void 0,t}();e.Screen=n},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(11);!function(t){t[t.None=0]="None",t[t.Pan=1]="Pan"}(r=e.KeyboardAvoidingMode||(e.KeyboardAvoidingMode={}));!function(t){t[t.None=0]="None",t[t.AndroidLight=1]="AndroidLight",t[t.AndroidDark=2]="AndroidDark"}(e.ViewControllerLayoutOptions||(e.ViewControllerLayoutOptions={}));var s=function(t){function e(e){void 0===e&&(e=void 0);for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=t.call(this)||this;return r.supportOrientations=[o.DeviceOrientation.Portrait],r}return n(e,t),e.prototype.loadView=function(){},e.prototype.viewDidLoad=function(){},e.prototype.viewWillAppear=function(){},e.prototype.viewDidAppear=function(){},e.prototype.viewWillDisappear=function(){},e.prototype.viewDidDisappear=function(){},e.prototype.viewWillLayoutSubviews=function(){},e.prototype.viewDidLayoutSubviews=function(){},e.prototype.addChildViewController=function(t){},e.prototype.removeFromParentViewController=function(){},e.prototype.willMoveToParentViewController=function(t){},e.prototype.didMoveToParentViewController=function(t){},e.prototype.presentViewController=function(t,e){void 0===e&&(e=!0)},e.prototype.dismissViewController=function(t){void 0===t&&(t=!0)},e.prototype.keyboardAvoidingMode=function(){return r.None},e.prototype.keyboardWillShow=function(t,e){},e.prototype.keyboardWillHide=function(t){},e.prototype.showNavigationBar=function(t){void 0===t&&(t=!1)},e.prototype.hideNavigationBar=function(t){void 0===t&&(t=!1)},e}(XT.BaseObject);e.ViewController=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),s=i(0),a=function(t){function e(e,i){var n=t.call(this,i||_XTUINavigationController)||this;return n.className="NavigationController",e&&_XTUINavigationController.xtr_setRootViewController(e.objectRef,n.objectRef),n}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.NavigationController"})},e.prototype.loadView=function(){this.view=new s.View},e.prototype.pushViewController=function(t,e){void 0===e&&(e=!0),t.willMoveToParentViewController(this),_XTUINavigationController.xtr_pushViewController(t.objectRef,e,this.objectRef),t.didMoveToParentViewController(this)},e.prototype.popViewController=function(t){void 0===t&&(t=!0);var e=_XTUINavigationController.xtr_popViewController(t,this.objectRef);if("string"==typeof e){var i=new o.ViewController(e);return i.willMoveToParentViewController(void 0),i.didMoveToParentViewController(void 0),i}},e.prototype.popToViewController=function(t,e){return void 0===e&&(e=!0),_XTUINavigationController.xtr_popToViewController(t.objectRef,e,this.objectRef).map(function(t){var e=new o.ViewController(t);return e.willMoveToParentViewController(void 0),e.didMoveToParentViewController(void 0),e})},e.prototype.popToRootViewController=function(t){return void 0===t&&(t=!0),_XTUINavigationController.xtr_popToViewController(this.childViewControllers[0].objectRef,t,this.objectRef).map(function(t){var e=new o.ViewController(t);return e.willMoveToParentViewController(void 0),e.didMoveToParentViewController(void 0),e})},e}(o.ViewController);e.NavigationController=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(3),s=i(1),a=i(23);!function(t){t[t.Never=0]="Never",t[t.WhileEditing=1]="WhileEditing",t[t.UnlessEditing=2]="UnlessEditing",t[t.Always=3]="Always"}(r=e.TextFieldViewMode||(e.TextFieldViewMode={}));var c;!function(t){t[t.Default=0]="Default",t[t.ASCIICapable=1]="ASCIICapable",t[t.NumbersAndPunctuation=2]="NumbersAndPunctuation"}(c=e.KeyboardType||(e.KeyboardType={}));var l;!function(t){t[t.Default=0]="Default",t[t.Go=1]="Go",t[t.Next=4]="Next",t[t.Search=6]="Search",t[t.Send=7]="Send",t[t.Done=9]="Done"}(l=e.ReturnKeyType||(e.ReturnKeyType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textColor=new s.Color(0,0,0),e.textAlignment=a.TextAlignment.Left,e.placeholderColor=s.Color.colorWithWhite(.7,1),e.clearsOnBeginEditing=!1,e.editing=!1,e.clearButtonMode=r.Never,e.leftViewMode=r.Never,e.rightViewMode=r.Never,e.allowAutocapitalization=!0,e.allowAutocorrection=!0,e.allowSpellChecking=!0,e.keyboardType=c.Default,e.returnKeyType=l.Default,e.enablesReturnKeyAutomatically=!1,e.secureTextEntry=!1,e.shouldBeginEditing=void 0,e.didBeginEditing=void 0,e.shouldEndEditing=void 0,e.didEndEditing=void 0,e.shouldChange=void 0,e.shouldClear=void 0,e.shouldReturn=void 0,e}return n(e,t),e.prototype.focus=function(){},e.prototype.blur=function(){},e}(o.View);e.TextField=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(2),a=i(4),c=i(13),l=i(7),u=function(t){function e(e){var i=t.call(this,e||_XTUITextField)||this;return i.shouldBeginEditing=void 0,i.didBeginEditing=void 0,i.shouldEndEditing=void 0,i.didEndEditing=void 0,i.shouldChange=void 0,i.shouldClear=void 0,i.shouldReturn=void 0,i}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.TextField",text:this.text,font:this.font,textColor:this.textColor,textAlignment:this.textAlignment,placeholder:this.placeholder,placeholderColor:this.placeholderColor,clearsOnBeginEditing:this.clearsOnBeginEditing,editing:this.editing,clearButtonMode:this.clearButtonMode,leftView:this.leftView,leftViewMode:this.leftViewMode,rightView:this.rightView,rightViewMode:this.rightViewMode,allowAutocapitalization:this.allowAutocapitalization,allowAutocorrection:this.allowAutocorrection,allowSpellChecking:this.allowSpellChecking,keyboardType:this.keyboardType,returnKeyType:this.returnKeyType,enablesReturnKeyAutomatically:this.enablesReturnKeyAutomatically,secureTextEntry:this.secureTextEntry})},Object.defineProperty(e.prototype,"text",{get:function(){return _XTUITextField.xtr_text(this.objectRef)},set:function(t){_XTUITextField.xtr_setText(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return new a.Font(_XTUITextField.xtr_font(this.objectRef))},set:function(t){_XTUITextField.xtr_setFont(t.objectRef,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return _XTUITextField.xtr_textColor(this.objectRef)},set:function(t){_XTUITextField.xtr_setTextColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlignment",{get:function(){return _XTUITextField.xtr_textAlignment(this.objectRef)},set:function(t){_XTUITextField.xtr_setTextAlignment(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return _XTUITextField.xtr_placeholder(this.objectRef)},set:function(t){_XTUITextField.xtr_setPlaceholder(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderColor",{get:function(){return _XTUITextField.xtr_placeholderColor(this.objectRef)},set:function(t){_XTUITextField.xtr_setPlaceholderColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clearsOnBeginEditing",{get:function(){return _XTUITextField.xtr_clearsOnBeginEditing(this.objectRef)},set:function(t){_XTUITextField.xtr_setClearsOnBeginEditing(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editing",{get:function(){return _XTUITextField.xtr_editing(this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.requestClearView=function(){var t=this,e=new c.Button;return e.frame=s.RectMake(0,0,36,44),e.image=l.Image.fromBase64("iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABjUExURUdwTKqqqo+OlZGRto+OlZOTmY+OlY+OlJCQlpCQlZGOlpGRnZCQmY+OlJCOlJCOlI+OlI+OlJCOlI+OlJCOlI+OlI+PlI+OlI+OlI+OlI+PlI+OlP///4+OlI+PlY+PlI+OlI/lPb8AAAAgdFJOUwAG4AfzLcP7VS5mFR7Zob+l/Y/eiPd89vXum/AB+HuJvx1C8wAAASxJREFUOMuVlUeigzAMRAWYXkMnEKL7n/LzaRaOKZoVwm+hMpYBjrLHLI2FiNNstOFCdl4gUZGf0VHyQkWvJNKARvlBjarSUMnQwRM54ZH0TTyV6R9IgRcShA1NvJS552A4eCNnq+2LtyrXflb3aLX0N5F/mp6ed638TuZpyhm9rSFwt8ANwHrLuf3PON/D1ppCb2VdbwqsZj/Mp1A6pJvzWdiZhEEmVEzdJ8kFO7uQEJBDH2oSrYDn7h/ksIYMNayGxAxS1LAaElOI8YRVSIxB9dTGqiQKDspIgFEWo1mPRzA+H6xN7dL/2AU6ahdiwubXhO3BhAdrA7X2oFqbXpi2ozX3jXJhIPo8voaMy81ZGYxFxFlvnKXJWcWcBc95NliP0VJfvT1xtVIN/AEiR40jdo0zSQAAAABJRU5ErkJggg==",3),e.onTap=function(){_XTUITextField.xtr_onClearButtonTap(t.objectRef)},e.objectRef},Object.defineProperty(e.prototype,"clearButtonMode",{get:function(){return _XTUITextField.xtr_clearButtonMode(this.objectRef)},set:function(t){_XTUITextField.xtr_setClearButtonMode(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftView",{get:function(){var t=_XTUITextField.xtr_leftView(this.objectRef);if("string"==typeof t)return new o.View(t)},set:function(t){_XTUITextField.xtr_setLeftView(t?t.objectRef:"",this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftViewMode",{get:function(){return _XTUITextField.xtr_leftViewMode(this.objectRef)},set:function(t){_XTUITextField.xtr_setLeftViewMode(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightView",{get:function(){var t=_XTUITextField.xtr_rightView(this.objectRef);if("string"==typeof t)return new o.View(t)},set:function(t){_XTUITextField.xtr_setRightView(t?t.objectRef:"",this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightViewMode",{get:function(){return _XTUITextField.xtr_rightViewMode(this.objectRef,this.objectRef)},set:function(t){_XTUITextField.xtr_setRightViewMode(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowAutocapitalization",{get:function(){return _XTUITextField.xtr_allowAutocapitalization(this.objectRef)},set:function(t){_XTUITextField.xtr_setAllowAutocapitalization(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowAutocorrection",{get:function(){return _XTUITextField.xtr_allowAutocorrection(this.objectRef)},set:function(t){_XTUITextField.xtr_setAllowAutocorrection(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSpellChecking",{get:function(){return _XTUITextField.xtr_allowSpellChecking(this.objectRef)},set:function(t){_XTUITextField.xtr_setAllowSpellChecking(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardType",{get:function(){return _XTUITextField.xtr_keyboardType(this.objectRef)},set:function(t){_XTUITextField.xtr_setKeyboardType(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"returnKeyType",{get:function(){return _XTUITextField.xtr_returnKeyType(this.objectRef)},set:function(t){_XTUITextField.xtr_setReturnKeyType(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enablesReturnKeyAutomatically",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureTextEntry",{get:function(){return _XTUITextField.xtr_secureTextEntry(this.objectRef)},set:function(t){t&&(this.allowAutocapitalization=!1,this.allowAutocorrection=!1,this.allowSpellChecking=!1),_XTUITextField.xtr_setSecureTextEntry(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.handleShouldBeginEditing=function(){return!this.shouldBeginEditing||this.shouldBeginEditing()},e.prototype.handleDidBeginEditing=function(){this.didBeginEditing&&this.didBeginEditing()},e.prototype.handleShouldEndEditing=function(){return!this.shouldEndEditing||this.shouldEndEditing()},e.prototype.handleDidEndEditing=function(){this.didEndEditing&&this.didEndEditing()},e.prototype.handleShouldChange=function(t,e){return!this.shouldChange||this.shouldChange(t,e)},e.prototype.handleShouldClear=function(){return!this.shouldClear||this.shouldClear()},e.prototype.handleShouldReturn=function(){return!this.shouldReturn||this.shouldReturn()},e.prototype.focus=function(){_XTUITextField.xtr_focus(this.objectRef)},e.prototype.blur=function(){_XTUITextField.xtr_blur(this.objectRef)},e}(o.View);e.TextField=u},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=i(4),a=function(t){function e(e){var i=t.call(this,e||_XTUITextView)||this;return i.shouldBeginEditing=void 0,i.didBeginEditing=void 0,i.shouldEndEditing=void 0,i.didEndEditing=void 0,i.shouldChange=void 0,i.shouldClear=void 0,i.shouldReturn=void 0,i}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.TextView",text:this.text,font:this.font,textColor:this.textColor,textAlignment:this.textAlignment,editing:this.editing,allowAutocapitalization:this.allowAutocapitalization,allowAutocorrection:this.allowAutocorrection,allowSpellChecking:this.allowSpellChecking,keyboardType:this.keyboardType,returnKeyType:this.returnKeyType,enablesReturnKeyAutomatically:this.enablesReturnKeyAutomatically,secureTextEntry:this.secureTextEntry})},Object.defineProperty(e.prototype,"text",{get:function(){return _XTUITextView.xtr_text(this.objectRef)},set:function(t){_XTUITextView.xtr_setText(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return new s.Font(_XTUITextView.xtr_font(this.objectRef))},set:function(t){_XTUITextView.xtr_setFont(t.objectRef,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return _XTUITextView.xtr_textColor(this.objectRef)},set:function(t){_XTUITextView.xtr_setTextColor(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlignment",{get:function(){return _XTUITextView.xtr_textAlignment(this.objectRef)},set:function(t){_XTUITextView.xtr_setTextAlignment(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editing",{get:function(){return _XTUITextView.xtr_editing(this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowAutocapitalization",{get:function(){return _XTUITextView.xtr_allowAutocapitalization(this.objectRef)},set:function(t){_XTUITextView.xtr_setAllowAutocapitalization(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowAutocorrection",{get:function(){return _XTUITextView.xtr_allowAutocorrection(this.objectRef)},set:function(t){_XTUITextView.xtr_setAllowAutocorrection(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSpellChecking",{get:function(){return _XTUITextView.xtr_allowSpellChecking(this.objectRef)},set:function(t){_XTUITextView.xtr_setAllowSpellChecking(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardType",{get:function(){return _XTUITextView.xtr_keyboardType(this.objectRef)},set:function(t){_XTUITextView.xtr_setKeyboardType(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"returnKeyType",{get:function(){return _XTUITextView.xtr_returnKeyType(this.objectRef)},set:function(t){_XTUITextView.xtr_setReturnKeyType(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enablesReturnKeyAutomatically",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secureTextEntry",{get:function(){return _XTUITextView.xtr_secureTextEntry(this.objectRef)},set:function(t){t&&(this.allowAutocapitalization=!1,this.allowAutocorrection=!1,this.allowSpellChecking=!1),_XTUITextView.xtr_setSecureTextEntry(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.handleShouldBeginEditing=function(){return!this.shouldBeginEditing||this.shouldBeginEditing()},e.prototype.handleDidBeginEditing=function(){this.didBeginEditing&&this.didBeginEditing()},e.prototype.handleShouldEndEditing=function(){return!this.shouldEndEditing||this.shouldEndEditing()},e.prototype.handleDidEndEditing=function(){this.didEndEditing&&this.didEndEditing()},e.prototype.handleShouldChange=function(t,e){return!this.shouldChange||this.shouldChange(t,e)},e.prototype.handleShouldClear=function(){return!this.shouldClear||this.shouldClear()},e.prototype.handleShouldReturn=function(){return!this.shouldReturn||this.shouldReturn()},e.prototype.focus=function(){_XTUITextView.xtr_focus(this.objectRef)},e.prototype.blur=function(){_XTUITextView.xtr_blur(this.objectRef)},e}(o.View);e.TextView=a},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=function(t){function e(e){return t.call(this,e||_XTUICanvasView)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.CanvasView",globalAlpha:this.globalAlpha,fillStyle:this.fillStyle,strokeStyle:this.strokeStyle,lineCap:this.lineCap,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit})},Object.defineProperty(e.prototype,"globalAlpha",{get:function(){return _XTUICanvasView.xtr_globalAlpha(this.objectRef)},set:function(t){_XTUICanvasView.xtr_setGlobalAlpha(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillStyle",{get:function(){return _XTUICanvasView.xtr_fillStyle(this.objectRef)},set:function(t){_XTUICanvasView.xtr_setFillStyle(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeStyle",{get:function(){return _XTUICanvasView.xtr_strokeStyle(this.objectRef)},set:function(t){_XTUICanvasView.xtr_setStrokeStyle(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return _XTUICanvasView.xtr_lineCap(this.objectRef)},set:function(t){_XTUICanvasView.xtr_setLineCap(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return _XTUICanvasView.xtr_lineJoin(this.objectRef)},set:function(t){_XTUICanvasView.xtr_setLineJoin(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return _XTUICanvasView.xtr_lineWidth(this.objectRef)},set:function(t){_XTUICanvasView.xtr_setLineWidth(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return _XTUICanvasView.xtr_miterLimit(this.objectRef)},set:function(t){_XTUICanvasView.xtr_setMiterLimit(t,this.objectRef)},enumerable:!0,configurable:!0}),e.prototype.rect=function(t,e,i,n){_XTUICanvasView.xtr_rect({x:t,y:e,width:i,height:n},this.objectRef)},e.prototype.fillRect=function(t,e,i,n){_XTUICanvasView.xtr_fillRect({x:t,y:e,width:i,height:n},this.objectRef)},e.prototype.strokeRect=function(t,e,i,n){_XTUICanvasView.xtr_strokeRect({x:t,y:e,width:i,height:n},this.objectRef)},e.prototype.fill=function(){_XTUICanvasView.xtr_fill(this.objectRef)},e.prototype.stroke=function(){_XTUICanvasView.xtr_stroke(this.objectRef)},e.prototype.beginPath=function(){_XTUICanvasView.xtr_beginPath(this.objectRef)},e.prototype.moveTo=function(t,e){_XTUICanvasView.xtr_moveTo({x:t,y:e},this.objectRef)},e.prototype.closePath=function(){_XTUICanvasView.xtr_closePath(this.objectRef)},e.prototype.lineTo=function(t,e){_XTUICanvasView.xtr_lineTo({x:t,y:e},this.objectRef)},e.prototype.quadraticCurveTo=function(t,e,i,n){_XTUICanvasView.xtr_quadraticCurveTo({x:t,y:e},{x:i,y:n},this.objectRef)},e.prototype.bezierCurveTo=function(t,e,i,n,r,o){_XTUICanvasView.xtr_bezierCurveTo({x:t,y:e},{x:i,y:n},{x:r,y:o},this.objectRef)},e.prototype.arc=function(t,e,i,n,r,o){void 0===o&&(o=!1),_XTUICanvasView.xtr_arc({x:t,y:e},i,n,r,o,this.objectRef)},e.prototype.postScale=function(t,e){_XTUICanvasView.xtr_postScale({x:t,y:e},this.objectRef)},e.prototype.postRotate=function(t){_XTUICanvasView.xtr_postRotate(t,this.objectRef)},e.prototype.postTranslate=function(t,e){_XTUICanvasView.xtr_postTranslate({x:t,y:e},this.objectRef)},e.prototype.postTransform=function(t,e,i,n,r,o){_XTUICanvasView.xtr_postTransform({a:t,b:e,c:i,d:n,tx:r,ty:o},this.objectRef)},e.prototype.setTransform=function(t,e,i,n,r,o){_XTUICanvasView.xtr_setCanvasTransform({a:t,b:e,c:i,d:n,tx:r,ty:o},this.objectRef)},e.prototype.save=function(){_XTUICanvasView.xtr_save(this.objectRef)},e.prototype.restore=function(){_XTUICanvasView.xtr_restore(this.objectRef)},e.prototype.isPointInPath=function(t,e){return _XTUICanvasView.xtr_isPointInPath({x:t,y:e},this.objectRef)},e.prototype.clear=function(){_XTUICanvasView.xtr_clear(this.objectRef)},e}(o.View);e.CanvasView=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t,"deviceName",{get:function(){return _XTUIDevice.xtr_name()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"systemName",{get:function(){return _XTUIDevice.xtr_systemName()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"systemVersion",{get:function(){return _XTUIDevice.xtr_systemVersion()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"model",{get:function(){return _XTUIDevice.xtr_model()},enumerable:!0,configurable:!0}),t}();e.Device=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.measureText=function(t,e){return e.font&&(e.font=e.font.objectRef),_XTUITextMeasurer.measureText(t,e)},t}();e.TextMeasurer=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.message=t,this.buttonTitle="好的"}return t.prototype.show=function(t){_XTUIModal.showAlert({message:this.message,buttonTitle:this.buttonTitle},t)},t}();e.Alert=n;var r=function(){function t(t){this.message=t,this.confirmTitle="确认",this.cancelTitle="取消"}return t.prototype.show=function(t,e){_XTUIModal.showConfirm({message:this.message,confirmTitle:this.confirmTitle,cancelTitle:this.cancelTitle},t,e)},t}();e.Confirm=r;var o=function(){function t(t){this.message=t,this.confirmTitle="确认",this.cancelTitle="取消"}return t.prototype.show=function(t,e){_XTUIModal.showPrompt({message:this.message,confirmTitle:this.confirmTitle,cancelTitle:this.cancelTitle,placeholder:this.placeholder,defaultValue:this.defaultValue},t,e)},t}();e.Prompt=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=function(t){function e(e){return t.call(this,e||_XTUIWebView)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.WebView"})},e.prototype.load=function(t){_XTUIWebView.xtr_loadWithURLString(t,this.objectRef)},e.prototype.handleStart=function(){this.onStart&&this.onStart()},e.prototype.handleFinish=function(){this.onFinish&&this.onFinish()},e.prototype.handleFail=function(t){this.onFail&&this.onFail(new Error(t))},e}(o.View);e.WebView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=function(t){function e(e){return void 0===e&&(e=void 0),t.call(this,e||_XTUISwitch)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.Switch",on:this.on})},Object.defineProperty(e.prototype,"on",{get:function(){return _XTUISwitch.xtr_on(this.objectRef)},set:function(t){this.setOn(t,!1)},enumerable:!0,configurable:!0}),e.prototype.setOn=function(t,e){_XTUISwitch.xtr_setOn(t,e,this.objectRef)},e.prototype.handleValueChanged=function(){this.onValueChanged&&this.onValueChanged(this)},e}(o.View);e.Switch=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=function(t){function e(e){return void 0===e&&(e=void 0),t.call(this,e||_XTUISlider)||this}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.Slider",value:this.value})},Object.defineProperty(e.prototype,"value",{get:function(){return _XTUISlider.xtr_value(this.objectRef)},set:function(t){this.setValue(t,!1)},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){_XTUISlider.xtr_setValue(t,e,this.objectRef)},e.prototype.handleValueChanged=function(){this.onValueChanged&&this.onValueChanged(this)},e}(o.View);e.Slider=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r,o=i(3);!function(t){t[t.Regular=0]="Regular",t[t.Large=1]="Large"}(r=e.ActivityIndicatorViewStyle||(e.ActivityIndicatorViewStyle={}));var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.style=r.Regular,e.animating=!1,e.hidesWhenStopped=!0,e}return n(e,t),e.prototype.startAnimating=function(t){void 0===t&&(t=0)},e.prototype.stopAnimating=function(){},e}(o.View);e.ActivityIndicatorView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),s=function(t){function e(e){var i=t.call(this,e||_XTUIActivityIndicatorView)||this;return i.userInteractionEnabled=!1,i}return n(e,t),e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.ActivityIndicatorView",style:this.style,animating:this.animating,hidesWhenStopped:this.hidesWhenStopped})},Object.defineProperty(e.prototype,"style",{get:function(){return _XTUIActivityIndicatorView.xtr_style(this.objectRef)},set:function(t){_XTUIActivityIndicatorView.xtr_setStyle(t,this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animating",{get:function(){return _XTUIActivityIndicatorView.xtr_animating(this.objectRef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hidesWhenStopped",{get:function(){return!0},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.startAnimating=function(){_XTUIActivityIndicatorView.xtr_startAnimating(this.objectRef)},e.prototype.stopAnimating=function(){_XTUIActivityIndicatorView.xtr_stopAnimating(this.objectRef)},e}(o.View);e.ActivityIndicatorView=s},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),o=function(t){function e(e){var i=t.call(this,e||_XTUIExtView)||this;return void 0===e&&_XTUIExtView.xtr_initWithViewClass(i.constructor.className,i.objectRef),i}return n(e,t),Object.defineProperty(e,"className",{get:function(){return this._className},set:function(t){this._className=t,this.register()},enumerable:!0,configurable:!0}),e.register=function(){e[this.className]=this},e.prototype.defineFunction=function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);return _XTUIExtView.xtr_callMethod(t,e,this.objectRef)}},e.prototype.defineProperty=function(t,e){var i=this;return void 0===e&&(e=void 0),Object.defineProperty(this,t,{get:function(){return _XTUIExtView.xtr_getValue(t,i.objectRef)},set:function(e){_XTUIExtView.xtr_setValue(e,t,i.objectRef)}}),e},e}(r.View);e.ExtView=o},function(t,e,i){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__assign||Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++){e=arguments[i];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=i(8),s=i(2),a=i(0),c=i(29),l=i(10),u=i(15),h=i(27),f=function(t){function e(e){void 0===e&&(e=void 0);var i=t.call(this,e)||this;return i.selectionView=new a.View,i.contentView=new a.View,i._isBusy=!1,i.selectionView.alpha=0,i.addSubview(i.selectionView),i.addSubview(i.contentView),i.userInteractionEnabled=!0,i.longPressDuration=.05,i.onTap=function(){i.highligted=!0,i.selectionView.hidden=!1,i.didSelected(),setTimeout(function(){a.View.animationWithDuration(.15,function(){i.highligted=!1},function(){i.selectionView.hidden=!0})},250)},i.onLongPress=function(t){t==a.InteractionState.Began?(i.highligted=!0,i.selectionView.hidden=!1):t==a.InteractionState.Ended?(i.didSelected(),a.View.animationWithDuration(.15,function(){i.highligted=!1},function(){i.selectionView.hidden=!0})):t==a.InteractionState.Cancelled&&(i.highligted=!1,i.selectionView.hidden=!0)},i.gestureRecongnizers.forEach(function(t){t instanceof l.LongPressGestureRecognizer&&(t.cancellable=!0)}),i}return n(e,t),e.prototype.didHighlighted=function(t){},e.prototype.didSelected=function(){},e.prototype.didRender=function(){},e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),this.selectionView.frame=this.bounds,this.contentView.frame=this.bounds},Object.defineProperty(e.prototype,"highligted",{set:function(t){this.didHighlighted(t),this.selectionView.alpha=t?1:0},enumerable:!0,configurable:!0}),e}(a.View);e.CollectionCell=f;var p;!function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(p=e.CollectionViewScrollDirection||(e.CollectionViewScrollDirection={}));var d=function(){function t(t){this.collectionView=t,this.itemFrames=[],this.contentSize={width:0,height:0}}return t.prototype.reload=function(){var t=this;if(this.contentSize.width=0,this.contentSize.height=0,this.collectionView.scrollDirection===p.Vertical){var e=this.collectionView.bounds.width-this.collectionView.sectionInsets.left-this.collectionView.sectionInsets.right,i=this.collectionView.flatItems.map(function(e){return e.itemSize(t.collectionView.bounds.width,t.collectionView.bounds.height)}),n=i.length>0&&i.every(function(t){return t.width==i[0].width&&t.height==i[0].height}),r=!1,o=0,a=0,c=0,l=0,u=0,h=0,f=-1,d=void 0;this.itemFrames=i.map(function(p,g){if(g>f&&(r=!0,o=0,f>-1&&(a+=c+t.collectionView.lineSpacing)),r){u=(e-l)/(f-h),l=0,c=0,h=g,f=g;for(var y=0,b=g;b<i.length;b++){var v=i[b];if(c=Math.max(c,v.height),l+=v.width,(y+=t.collectionView.itemSpacing+v.width)>e){f=b;break}if(b+1<i.length&&y+i[b+1].width>e){f=b;break}f=1/0}r=!1}if(t.collectionView.flatSegments.indexOf(g)>=0){var w=t.collectionView.flatSegments.indexOf(g),_=t.collectionView.sectionsItems[w];a+=w>0?t.collectionView.sectionInsets.bottom:0,d&&(d.frame=s.RectMake(0,a,t.collectionView.bounds.width,d.frame.height)),a+=d?d.frame.height:0,_.headerView&&(_.headerView.frame=s.RectMake(0,a,t.collectionView.bounds.width,_.headerView.frame.height),a+=_.headerView.frame.height),d=_.footerView?_.footerView:void 0}var m=s.RectMake(t.collectionView.sectionInsets.left+o,t.collectionView.sectionInsets.top+a+(c-p.height)/2,p.width,p.height);return t.contentSize.width=Math.max(t.contentSize.width,m.x+m.width+t.collectionView.sectionInsets.right),t.contentSize.height=Math.max(t.contentSize.height,m.y+m.height+t.collectionView.sectionInsets.bottom),f===1/0?o+=n?m.width+u:m.width+t.collectionView.itemSpacing:f-h>0&&(o+=m.width+(e-l)/(f-h)),m}),d&&(d.frame=s.RectMake(0,this.contentSize.height,this.collectionView.bounds.width,d.frame.height),this.contentSize.height+=d.frame.height)}else if(this.collectionView.scrollDirection===p.Horizontal){var g=this.collectionView.bounds.height-this.collectionView.sectionInsets.top-this.collectionView.sectionInsets.bottom,y=this.collectionView.flatItems.map(function(e){return e.itemSize(t.collectionView.bounds.width,t.collectionView.bounds.height)}),b=y.length>0&&y.every(function(t){return t.width==y[0].width&&t.height==y[0].height}),v=!1,w=0,_=0,m=0,x=0,V=0,T=0,I=-1,C=void 0;this.itemFrames=y.map(function(e,i){if(i>I&&(v=!0,_=0,I>-1&&(w+=m+t.collectionView.lineSpacing)),v){V=(g-x)/(I-T),x=0,m=0,T=i,I=i;for(var n=0,r=i;r<y.length;r++){var o=y[r];if(m=Math.max(m,o.width),x+=o.height,(n+=t.collectionView.itemSpacing+o.height)>g){I=r;break}if(r+1<y.length&&n+y[r+1].height>g){I=r;break}I=1/0}v=!1}if(t.collectionView.flatSegments.indexOf(i)>=0){var a=t.collectionView.flatSegments.indexOf(i),c=t.collectionView.sectionsItems[a];w+=a>0?t.collectionView.sectionInsets.right+m:0,_=0,w+=a>0?t.collectionView.sectionInsets.right:0,C&&(C.frame=s.RectMake(w,0,C.frame.width,t.collectionView.bounds.height),w+=C.frame.width),c.headerView&&(c.headerView.frame=s.RectMake(w,0,c.headerView.frame.width,t.collectionView.bounds.height),w+=c.headerView.frame.width),C=c.footerView?c.footerView:void 0}var l=s.RectMake(t.collectionView.sectionInsets.left+w+(m-e.width)/2,t.collectionView.sectionInsets.top+_,e.width,e.height);return t.contentSize.width=Math.max(t.contentSize.width,l.x+l.width+t.collectionView.sectionInsets.right),t.contentSize.height=Math.max(t.contentSize.height,l.y+l.height+t.collectionView.sectionInsets.bottom),I===1/0?_+=b?l.height+V:l.height+t.collectionView.itemSpacing:I-T>0&&(_+=l.height+(g-x)/(I-T)),l}),C&&(C.frame=s.RectMake(this.contentSize.width,0,C.frame.width,this.collectionView.bounds.height),this.contentSize.width+=C.frame.width)}},t}(),g=function(t){function e(){var e=t.call(this)||this;return e.layout=new d(e),e._previousBounds=e.bounds,e._scrollDirection=p.Vertical,e.items=[],e.flatSegments=[],e.reuseMapping={},e.reuseContexts={},e.sectionInsets=s.InsetsMake(0,0,0,0),e.lineSpacing=0,e.itemSpacing=0,e._reusingCells=[],e._refreshControl=void 0,e.refreshing=!1,e._loadMoreControl=void 0,e.alwaysBounceVertical=!0,e}return n(e,t),e.prototype.layoutSubviews=function(){t.prototype.layoutSubviews.call(this),s.RectEqual(this._previousBounds,this.bounds)||(this.refreshAnimationView&&(this.refreshAnimationView.frame=s.RectMake(0,0,this.bounds.width,44)),this._previousBounds=this.bounds,this.reloadData())},e.prototype.toObject=function(){return r({},t.prototype.toObject.call(this),{class:"UI.CollectionView",items:this.items,subviews:void 0})},Object.defineProperty(e.prototype,"scrollDirection",{get:function(){return this._scrollDirection},set:function(t){this._scrollDirection=t,this.showsVerticalScrollIndicator=t===p.Vertical,this.showsHorizontalScrollIndicator=t===p.Horizontal},enumerable:!0,configurable:!0}),e.prototype.register=function(t,e,i){void 0===i&&(i=void 0),this.reuseMapping[e]=t,this.reuseContexts[e]=i},e.prototype.reloadData=function(){var t=this;this.subviews.forEach(function(t){!0===t.__is__header__&&t.removeFromSuperview(),!0===t.__is__footer__&&t.removeFromSuperview()}),this._reusingCells.forEach(function(t){return t._isBusy=!1}),this.sectionsItems=[];var e=new c.CollectionSection;this.flatItems=[],this.flatSegments=[],this.items.forEach(function(i){i instanceof c.CollectionSection?(e=new c.CollectionSection,i.headerView&&(i.headerView.retain(t),i.headerView.__is__header__=!0,t.addSubview(i.headerView)),i.footerView&&(i.footerView.retain(t),i.footerView.__is__header__=!0,t.addSubview(i.footerView)),t.flatSegments.push(t.flatItems.length),i.items.forEach(function(e){t.flatItems.push(e)}),t.sectionsItems.push(i)):(t.sectionsItems.indexOf(e)<0&&(t.sectionsItems.push(e),t.flatSegments.push(t.flatItems.length)),e.items.push(i),t.flatItems.push(i))}),this.layout.reload(),this.contentSize=s.SizeMake(this.layout.contentSize.width,this.layout.contentSize.height),this.reloadVisibleItems()},e.prototype.scrollerDidScroll=function(){t.prototype.scrollerDidScroll.call(this),void 0!==this._reusingCells&&this.reloadVisibleItems(),this.scrollDirection==p.Vertical?this.contentOffset.y+this.bounds.height>this.contentSize.height-200&&this.listViewWillTriggerLoadMoreControl():this.scrollDirection==p.Horizontal&&this.contentOffset.x+this.bounds.width>this.contentSize.width-200&&this.listViewWillTriggerLoadMoreControl()},e.prototype.reloadVisibleItems=function(){var t=this,e=r({},this.contentOffset),i=this.contentSize,n=this.bounds;e.y=Math.max(0,Math.min(i.height-n.height,e.y)),this.markInvisibleCellNoBusy(e,n);var o=[],a=s.RectMake(e.x,e.y,n.width,n.height);this.layout.itemFrames.forEach(function(t,e){t.x+t.width>=a.x&&t.x<=a.x+a.width&&t.y+t.height>=a.y&&t.y<=a.y+a.height&&o.push(e)}),o.filter(function(e){return 0==t._reusingCells.filter(function(i){return i._isBusy&&i.currentItem===t.flatItems[e]}).length}).map(function(e){var i=t.flatItems[e],n=t._reusingCells.filter(function(t){return!t._isBusy&&t.reuseIdentifier===i.reuseIdentifier})[0]||(void 0!==t.reuseMapping[i.reuseIdentifier]?new t.reuseMapping[i.reuseIdentifier]:void 0)||new f;return n.reuseIdentifier=i.reuseIdentifier,n.context=t.reuseContexts[i.reuseIdentifier],n.frame=t.layout.itemFrames[e],n._isBusy=!0,n.currentItem=i,n.didRender(),t._reusingCells.indexOf(n)<0&&t._reusingCells.push(n),n}).forEach(function(e){void 0==e.superview&&t.addSubview(e)})},e.prototype.markInvisibleCellNoBusy=function(t,e){var i=this.contentSize;if(this.scrollDirection==p.Horizontal){if(t.x<0)return;if(t.x>i.width-e.width)return;this._reusingCells.filter(function(i){if(i._isBusy){var n=i.frame;return n.x+n.width<t.x||n.x>t.x+e.width}return!1}).forEach(function(t){t._isBusy=!1})}else if(this.scrollDirection==p.Vertical){if(t.y<0)return;if(t.y>i.height-e.height)return;this._reusingCells.filter(function(i){if(i._isBusy){var n=i.frame;return n.y+n.height<t.y||n.y>t.y+e.height}return!1}).forEach(function(t){t._isBusy=!1})}},Object.defineProperty(e.prototype,"refreshControl",{get:function(){return this._refreshControl},set:function(t){this._refreshControl=t,this.scroller.refreshEnabled=t instanceof u.RefreshControl&&t.enabled,this.refreshAnimationView&&this.refreshAnimationView.removeFromSuperview(),t&&(t.listView=this,this.refreshAnimationView=new h.RefreshAnimationView,this.refreshAnimationView.color=t.color,this._addSubview(this.refreshAnimationView),this.refreshAnimationView.frame=s.RectMake(0,0,this.bounds.width,44),this.refreshAnimationView.alpha=0)},enumerable:!0,configurable:!0}),e.prototype.scrollerWillRefresh=function(e){t.prototype.scrollerWillRefresh.call(this,e),this.refreshControl&&this.refreshAnimationView&&(this.refreshAnimationView.alpha=e)},e.prototype.scrollerRefreshing=function(){t.prototype.scrollerRefreshing.call(this),this.refreshing=!0},e.prototype.scrollerWillBeginDecelerating=function(){t.prototype.scrollerWillBeginDecelerating.call(this),this.refreshControl&&this.refreshAnimationView&&(this.refreshing||(this.refreshAnimationView.alpha=0))},e.prototype.scrollerDidEndDecelerating=function(){t.prototype.scrollerDidEndDecelerating.call(this),this.refreshControl&&this.refreshAnimationView&&(this.refreshing?(this.refreshControl.handleRefresh(),this.refreshAnimationView.startAnimation()):this.refreshAnimationView.alpha=0)},e.prototype.endRefreshing=function(){this.refreshing=!1,this.refreshAnimationView&&(this.refreshAnimationView.stopAnimation(),this.refreshAnimationView.alpha=0,this.scroller.endRefreshing())},Object.defineProperty(e.prototype,"loadMoreControl",{get:function(){return this._loadMoreControl},set:function(t){this._loadMoreControl=t,this.loadMoreAnimationView&&this.loadMoreAnimationView.removeFromSuperview(),t&&(t.listView=this,this.loadMoreAnimationView=new h.RefreshAnimationView,this.loadMoreAnimationView.color=t.color,this.loadMoreAnimationView.alpha=0,this.loadMoreAnimationView.retain(this))},enumerable:!0,configurable:!0}),e.prototype.listViewWillTriggerLoadMoreControl=function(){this.loadMoreControl&&this.loadMoreControl.enabled&&!this.loadMoreControl.isLoading&&this.loadMoreAnimationView&&(this.loadMoreControl.handleLoading(),this.loadMoreAnimationView.removeFromSuperview(),this.addSubview(this.loadMoreAnimationView),this.loadMoreAnimationView.frame=s.RectMake(0,this.contentSize.height,this.bounds.width,44),this.contentInset=r({},this.contentInset,{bottom:this.contentInset.bottom+44}),this.loadMoreAnimationView.startAnimation(),this.loadMoreAnimationView.alpha=1)},e.prototype.endMoreLoading=function(){this.loadMoreAnimationView&&(this.loadMoreAnimationView.stopAnimation(),this.loadMoreAnimationView.alpha=0,this.loadMoreAnimationView.removeFromSuperview(),this.contentInset=r({},this.contentInset,{bottom:this.contentInset.bottom-44}))},e}(o.ScrollView);e.CollectionView=g}])});