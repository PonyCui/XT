<html>

<head>
    <title>PixiJS Target</title>
</head>

<body style="margin: 0">
    <canvas id="myCanvas" style="width: 100%; height: 100%"></canvas>
    <script src="//cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.1/pixi.min.js"></script>
    <script src="/dist/xt.js"></script>
    <script>
        for (var aKey in XT) {
            window[aKey] = XT[aKey];
        }
        var application = new UIApplication(document.getElementById("myCanvas"), {
            applicationDidFinishLaunchingWithOptions: function () {
                var window = new UIWindow(UIScreen.mainScreen().bounds());
                window.backgroundColor = new UIColor(0, 0, 0);
                window.makeKeyAndVisible();

                var nView = new UIView({ x: 20, y: 20, width: 200, height: 200 });
                window.addSubview(nView);

                var testView = new UIView({ x: 20, y: 20, width: 200, height: 200 });
                testView.backgroundColor = new UIColor(1, 0, 0);
                nView.addSubview(testView);

                var testView2 = new UIView({ x: 44, y: 44, width: 88, height: 88 });
                testView2.backgroundColor = new UIColor(1, 1, 0);
                testView2.cornerRadius = 44;
                // testView.addSubview(testView2);

                // setTimeout(function() { testView2.removeFromSuperview(); }, 2000)
                
                setTimeout(function () {
                    testView.maskView = testView2;
                    testView.clipsToBounds = true;
                }, 1000)

                setTimeout(function () {
                    testView.maskView = undefined;
                    testView.clipsToBounds = true;
                }, 2000)

                // var testView3 = new UIView({ x: 30, y: 30, width: 200, height: 200 });
                // testView3.backgroundColor = new UIColor(1, 1, 1);
                // window.addSubview(testView3);
                // console.log(testView3.isDescendantOfView(testView));
            }
        })
    </script>
</body>

</html>