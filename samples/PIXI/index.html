<html>

<head>
    <title>PixiJS Target</title>
    <meta name="viewport" content="width=375, user-scalable=no" />
</head>

<body style="margin: 0">

    <canvas id="myCanvas"></canvas>
    <script src="//cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.4/pixi.min.js"></script>
    <script src="/dist/xt.pixi.js"></script>
    <script>
        // var DEBUG = true;
        for (var aKey in XT) {
            window["XT" + aKey] = XT[aKey];
        }
        var application = new XTApplication(document.getElementById("myCanvas"), {
            applicationDidFinishLaunchingWithOptions: function () {
                var window = new XTWindow(XTScreen.mainScreen().bounds());
                window.makeKeyAndVisible();
                window.backgroundColor = new XTColor(1, 1, 1)
                var listView = new XTListView();
                listView.renderItem = function (cell, item) {
                    if (item.text === "1") {
                        cell.backgroundColor = new XTColor(0.2, 0.2, 0.2)
                    }
                    else {
                        cell.backgroundColor = new XTColor(0.4, 0.4, 0.4)
                    }
                    cell.userInteractionEnabled = true
                    cell.onTap = function () {
                        cell.backgroundColor = new XTColor(1, 1, 0)
                    }
                }
                setTimeout(function () {
                    listView.items = [
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "1",
                        },
                        {
                            reuseIdentifier: "TestCell",
                            rowHeight: function (width) {
                                return 188;
                            },
                            text: "2",
                        },
                    ];
                }, 1000)
                window.addSubview(listView);
                window.addConstraints(XTLayoutConstraint.constraintsWithVisualFormat("|-0-[listView]-0-|", { listView: listView }));
                window.addConstraints(XTLayoutConstraint.constraintsWithVisualFormat("V:|-0-[listView]-0-|", { listView: listView }));
            }
        })
    </script>
</body>

</html>